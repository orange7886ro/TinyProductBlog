

Started GET "/products/" for ::1 at 2015-08-08 14:38:35 +0800

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  activerecord (4.2.0) lib/active_record/migration.rb:393:in `check_pending!'
  activerecord (4.2.0) lib/active_record/migration.rb:374:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (46.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (103.4ms)
  [1m[36m (5.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.2ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20150802073948)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150802073948"]]
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
Migrating to CollectionsAndProductions (20150802074408)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "products_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "collection_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer DEFAULT 0 NOT NULL, "product_id" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_collection_items_on_collection_id" ON "collection_items" ("collection_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_collection_items_on_product_id" ON "collection_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "collections_count" integer DEFAULT 0 NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_products_on_user_id" ON "products" ("user_id")[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "products_count" integer DEFAULT 0
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150802074408"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to CreateRoles (20150802081239)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "users_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "role_id" integer DEFAULT 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "SuperAdmin"], ["created_at", "2015-08-08 06:39:13.111570"], ["updated_at", "2015-08-08 06:39:13.111570"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ProductAdmin"], ["created_at", "2015-08-08 06:39:13.112937"], ["updated_at", "2015-08-08 06:39:13.112937"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "RegisteredUser"], ["created_at", "2015-08-08 06:39:13.114950"], ["updated_at", "2015-08-08 06:39:13.114950"]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'blog_admin@takobearnet.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "blog_admin@takobearnet.com"], ["encrypted_password", "$2a$10$ktVapOleBCkmqaXSo1KItuci2WnelQkkAa/MYmJZXPO8erZp4.2zu"], ["role_id", 1], ["created_at", "2015-08-08 06:39:13.231550"], ["updated_at", "2015-08-08 06:39:13.231550"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "roles" SET "users_count" = COALESCE("users_count", 0) + 1 WHERE "roles"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150802081239"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to AddMoreFieldToProducts (20150805030909)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "products" ADD "description" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "image" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150805030909"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to RemoveUniqueToProducts (20150805040325)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_products_on_user_id"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805040325"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to CreatePosts (20150805061843)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "is_public" boolean DEFAULT 't' NOT NULL, "image" varchar DEFAULT '' NOT NULL, "product_id" integer, "vote_count" integer DEFAULT 0 NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805061843"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to ThumbsUpMigration (20150805081457)
  [1m[35m (0.1ms)[0m  begin transaction
DEPRECATION WARNING: `#timestamp` was called without specifying an option for `null`. In Rails 5, this behavior will change to `null: false`. You should manually specify `null: true` to prevent the behavior of your existing migrations from changing. (called from block in up at /Users/sherylhsu/workspace/takobear/blog_hunt/BlogBasicTest/db/migrate/20150805081457_thumbs_up_migration.rb:8)
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "vote" boolean DEFAULT 'f' NOT NULL, "voteable_id" integer NOT NULL, "voteable_type" varchar NOT NULL, "voter_id" integer, "voter_type" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_votes_on_voter_id_and_voter_type" ON "votes" ("voter_id", "voter_type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_votes_on_voteable_id_and_voteable_type" ON "votes" ("voteable_id", "voteable_type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "fk_one_vote_per_user_per_entity" ON "votes" ("voter_id", "voter_type", "voteable_id", "voteable_type")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805081457"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateComments (20150805170018)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "post_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805170018"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m


Started GET "/products/" for ::1 at 2015-08-08 14:39:24 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
Completed 401 Unauthorized in 27ms


Started GET "/users/sign_in" for ::1 at 2015-08-08 14:39:24 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.7ms)
  Rendered devise/sessions/new.html.erb within layouts/application (61.3ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered common/_navbar.html.erb (15.3ms)
Completed 200 OK in 7428ms (Views: 7415.7ms | ActiveRecord: 0.4ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 14:39:31 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:39:31 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:39:31 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:39:31 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 14:39:31 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 14:39:32 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to ActsAsTaggableOnMigration (20150808064028)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "tags" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "taggings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tag_id" integer, "taggable_id" integer, "taggable_type" varchar, "tagger_id" integer, "tagger_type" varchar, "context" varchar(128), "created_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_taggings_on_tag_id" ON "taggings" ("tag_id")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150808064028"]]
  [1m[35m (5.5ms)[0m  commit transaction
Migrating to AddMissingUniqueIndices (20150808064029)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE UNIQUE INDEX "index_tags_on_name" ON "tags" ("name")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mDROP INDEX "index_taggings_on_tag_id"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1mDROP INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context"[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "taggings_idx" ON "taggings" ("tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150808064029"]]
  [1m[35m (1.8ms)[0m  commit transaction
Migrating to AddTaggingsCounterCacheToTags (20150808064030)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "tags" ADD "taggings_count" integer DEFAULT 0
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags"  ORDER BY "tags"."id" ASC LIMIT 1000[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808064030"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Migrating to AddMissingTaggableIndex (20150808064031)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  CREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150808064031"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to ChangeCollationForTagNames (20150808064032)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808064032"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'



Started GET "/users/sign_in" for ::1 at 2015-08-08 14:41:36 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (81.3ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered common/_navbar.html.erb (17.3ms)
Completed 200 OK in 564ms (Views: 538.7ms | ActiveRecord: 0.9ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 14:41:36 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 14:41:37 +0800


Started POST "/users/sign_in" for ::1 at 2015-08-08 14:41:39 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"P2TuWn1ISbfQ/+7ym1xxN077rashN64XylFXb8qiYggZhosJ+lQIs3a5uhtQF+NvR0MjY+OmBjWTMMuamecF/w==", "user"=>{"email"=>"blog_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "blog_admin@takobearnet.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", "2015-08-08 06:41:40.008800"], ["updated_at", "2015-08-08 06:41:40.010208"], ["id", 1]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2015-08-08 06:41:40.015279"], ["current_sign_in_at", "2015-08-08 06:41:40.015279"], ["last_sign_in_ip", "::1"], ["current_sign_in_ip", "::1"], ["sign_in_count", 1], ["updated_at", "2015-08-08 06:41:40.016910"], ["id", 1]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 156ms (ActiveRecord: 3.9ms)


Started GET "/products" for ::1 at 2015-08-08 14:41:40 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  Rendered user_products/index.html.erb within layouts/application (6.0ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (18.3ms)
Completed 200 OK in 219ms (Views: 198.4ms | ActiveRecord: 1.2ms)


Started GET "/products/new" for ::1 at 2015-08-08 14:41:46 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered user_products/new.html.erb within layouts/application (21.1ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 229ms (Views: 213.6ms | ActiveRecord: 0.8ms)


Started POST "/products" for ::1 at 2015-08-08 14:42:00 +0800
Processing by UserProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YYchUw0VT6ARXdiH3ing/0l4cVQ/lnQVktZZG8L6kacYa3dpxUrYmOM+euRql6T7UudDCVnCfuU49IT4Voz6KQ==", "product"=>{"title"=>"M9", "description"=>"123", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fc8a24174a0 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150808-10347-l55dpr.jpeg>, @original_filename="images_templerun.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"images_templerun.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "products" ("title", "image", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "M9"], ["image", "images_templerun.jpeg"], ["description", "123"], ["user_id", 1], ["created_at", "2015-08-08 06:42:00.938437"], ["updated_at", "2015-08-08 06:42:00.938437"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/products.1
Completed 302 Found in 245ms (ActiveRecord: 2.1ms)


Started GET "/products.1" for ::1 at 2015-08-08 14:42:00 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (12.2ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 185ms (Views: 181.2ms | ActiveRecord: 1.4ms)


Started GET "/products/new" for ::1 at 2015-08-08 14:42:03 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered user_products/new.html.erb within layouts/application (9.2ms)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.6ms)
Completed 200 OK in 150ms (Views: 146.7ms | ActiveRecord: 0.6ms)


Started POST "/products" for ::1 at 2015-08-08 14:42:14 +0800
Processing by UserProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"VFXDQ0RzDShpoDUEbdUh1HTNX47AQIWzt/2nI9fUIGotuZV5jCyaEJvDl2fZa2XQb1Jt06YUj0Md33rAQ6JL5A==", "product"=>{"title"=>"m0", "description"=>"444", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fc8a58f2c88 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150808-10347-10m24li.jpeg>, @original_filename="images.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"images.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("title", "image", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "m0"], ["image", "images.jpeg"], ["description", "444"], ["user_id", 1], ["created_at", "2015-08-08 06:42:14.095042"], ["updated_at", "2015-08-08 06:42:14.095042"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/products.1
Completed 302 Found in 48ms (ActiveRecord: 1.7ms)


Started GET "/products.1" for ::1 at 2015-08-08 14:42:14 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (8.2ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (2.2ms)
Completed 200 OK in 194ms (Views: 191.1ms | ActiveRecord: 1.0ms)


Started GET "/products/2/edit" for ::1 at 2015-08-08 14:42:22 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 2]]
  Rendered user_products/edit.html.erb within layouts/application (10.0ms)
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 174ms (Views: 170.9ms | ActiveRecord: 0.8ms)


Started PATCH "/products/2" for ::1 at 2015-08-08 14:42:28 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"USGuJD07fM9PvbbEp+jmCMlw2cBHRcwyn28pvHAlNBcozfge9WTr973eFKcTVqIM0u/rnSERxsI1TfRf5FNfmQ==", "product"=>{"title"=>"M10", "description"=>"444"}, "commit"=>"Submit", "id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "M10"], ["updated_at", "2015-08-08 06:42:28.839929"], ["id", 2]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://localhost:3000/products.1
Completed 302 Found in 14ms (ActiveRecord: 6.5ms)


Started GET "/products.1" for ::1 at 2015-08-08 14:42:28 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (10.0ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 189ms (Views: 185.7ms | ActiveRecord: 1.2ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 14:46:46 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  Rendered user_products/edit.html.erb within layouts/application (8.9ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (6.3ms)
Completed 200 OK in 240ms (Views: 149.5ms | ActiveRecord: 2.0ms)


Started GET "/products" for ::1 at 2015-08-08 14:46:48 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (12.3ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.3ms)
Completed 200 OK in 141ms (Views: 137.9ms | ActiveRecord: 1.4ms)


Started GET "/products" for ::1 at 2015-08-08 14:49:36 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (19.4ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (9.3ms)
Completed 200 OK in 227ms (Views: 181.6ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 14:49:37 +0800


Started GET "/products/1/edit" for ::1 at 2015-08-08 14:49:39 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  Rendered user_products/edit.html.erb within layouts/application (10.7ms)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.1ms)
Completed 200 OK in 154ms (Views: 150.3ms | ActiveRecord: 0.9ms)


Started GET "/products" for ::1 at 2015-08-08 14:49:41 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (6.6ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.1ms)
Completed 200 OK in 138ms (Views: 135.8ms | ActiveRecord: 1.0ms)


Started GET "/products/1/posts" for ::1 at 2015-08-08 14:50:58 +0800
Processing by ProductPostsController#index as HTML
  Parameters: {"product_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?[0m  [["product_id", 1]]
  Rendered product_posts/index.html.erb within layouts/application (2.3ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (2.6ms)
Completed 200 OK in 155ms (Views: 144.7ms | ActiveRecord: 1.1ms)


Started GET "/products/1/posts/new" for ::1 at 2015-08-08 14:51:01 +0800
Processing by ProductPostsController#new as HTML
  Parameters: {"product_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered product_posts/new.html.erb within layouts/application (44.5ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (2.2ms)
Completed 200 OK in 208ms (Views: 196.4ms | ActiveRecord: 0.7ms)


Started POST "/products/1/posts" for ::1 at 2015-08-08 14:51:04 +0800
Processing by ProductPostsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jFAn1pSD+9JZSxKsI+LQP7vILbe9tmGlOfqeZbizd7L1vHHsXNxs6qsosM+XXJQ7oFcf6tvia1WT2EOGLMUcPA==", "post"=>{"title"=>"dsdas", "description"=>"asdasd"}, "commit"=>"Submit", "product_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "posts" ("title", "description", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "dsdas"], ["description", "asdasd"], ["product_id", 1], ["created_at", "2015-08-08 06:51:04.805114"], ["updated_at", "2015-08-08 06:51:04.805114"]]
  [1m[35m (1.9ms)[0m  commit transaction
Redirected to http://localhost:3000/products/1/posts
Completed 302 Found in 14ms (ActiveRecord: 3.0ms)


Started GET "/products/1/posts" for ::1 at 2015-08-08 14:51:04 +0800
Processing by ProductPostsController#index as HTML
  Parameters: {"product_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?[0m  [["product_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Post"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Post"]]
  Rendered product_posts/index.html.erb within layouts/application (7.3ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 159ms (Views: 155.4ms | ActiveRecord: 1.1ms)


Started GET "/products/1/posts/new" for ::1 at 2015-08-08 14:51:11 +0800
Processing by ProductPostsController#new as HTML
  Parameters: {"product_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered product_posts/new.html.erb within layouts/application (9.5ms)
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (2.1ms)
Completed 200 OK in 155ms (Views: 151.6ms | ActiveRecord: 0.5ms)


Started GET "/products/1/posts" for ::1 at 2015-08-08 14:51:13 +0800
Processing by ProductPostsController#index as HTML
  Parameters: {"product_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPost Load (0.1ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?  [["product_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Post"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Post"]]
  Rendered product_posts/index.html.erb within layouts/application (3.7ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.1ms)
Completed 200 OK in 129ms (Views: 125.1ms | ActiveRecord: 0.9ms)


Started GET "/products.1" for ::1 at 2015-08-08 14:51:15 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (6.1ms)
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.0ms)
Completed 200 OK in 170ms (Views: 167.5ms | ActiveRecord: 0.9ms)


Started GET "/products.2" for ::1 at 2015-08-08 14:51:19 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (9.2ms)
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 194ms (Views: 190.6ms | ActiveRecord: 1.1ms)


Started GET "/categorys/indec" for ::1 at 2015-08-08 15:39:53 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActionController::RoutingError (No route matches [GET] "/categorys/indec"):
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (8.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (10.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (113.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (48.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (105.8ms)


Started GET "/categorys/index" for ::1 at 2015-08-08 15:39:56 +0800

ActionController::RoutingError (No route matches [GET] "/categorys/index"):
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (5.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (90.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (96.8ms)


Started GET "/categorys" for ::1 at 2015-08-08 15:40:32 +0800

ActionController::RoutingError (No route matches [GET] "/categorys"):
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (5.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (90.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (54.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (111.2ms)


Started GET "/tags" for ::1 at 2015-08-08 15:40:50 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 105ms

ActionView::MissingTemplate (Missing template categorys/index, application/index with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:erb, :builder, :raw, :ruby, :coffee, :jbuilder]}. Searched in:
  * "/Users/sherylhsu/workspace/takobear/blog_hunt/BlogBasicTest/app/views"
  * "/Users/sherylhsu/.gems/gems/devise-3.5.1/app/views"
):
  actionview (4.2.0) lib/action_view/path_set.rb:46:in `find'
  actionview (4.2.0) lib/action_view/lookup_context.rb:121:in `find'
  actionview (4.2.0) lib/action_view/renderer/abstract_renderer.rb:18:in `find_template'
  actionview (4.2.0) lib/action_view/renderer/template_renderer.rb:40:in `determine_template'
  actionview (4.2.0) lib/action_view/renderer/template_renderer.rb:8:in `render'
  actionview (4.2.0) lib/action_view/renderer/renderer.rb:42:in `render_template'
  actionview (4.2.0) lib/action_view/renderer/renderer.rb:23:in `render'
  actionview (4.2.0) lib/action_view/rendering.rb:100:in `_render_template'
  actionpack (4.2.0) lib/action_controller/metal/streaming.rb:217:in `_render_template'
  actionview (4.2.0) lib/action_view/rendering.rb:83:in `render_to_body'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:32:in `render_to_body'
  actionpack (4.2.0) lib/action_controller/metal/renderers.rb:37:in `render_to_body'
  actionpack (4.2.0) lib/abstract_controller/rendering.rb:25:in `render'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:16:in `render'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:41:in `block (2 levels) in render'
  activesupport (4.2.0) lib/active_support/core_ext/benchmark.rb:12:in `block in ms'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/benchmark.rb:303:in `realtime'
  activesupport (4.2.0) lib/active_support/core_ext/benchmark.rb:12:in `ms'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:41:in `block in render'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:84:in `cleanup_view_runtime'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:25:in `cleanup_view_runtime'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:40:in `render'
  actionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:10:in `default_render'
  actionpack (4.2.0) lib/action_controller/metal/implicit_render.rb:5:in `send_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:198:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rendering.rb:10:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:20:in `block in process_action'
  activesupport (4.2.0) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:117:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/missing_template.html.erb within rescues/layout (59.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (95.1ms)


Started GET "/tags" for ::1 at 2015-08-08 15:41:54 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (2.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (30.2ms)
Completed 200 OK in 589ms (Views: 584.6ms | ActiveRecord: 1.6ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 15:41:55 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 15:41:56 +0800


Started GET "/tags/new" for ::1 at 2015-08-08 15:42:15 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 4ms

NoMethodError (undefined method `build' for Tag(id: integer, name: string, taggings_count: integer):Class):
  app/controllers/categorys_controller.rb:14:in `new'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (52.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (44.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (98.3ms)


Started GET "/tags/new" for ::1 at 2015-08-08 15:42:15 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 2ms

NoMethodError (undefined method `build' for Tag(id: integer, name: string, taggings_count: integer):Class):
  app/controllers/categorys_controller.rb:14:in `new'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (52.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (95.9ms)


Started GET "/tags/new" for ::1 at 2015-08-08 15:43:01 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (40.5ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (26.7ms)
Completed 200 OK in 226ms (Views: 202.7ms | ActiveRecord: 2.5ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:02 +0800


Started POST "/tags" for ::1 at 2015-08-08 15:43:06 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Cv4HqJ3Z2ILbRxfZkEIGcKcBCDakV31mfsbnKPzu3qFzElGSVYZPuikktbok/EJ0vJ46a8IDd5bU5DrLaJi1Lw==", "tag"=>{"name"=>"hTC"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 3ms

NoMethodError (undefined method `build' for Tag(id: integer, name: string, taggings_count: integer):Class):
  app/controllers/categorys_controller.rb:18:in `create'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (52.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (111.3ms)


Started POST "/tags" for ::1 at 2015-08-08 15:43:20 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Cv4HqJ3Z2ILbRxfZkEIGcKcBCDakV31mfsbnKPzu3qFzElGSVYZPuikktbok/EJ0vJ46a8IDd5bU5DrLaJi1Lw==", "tag"=>{"name"=>"hTC"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'hTC' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "tags" ("name") VALUES (?)  [["name", "hTC"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 1 AND "taggings"."taggable_type" IS NULL AND "taggings"."taggable_id" IS NULL AND "taggings"."context" IS NULL AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 50ms (ActiveRecord: 4.2ms)


Started GET "/tags" for ::1 at 2015-08-08 15:43:21 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (1.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (9.1ms)
Completed 200 OK in 177ms (Views: 155.2ms | ActiveRecord: 1.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 15:43:21 +0800


Started GET "/tags" for ::1 at 2015-08-08 15:43:24 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (1.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 154ms (Views: 150.6ms | ActiveRecord: 0.9ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 15:43:25 +0800


Started GET "/tags" for ::1 at 2015-08-08 15:45:46 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT "tags".* FROM "tags"
  Rendered categorys/index.html.erb within layouts/application (17.1ms)
Completed 500 Internal Server Error in 43ms

ActionView::Template::Error (undefined local variable or method `product' for #<#<Class:0x007f8c7b42a8b0>:0x007f8c7ffc9aa0>):
    14:         <tr>
    15:           <td><%= link_to(category.name , tag_path(category)) %></td>
    16:           <td>
    17:             <%= link_to("Edit", edit_tag_path(product), class: "btn btn-sm btn-default")%>
    18:             <%= link_to("Delete", tag_path(product), class: "btn btn-sm btn-default", method: :delete, data: { confirm: "Are you sure?" } )%>
    19:           </td>
    20:         </tr>
  app/views/categorys/index.html.erb:17:in `block in _app_views_categorys_index_html_erb___1474320807044861271_70120694335140'
  app/views/categorys/index.html.erb:13:in `_app_views_categorys_index_html_erb___1474320807044861271_70120694335140'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (65.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (46.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (97.3ms)


Started GET "/tags" for ::1 at 2015-08-08 15:46:40 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT "tags".* FROM "tags"
  Rendered categorys/index.html.erb within layouts/application (1.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (23.9ms)
Completed 200 OK in 178ms (Views: 174.7ms | ActiveRecord: 1.5ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 15:46:40 +0800


Started GET "/tags/1/edit" for ::1 at 2015-08-08 15:46:43 +0800
Processing by CategorysController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
Completed 404 Not Found in 4ms

ActiveRecord::RecordNotFound (Couldn't find ActsAsTaggableOn::Tag with 'id'=1):
  app/controllers/categorys_controller.rb:29:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (51.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (91.9ms)


Started GET "/tags/1/edit" for ::1 at 2015-08-08 15:46:43 +0800
Processing by CategorysController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
Completed 404 Not Found in 4ms

ActiveRecord::RecordNotFound (Couldn't find ActsAsTaggableOn::Tag with 'id'=1):
  app/controllers/categorys_controller.rb:29:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (47.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (100.9ms)


Started GET "/tags/1/edit" for ::1 at 2015-08-08 15:47:34 +0800
Processing by CategorysController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
  Rendered categorys/edit.html.erb within layouts/application (5.7ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (22.4ms)
Completed 200 OK in 188ms (Views: 166.6ms | ActiveRecord: 2.3ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 15:47:35 +0800


Started PATCH "/tags/1" for ::1 at 2015-08-08 15:47:38 +0800
Processing by CategorysController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jP7YugA3rZPbqmTetapYbtgr7opHscOHuybtT6GbyJz1Eo6AyGg6qynJxr0BFBxqw7Tc1yHlyXcRBDCsNe2jEg==", "tag"=>{"name"=>"hTC1"}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.2ms)[0m  SELECT  1 AS one FROM "tags" WHERE ("tags"."name" = 'hTC1' AND "tags"."id" != 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "tags" SET "name" = ? WHERE "tags"."id" = ?[0m  [["name", "hTC1"], ["id", 1]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)


Started GET "/tags" for ::1 at 2015-08-08 15:47:39 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT "tags".* FROM "tags"
  Rendered categorys/index.html.erb within layouts/application (1.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 187ms (Views: 184.4ms | ActiveRecord: 0.8ms)


Started DELETE "/tags/1" for ::1 at 2015-08-08 15:47:42 +0800
Processing by CategorysController#destroy as HTML
  Parameters: {"authenticity_token"=>"RClltyICw2CF691MwC2wiQS+wFR0Er4hPbpn3f7vD0Q9xTON6l1UWHeIfy90k/SNHyHyCRJGtNGXmLo+aplkyg==", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
Completed 404 Not Found in 5ms

ActiveRecord::RecordNotFound (Couldn't find ActsAsTaggableOn::Tag with 'id'=1):
  app/controllers/categorys_controller.rb:46:in `destroy'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (44.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (98.9ms)


Started DELETE "/tags/1" for ::1 at 2015-08-08 15:48:02 +0800
Processing by CategorysController#destroy as HTML
  Parameters: {"authenticity_token"=>"RClltyICw2CF691MwC2wiQS+wFR0Er4hPbpn3f7vD0Q9xTON6l1UWHeIfy90k/SNHyHyCRJGtNGXmLo+aplkyg==", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Load (0.1ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."tag_id" = ?  [["tag_id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.8ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 27ms (ActiveRecord: 3.7ms)


Started GET "/tags" for ::1 at 2015-08-08 15:48:02 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT "tags".* FROM "tags"
  Rendered categorys/index.html.erb within layouts/application (1.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (27.1ms)
Completed 200 OK in 184ms (Views: 180.1ms | ActiveRecord: 2.0ms)


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 15:48:02 +0800


Started GET "/tags/new" for ::1 at 2015-08-08 15:48:04 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (4.5ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 171ms (Views: 168.9ms | ActiveRecord: 0.6ms)


Started POST "/tags" for ::1 at 2015-08-08 15:48:07 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"fZz+LBlX8Y3eWPjG593jb46M7kutM5c8zqb+E2Kc9vkEcKgW0QhmtSw7WqVTY6drlRPcFstnncxkhCPw9uqddw==", "tag"=>{"name"=>"hTC"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.1ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'hTC' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "hTC"]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 2 AND "taggings"."taggable_type" IS NULL AND "taggings"."taggable_id" IS NULL AND "taggings"."context" IS NULL AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags
Completed 302 Found in 11ms (ActiveRecord: 2.7ms)


Started GET "/tags" for ::1 at 2015-08-08 15:48:07 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags"[0m
  Rendered categorys/index.html.erb within layouts/application (1.3ms)
  [1m[35m (0.5ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.2ms)
Completed 200 OK in 149ms (Views: 146.6ms | ActiveRecord: 1.0ms)


Started GET "/tags" for ::1 at 2015-08-08 15:49:19 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags"[0m
  Rendered categorys/index.html.erb within layouts/application (1.2ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.4ms)
Completed 200 OK in 146ms (Views: 144.0ms | ActiveRecord: 0.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:49:19 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 15:49:20 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 15:49:20 +0800


Started GET "/tags" for ::1 at 2015-08-08 15:49:22 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags"[0m
  Rendered categorys/index.html.erb within layouts/application (2.2ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 144ms (Views: 142.2ms | ActiveRecord: 0.7ms)


Started GET "/main_pages" for ::1 at 2015-08-08 15:49:25 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (20.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 173ms (Views: 170.3ms | ActiveRecord: 1.4ms)


Started GET "/tags" for ::1 at 2015-08-08 15:49:27 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags"[0m
  Rendered categorys/index.html.erb within layouts/application (1.1ms)
  [1m[35m (0.5ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.5ms)
Completed 200 OK in 142ms (Views: 139.2ms | ActiveRecord: 1.0ms)
  [1m[36mProduct Load (2.5ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products"  ORDER BY "products"."id" ASC LIMIT 1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products"  ORDER BY "products"."id" ASC LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 2 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["tag_id", 2], ["context", "categorys"], ["taggable_id", 1], ["taggable_type", "Product"], ["created_at", "2015-08-08 07:56:45.430832"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 2]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT "tags".* FROM "tags"
  [1m[36mTagging Load (0.2ms)[0m  [1mSELECT "taggings".* FROM "taggings"[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.3ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 2 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" IS NULL AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "taggings" ("tag_id", "taggable_type", "context", "created_at") VALUES (?, ?, ?, ?)[0m  [["tag_id", 2], ["taggable_type", "Product"], ["context", "categorys"], ["created_at", "2015-08-08 07:58:52.528146"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 2]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (2)))  ORDER BY "products"."updated_at" ASC
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products"  ORDER BY "products"."id" ASC LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products"  ORDER BY "products"."id" ASC LIMIT 1
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.2ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 2  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 2]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags"  ORDER BY "tags"."id" ASC LIMIT 1[0m
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags"  ORDER BY "tags"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 2 AND "taggings"."taggable_type" IS NULL AND "taggings"."taggable_id" IS NULL AND "taggings"."context" IS NULL AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id


Started GET "/tags/new" for ::1 at 2015-08-08 16:16:24 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (55.7ms)
Completed 500 Internal Server Error in 116ms

ActionView::Template::Error (uninitialized constant ActionView::CompiledTemplates::Movie):
     8:         <%= f.input :taggable_id,
     9:                     as: :select,
    10:                     required: true,
    11:                     collection: options_for_select(Movie.all.map{|m| [ m.title, m.id ] }),
    12:                     input_html: { class: "form-control"} %>
    13:       </div>
    14:       <%= f.submit "Submit", disable_with: 'Submitting...', class: "btn btn-primary"%>
  app/views/categorys/new.html.erb:11:in `block in _app_views_categorys_new_html_erb__417597477087589237_70232689548680'
  app/views/categorys/new.html.erb:5:in `_app_views_categorys_new_html_erb__417597477087589237_70232689548680'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (106.3ms)


Started GET "/tags/new" for ::1 at 2015-08-08 16:16:37 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered categorys/new.html.erb within layouts/application (36.5ms)
Completed 500 Internal Server Error in 43ms

ActionView::Template::Error (undefined method `to_a' for #<ActiveSupport::SafeBuffer:0x007fc0a53c22c0>):
     5:   <%= simple_form_for @category, :url => tags_path  do |f| %>
     6:       <div class="form-group">
     7:         <%= f.input :name, input_html: { class: "form-control"} %>
     8:         <%= f.input :taggable_id,
     9:                     as: :select,
    10:                     required: true,
    11:                     collection: options_for_select(Product.all.map{|m| [ m.title, m.id ] }),
  app/views/categorys/new.html.erb:8:in `block in _app_views_categorys_new_html_erb__417597477087589237_70232692241140'
  app/views/categorys/new.html.erb:5:in `_app_views_categorys_new_html_erb__417597477087589237_70232692241140'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (19.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (72.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (46.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (99.5ms)
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags"  ORDER BY "tags"."id" ASC LIMIT 1[0m
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags"  ORDER BY "tags"."id" ASC LIMIT 1
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags"  ORDER BY "tags"."id" ASC LIMIT 1[0m
  [1m[35mActsAsTaggableOn::Tagging Load (0.3ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."tag_id" = ?  [["tag_id", 2]]


Started GET "/tags" for ::1 at 2015-08-08 17:00:37 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags"[0m
  Rendered categorys/index.html.erb within layouts/application (6.2ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (56.3ms)
Completed 200 OK in 574ms (Views: 530.2ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 17:00:38 +0800


Started DELETE "/tags/2" for ::1 at 2015-08-08 17:00:41 +0800
Processing by CategorysController#destroy as HTML
  Parameters: {"authenticity_token"=>"R1Pzh0LSdJhV5lpbMfOr6kDnB0w+uxtl6LGTOBCOJO8+v6W9io3joKeF+DiFTe/uW3g1EVjvEZVCk07bhPhPYQ==", "id"=>"2"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Load (0.3ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."tag_id" = ?[0m  [["tag_id", 2]]
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 2]]
  [1m[35m (2.0ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 41ms (ActiveRecord: 3.9ms)


Started GET "/tags" for ::1 at 2015-08-08 17:00:41 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT "tags".* FROM "tags"
  Rendered categorys/index.html.erb within layouts/application (0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 144ms (Views: 141.6ms | ActiveRecord: 0.7ms)


Started GET "/tags/new" for ::1 at 2015-08-08 17:00:43 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (46.4ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 184ms (Views: 182.1ms | ActiveRecord: 0.6ms)


Started POST "/tags" for ::1 at 2015-08-08 17:00:46 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"HG0/Q+gUsSLcUBYkq/CvHmYDFr7RgAkSoeXOu62hmlRlgWl5IEsmGi4ztEcfTusafZwk47fUA+ILxxNYOdfx2g==", "tag"=>{"name"=>"hTC"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.2ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'hTC' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "hTC"]]
  [1m[35m (157.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 3 AND "taggings"."taggable_type" IS NULL AND "taggings"."taggable_id" IS NULL AND "taggings"."context" IS NULL AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 174ms

ActionController::UrlGenerationError (No route matches {:action=>"new", :controller=>"category_tagging"} missing required keys: [:tag_id]):
  app/controllers/categorys_controller.rb:22:in `create'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (94.1ms)


Started GET "/tags" for ::1 at 2015-08-08 17:01:34 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags"[0m
  Rendered categorys/index.html.erb within layouts/application (3.4ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.0ms)
Completed 200 OK in 186ms (Views: 161.8ms | ActiveRecord: 2.4ms)


Started DELETE "/tags/3" for ::1 at 2015-08-08 17:01:37 +0800
Processing by CategorysController#destroy as HTML
  Parameters: {"authenticity_token"=>"4EZNDjNifRiBYfS/LS92hf3VRXztZtCsL+HX9ydgoL+Zqhs0+z3qIHMCVtyZkTKB5kp3IYsy2lyFwwoUsxbLMQ==", "id"=>"3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Load (0.2ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."tag_id" = ?[0m  [["tag_id", 3]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "tags" WHERE "tags"."id" = ?  [["id", 3]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags
Completed 302 Found in 8ms (ActiveRecord: 2.5ms)


Started GET "/tags" for ::1 at 2015-08-08 17:01:37 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags"[0m
  Rendered categorys/index.html.erb within layouts/application (1.4ms)
  [1m[35m (0.4ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 168ms (Views: 165.9ms | ActiveRecord: 0.9ms)


Started GET "/tags/new" for ::1 at 2015-08-08 17:01:39 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (4.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 181ms (Views: 179.1ms | ActiveRecord: 0.6ms)


Started POST "/tags" for ::1 at 2015-08-08 17:01:41 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aNt5IyF4jkylvHJMYdOmQYr8wj2h50f/rwWunCZN65ERNy8Z6ScZdFff0C/VbeJFkWPwYMezTQ8FJ3N/sjuAHw==", "tag"=>{"name"=>"hTC"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'hTC' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "tags" ("name") VALUES (?)  [["name", "hTC"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/4/taggings/new
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 17:01:41 +0800

ActionController::RoutingError (uninitialized constant CategoryTaggingController):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:59:in `controller'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:38:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (4.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (112.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (100.3ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 17:03:12 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mTagging Load (0.2ms)[0m  SELECT  "taggings".* FROM "taggings" WHERE "taggings"."id" = ? LIMIT 1  [["id", nil]]
Completed 404 Not Found in 54ms

ActiveRecord::RecordNotFound (Couldn't find Tagging with 'id'=):
  app/controllers/category_taggings_controller.rb:61:in `find_tag'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (98.3ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 17:03:35 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", "4"]]
  [1m[35mTagging Load (1.3ms)[0m  SELECT  "taggings".* FROM "taggings" WHERE "taggings"."id" = ? LIMIT 1  [["id", nil]]
Completed 404 Not Found in 106110ms

ActiveRecord::RecordNotFound (Couldn't find Tagging with 'id'=):
  app/controllers/category_taggings_controller.rb:62:in `find_tag'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (145.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (35.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (244.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (62.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (142.0ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 17:05:34 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  Rendered category_taggings/new.html.erb within layouts/application (69.4ms)
Completed 500 Internal Server Error in 241ms

ActionView::Template::Error (undefined local variable or method `taggings_path' for #<#<Class:0x007ffd19fcc6a0>:0x007ffd19ebdef8>):
    2:   <h1>新增</h1>
    3: 
    4:   <hr>
    5:   <%= simple_form_for @tagging, :url => taggings_path  do |f| %>
    6:       <div class="form-group">
    7:         <%= f.input :taggable_id,
    8:                     as: :select,
  app/views/category_taggings/new.html.erb:5:in `_app_views_category_taggings_new_html_erb___161997927962504613_70362510881160'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (211.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (48.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (320.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (71.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (142.8ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 17:06:22 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (309.7ms)
Completed 500 Internal Server Error in 352ms

ActionView::Template::Error (undefined method `to_a' for #<ActiveSupport::SafeBuffer:0x007ffd19eee3a0>):
    4:   <hr>
    5:   <%= simple_form_for @tagging, :url => tag_taggings_path  do |f| %>
    6:       <div class="form-group">
    7:         <%= f.input :taggable_id,
    8:                     as: :select,
    9:                     required: true,
   10:                     collection: options_for_select(Product.all.map{|m| [ m.title, m.id ] }),
  app/views/category_taggings/new.html.erb:7:in `block in _app_views_category_taggings_new_html_erb___161997927962504613_70362522139700'
  app/views/category_taggings/new.html.erb:5:in `_app_views_category_taggings_new_html_erb___161997927962504613_70362522139700'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (244.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (52.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (359.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (73.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (146.9ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 17:07:09 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.7ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (32.7ms)
Completed 500 Internal Server Error in 79ms

ActionView::Template::Error (undefined method `to_a' for #<ActiveSupport::SafeBuffer:0x007ffd1c9c3530>):
    4:   <hr>
    5:   <%= simple_form_for @tagging, :url => tag_taggings_path  do |f| %>
    6:       <div class="form-group">
    7:         <%= f.input :taggable_id, as: :select, required: true, collection: options_for_select(Product.all.map{|m| [ m.title, m.id ] }), input_html: { class: "form-control"} %>
    8:       </div>
    9:       <%= f.submit "Submit", disable_with: 'Submitting...', class: "btn btn-primary"%>
   10:       <%= link_to("Back", taggings_path , class: "btn btn-primary pull-right")%>
  app/views/category_taggings/new.html.erb:7:in `block in _app_views_category_taggings_new_html_erb___161997927962504613_70362559452980'
  app/views/category_taggings/new.html.erb:5:in `_app_views_category_taggings_new_html_erb___161997927962504613_70362559452980'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (281.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (53.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (397.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (77.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (4.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (158.0ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 17:07:41 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  Rendered category_taggings/new.html.erb within layouts/application (93.7ms)
Completed 500 Internal Server Error in 129ms

ActionView::Template::Error (undefined local variable or method `taggings_path' for #<#<Class:0x007ffd19fcc6a0>:0x007ffd19b0f040>):
     9:                     input_html: { class: "form-control"} %>
    10:       </div>
    11:       <%= f.submit "Submit", disable_with: 'Submitting...', class: "btn btn-primary"%>
    12:       <%= link_to("Back", taggings_path , class: "btn btn-primary pull-right")%>
    13:   <% end %>
    14: </div>
  app/views/category_taggings/new.html.erb:12:in `block in _app_views_category_taggings_new_html_erb___161997927962504613_70362518153500'
  app/views/category_taggings/new.html.erb:5:in `_app_views_category_taggings_new_html_erb___161997927962504613_70362518153500'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (215.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (48.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (321.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (72.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (144.7ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 17:09:05 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (91.3ms)
  [1m[35m (0.6ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (74.3ms)
Completed 200 OK in 2297ms (Views: 2271.1ms | ActiveRecord: 3.7ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:09:07 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:09:07 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 17:09:07 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:09:07 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 17:09:08 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 17:09:09 +0800


Started POST "/tags/4/taggings" for ::1 at 2015-08-08 17:09:24 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"10bX9hZg6dYThzT6yZJwHMDfHN7kwTIjb3OR1GIX5KWuqoHM3j9+7uHklpl9LDQY20Aug4KVONPFUUw39mGPKw==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"4"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
Completed 400 Bad Request in 30ms

ActionController::ParameterMissing (param is missing or the value is empty: tagging):
  app/controllers/category_taggings_controller.rb:64:in `tagging_params'
  app/controllers/category_taggings_controller.rb:21:in `create'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (287.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (78.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (439.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (90.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (173.6ms)


Started POST "/tags/4/taggings" for ::1 at 2015-08-08 17:10:27 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"10bX9hZg6dYThzT6yZJwHMDfHN7kwTIjb3OR1GIX5KWuqoHM3j9+7uHklpl9LDQY20Aug4KVONPFUUw39mGPKw==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"4"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
Completed 400 Bad Request in 78304ms

ActionController::ParameterMissing (param is missing or the value is empty: tagging):
  app/controllers/category_taggings_controller.rb:65:in `tagging_params'
  app/controllers/category_taggings_controller.rb:21:in `create'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (169.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (33.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (276.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (79.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (155.8ms)


Started POST "/tags/4/taggings" for ::1 at 2015-08-08 17:11:53 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"10bX9hZg6dYThzT6yZJwHMDfHN7kwTIjb3OR1GIX5KWuqoHM3j9+7uHklpl9LDQY20Aug4KVONPFUUw39mGPKw==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"4"}
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 4 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 4], ["created_at", "2015-08-08 09:11:55.415789"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 4]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 231ms

NoMethodError (undefined method `category_taggings_path' for #<CategoryTaggingsController:0x007ffd18beec28>):
  app/controllers/category_taggings_controller.rb:26:in `create'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (134.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (45.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (270.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (66.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (143.4ms)


Started POST "/tags/4/taggings" for ::1 at 2015-08-08 17:13:15 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"10bX9hZg6dYThzT6yZJwHMDfHN7kwTIjb3OR1GIX5KWuqoHM3j9+7uHklpl9LDQY20Aug4KVONPFUUw39mGPKw==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"4"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 4 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (163.5ms)
  [1m[35m (1.0ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (20.8ms)
Completed 500 Internal Server Error in 1302ms

ActionView::Template::Error (undefined method `id' for nil:NilClass):
    10:       <ul class="nav navbar-nav">
    11:       <% Product.category_list.each do |category| %>
    12:         <li class="active">
    13:           <%= link_to(category, products_path(p.id)) %>
    14:         </li>
    15:       <% end %>
    16: 
  app/views/common/_navbar.html.erb:13:in `block in _app_views_common__navbar_html_erb__1465654338927433398_70362561020360'
  app/views/common/_navbar.html.erb:11:in `each'
  app/views/common/_navbar.html.erb:11:in `_app_views_common__navbar_html_erb__1465654338927433398_70362561020360'
  app/views/layouts/application.html.erb:12:in `_app_views_layouts_application_html_erb__1803921205370125506_70362517235100'
  app/controllers/category_taggings_controller.rb:28:in `create'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (212.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (60.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (335.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (77.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (163.8ms)


Started POST "/tags/4/taggings" for ::1 at 2015-08-08 17:16:35 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"10bX9hZg6dYThzT6yZJwHMDfHN7kwTIjb3OR1GIX5KWuqoHM3j9+7uHklpl9LDQY20Aug4KVONPFUUw39mGPKw==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"4"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.5ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 4 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (151.5ms)
  [1m[36m (1.0ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (50.3ms)
Completed 500 Internal Server Error in 1366ms

ActionView::Template::Error (undefined method `category_products_path' for #<#<Class:0x007ffd1a183818>:0x007ffd19108678>):
    10:       <ul class="nav navbar-nav">
    11:       <% Product.category_list.each do |category| %>
    12:         <li class="active">
    13:           <%= link_to(category,  category_products_path(category)) %>
    14:         </li>
    15:       <% end %>
    16: 
  app/views/common/_navbar.html.erb:13:in `block in _app_views_common__navbar_html_erb__1465654338927433398_70362579946480'
  app/views/common/_navbar.html.erb:11:in `each'
  app/views/common/_navbar.html.erb:11:in `_app_views_common__navbar_html_erb__1465654338927433398_70362579946480'
  app/views/layouts/application.html.erb:12:in `_app_views_layouts_application_html_erb__1803921205370125506_70362517235100'
  app/controllers/category_taggings_controller.rb:28:in `create'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (217.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (45.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (16.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (350.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (62.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (139.8ms)


Started GET "/products" for ::1 at 2015-08-08 17:44:20 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (26.4ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (38.1ms)
Completed 500 Internal Server Error in 583ms

ActionView::Template::Error (undefined method `category_products_path' for #<#<Class:0x007fa31a47cdd0>:0x007fa31a455078>):
    10:       <ul class="nav navbar-nav">
    11:       <% Product.category_list.each do |category| %>
    12:         <li class="active">
    13:           <%= link_to(category,  category_products_path(category)) %>
    14:         </li>
    15:       <% end %>
    16: 
  app/views/common/_navbar.html.erb:13:in `block in _app_views_common__navbar_html_erb__445335805986241963_70169243022200'
  app/views/common/_navbar.html.erb:11:in `each'
  app/views/common/_navbar.html.erb:11:in `_app_views_common__navbar_html_erb__445335805986241963_70169243022200'
  app/views/layouts/application.html.erb:12:in `_app_views_layouts_application_html_erb__1340580791794886870_70169249265440'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (43.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (99.6ms)


Started GET "/products" for ::1 at 2015-08-08 17:48:49 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (48.7ms)
  [1m[35m (0.3ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.1ms)
Completed 200 OK in 723ms (Views: 586.9ms | ActiveRecord: 4.9ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:48:50 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:48:51 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:48:51 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:48:51 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 17:48:51 +0800


Started GET "/tags/hTC/products" for ::1 at 2015-08-08 17:48:53 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"hTC"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 8ms

NoMethodError (undefined method `find_category' for #<CategoryProductsController:0x007fa69715f7f8>):
  activesupport (4.2.0) lib/active_support/callbacks.rb:427:in `block in make_lambda'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (44.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (100.6ms)


Started GET "/tags/hTC/products" for ::1 at 2015-08-08 17:48:53 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"hTC"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 5ms

NoMethodError (undefined method `find_category' for #<CategoryProductsController:0x007fa693402b08>):
  activesupport (4.2.0) lib/active_support/callbacks.rb:427:in `block in make_lambda'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (46.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (110.5ms)


Started GET "/tags/hTC/products" for ::1 at 2015-08-08 17:49:21 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"hTC"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 20ms

ActiveRecord::RecordNotFound (Couldn't find Tag with 'id'=hTC):
  app/controllers/category_products_controller.rb:84:in `find_category'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (53.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (114.0ms)


Started GET "/tags/hTC/products" for ::1 at 2015-08-08 17:49:50 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"hTC"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 195787ms

ActiveRecord::RecordNotFound (Couldn't find Tag with 'id'=hTC):
  app/controllers/category_products_controller.rb:85:in `find_category'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (142.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (30.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (227.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (69.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (154.4ms)


Started GET "/tags/hTC/products" for ::1 at 2015-08-08 17:53:11 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"hTC"}
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 51651ms

ActiveRecord::RecordNotFound (Couldn't find Tag with 'id'=hTC):
  app/controllers/category_products_controller.rb:85:in `find_category'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (138.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (29.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (231.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (75.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (148.6ms)


Started GET "/tags/hTC/products" for ::1 at 2015-08-08 17:54:07 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"hTC"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 0]]
Completed 404 Not Found in 7700ms

ActiveRecord::RecordNotFound (Couldn't find Tag with 'id'=hTC):
  app/controllers/category_products_controller.rb:85:in `find_category'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (302.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (78.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (457.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (3.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (90.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (177.8ms)


Started GET "/products" for ::1 at 2015-08-08 17:54:19 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (245.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (141772.7ms)
Completed 200 OK in 143951ms (Views: 143768.4ms | ActiveRecord: 11.5ms)


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:56:43 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:56:43 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 17:56:43 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:56:43 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:56:43 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 17:56:43 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 17:56:43 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 17:56:44 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 17:56:45 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 17:56:45 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:56:45 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:56:45 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:56:45 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:56:45 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 17:56:45 +0800


Started GET "/products" for ::1 at 2015-08-08 17:59:14 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (26.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (44.4ms)
Completed 200 OK in 569ms (Views: 498.9ms | ActiveRecord: 3.9ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:59:15 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:59:15 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:59:15 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 17:59:16 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 17:59:17 +0800


Started GET "/tags/4/products" for ::1 at 2015-08-08 17:59:21 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (1.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (1.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  Rendered category_products/index.html.erb within layouts/application (71.5ms)
Completed 500 Internal Server Error in 16453ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"category_products", :format=>nil, :id=>nil, :tag_id=>#<Product id: 1, title: "M9", collections_count: 0, user_id: 1, created_at: "2015-08-08 06:42:00", updated_at: "2015-08-08 06:42:00", description: "123", image: "images_templerun.jpeg">} missing required keys: [:id]):
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(product)) %></td>
    22:           <td><%= link_to("good", vote_up_tag_product_path(product), :method => :post) %> OR
    23:             <%= link_to("bad", vote_down_tag_product_path(product), :method => :post) %></td>
    24:           <td> good:<%= product.votes_for %>,bad: <%= product.votes_against %></td>
  app/views/category_products/index.html.erb:21:in `block in _app_views_category_products_index_html_erb___3839922932768330394_70341793660980'
  app/views/category_products/index.html.erb:18:in `_app_views_category_products_index_html_erb___3839922932768330394_70341793660980'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (389.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (84.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (559.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (10.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (85.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (171.6ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 17:59:41 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  Rendered category_products/index.html.erb within layouts/application (43.0ms)
Completed 500 Internal Server Error in 2413ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"category_products", :format=>nil, :id=>nil, :tag_id=>#<Product id: 1, title: "M9", collections_count: 0, user_id: 1, created_at: "2015-08-08 06:42:00", updated_at: "2015-08-08 06:42:00", description: "123", image: "images_templerun.jpeg">} missing required keys: [:id]):
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(product)) %></td>
    22:           <td><%= link_to("good", vote_up_tag_product_path(product), :method => :post) %> OR
    23:             <%= link_to("bad", vote_down_tag_product_path(product), :method => :post) %></td>
    24:           <td> good:<%= product.votes_for %>,bad: <%= product.votes_against %></td>
  app/views/category_products/index.html.erb:21:in `block in _app_views_category_products_index_html_erb___3839922932768330394_70341783782900'
  app/views/category_products/index.html.erb:18:in `_app_views_category_products_index_html_erb___3839922932768330394_70341783782900'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (409.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (92.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (572.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (10.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (79.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (175.3ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:02:12 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (1.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (11.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (172.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (1.0ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (96.6ms)
Completed 200 OK in 2241ms (Views: 1900.9ms | ActiveRecord: 28.3ms)


Started GET "/tags/4/products/new" for ::1 at 2015-08-08 18:02:30 +0800
Processing by CategoryProductsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  Rendered category_products/new.html.erb within layouts/application (346.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (18.5ms)
Completed 200 OK in 1489ms (Views: 1430.8ms | ActiveRecord: 1.9ms)


Started POST "/tags/4/products" for ::1 at 2015-08-08 18:02:41 +0800
Processing by CategoryProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hGriBxDU0f+jb5UQLzchTZCwzSAA9amBIvFgAq1qMnf9hrQ92ItGx1EMN3ObiWVJiy//fWaho3GI073hORxZ+Q==", "product"=>{"title"=>"M8", "description"=>"asasa", "image"=>#<ActionDispatch::Http::UploadedFile:0x007ff36a49d508 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150808-21973-1lvgys2.jpeg>, @original_filename="images_templerun.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"images_templerun.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit", "tag_id"=>"4"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "products" ("title", "image", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "M8"], ["image", "images_templerun.jpeg"], ["description", "asasa"], ["user_id", 1], ["created_at", "2015-08-08 10:02:41.466115"], ["updated_at", "2015-08-08 10:02:41.466115"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 189ms

NoMethodError (undefined method `category_products_path' for #<CategoryProductsController:0x007ff36af20a48>):
  app/controllers/category_products_controller.rb:23:in `create'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (154.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (39.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (287.1ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x007ff36a19d100 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x007ff36a19cde0 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x007ff369fb59c8 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started POST "/tags/4/products" for ::1 at 2015-08-08 18:03:24 +0800
Processing by CategoryProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hGriBxDU0f+jb5UQLzchTZCwzSAA9amBIvFgAq1qMnf9hrQ92ItGx1EMN3ObiWVJiy//fWaho3GI073hORxZ+Q==", "product"=>{"title"=>"M8", "description"=>"asasa", "image"=>#<ActionDispatch::Http::UploadedFile:0x007ff36a6bd658 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150808-21973-k3qfd.jpeg>, @original_filename="images_templerun.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"images_templerun.jpeg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit", "tag_id"=>"4"}
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (1.0ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "products" ("title", "image", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "M8"], ["image", "images_templerun.jpeg"], ["description", "asasa"], ["user_id", 1], ["created_at", "2015-08-08 10:03:28.120627"], ["updated_at", "2015-08-08 10:03:28.120627"]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/4/products
Completed 302 Found in 674ms (ActiveRecord: 26.1ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:03:28 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.9ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (1.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (125.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (1.0ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (96.8ms)
Completed 200 OK in 2095ms (Views: 2042.0ms | ActiveRecord: 11.4ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:03:30 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 18:03:30 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:03:30 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:03:30 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 18:03:31 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 18:03:32 +0800


Started GET "/" for ::1 at 2015-08-08 18:03:42 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (248.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (63.8ms)
Completed 200 OK in 2093ms (Views: 2075.5ms | ActiveRecord: 8.4ms)


Started GET "/" for ::1 at 2015-08-08 18:03:44 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (218.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (63.1ms)
Completed 200 OK in 2004ms (Views: 1975.4ms | ActiveRecord: 8.2ms)


Started GET "/" for ::1 at 2015-08-08 18:03:46 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (196.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (43.6ms)
Completed 200 OK in 1756ms (Views: 1742.6ms | ActiveRecord: 8.0ms)


Started GET "/" for ::1 at 2015-08-08 18:03:48 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (180.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (50.5ms)
Completed 200 OK in 1626ms (Views: 1613.5ms | ActiveRecord: 7.2ms)


Started GET "/" for ::1 at 2015-08-08 18:03:49 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (166.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (42.7ms)
Completed 200 OK in 1384ms (Views: 1372.2ms | ActiveRecord: 6.7ms)


Started GET "/main_pages" for ::1 at 2015-08-08 18:03:51 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (126.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (43.4ms)
Completed 200 OK in 1207ms (Views: 1196.9ms | ActiveRecord: 5.8ms)


Started GET "/main_pages" for ::1 at 2015-08-08 18:07:55 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (294.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (47.7ms)
Completed 200 OK in 2211ms (Views: 2191.5ms | ActiveRecord: 11.1ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:07:57 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:07:57 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:07:57 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 18:07:57 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 18:07:58 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 18:07:59 +0800


Started GET "/products" for ::1 at 2015-08-08 18:08:02 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (1.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (286.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (51.1ms)
Completed 200 OK in 2246ms (Views: 2213.6ms | ActiveRecord: 8.8ms)


Started GET "/products/new" for ::1 at 2015-08-08 18:08:05 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (1.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/new.html.erb within layouts/application (371.3ms)
  [1m[35mCACHE (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (36.1ms)
Completed 200 OK in 2313ms (Views: 2277.0ms | ActiveRecord: 3.7ms)


Started GET "/products" for ::1 at 2015-08-08 18:08:13 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (279.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (35.6ms)
Completed 200 OK in 2216ms (Views: 2170.7ms | ActiveRecord: 9.4ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 18:08:20 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (1.3ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered user_products/edit.html.erb within layouts/application (364.2ms)
  [1m[35mCACHE (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (34.7ms)
Completed 200 OK in 2266ms (Views: 2224.9ms | ActiveRecord: 4.9ms)


Started PATCH "/products/1" for ::1 at 2015-08-08 18:08:26 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"optTiObkp/5KceA2XGjpRkjXwB9IKgF+11MI9SlUx4bbdwWyLrswxrgSQlXo1q1CU0jyQi5+C459cdUWvSKsCA==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["4", ""]}, "commit"=>"Submit", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/products.1
Completed 302 Found in 111ms (ActiveRecord: 2.7ms)


Started GET "/products.1" for ::1 at 2015-08-08 18:08:26 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (13.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (291.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (53.7ms)
Completed 200 OK in 2272ms (Views: 2211.4ms | ActiveRecord: 21.2ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:08:31 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (49.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (31.7ms)
Completed 200 OK in 1075ms (Views: 1052.5ms | ActiveRecord: 3.7ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:08:57 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (45.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (20.6ms)
Completed 200 OK in 737ms (Views: 574.4ms | ActiveRecord: 3.8ms)


Started GET "/" for ::1 at 2015-08-08 18:09:00 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (27.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.0ms)
Completed 200 OK in 217ms (Views: 213.4ms | ActiveRecord: 2.4ms)


Started GET "/products" for ::1 at 2015-08-08 18:09:04 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (17.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.1ms)
Completed 200 OK in 172ms (Views: 166.7ms | ActiveRecord: 1.8ms)


Started GET "/products/3/edit" for ::1 at 2015-08-08 18:09:08 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 3], ["taggable_type", "Product"]]
  Rendered user_products/edit.html.erb within layouts/application (80.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 224ms (Views: 220.0ms | ActiveRecord: 1.2ms)


Started PATCH "/products/3" for ::1 at 2015-08-08 18:09:11 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"liOdcOEUrs7fEKBZFuIDV4trAfBBcuA0dMOyh8poat3vz8tKKUs59i1zAjqiXEdTkPQzrScm6sTe4W9kXh4BUw==", "product"=>{"title"=>"M8", "description"=>"asasa", "category_list"=>["4", ""]}, "commit"=>"Submit", "id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 3]]
Unpermitted parameter: category_list
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/products.1
Completed 302 Found in 27ms (ActiveRecord: 0.9ms)


Started GET "/products.1" for ::1 at 2015-08-08 18:09:11 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (16.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 219ms (Views: 210.5ms | ActiveRecord: 2.2ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:09:15 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (4.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 164ms (Views: 159.7ms | ActiveRecord: 1.2ms)


Started GET "/" for ::1 at 2015-08-08 18:10:01 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (46.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (48.3ms)
Completed 200 OK in 562ms (Views: 524.7ms | ActiveRecord: 4.2ms)


Started GET "/products" for ::1 at 2015-08-08 18:10:03 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (22.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.0ms)
Completed 200 OK in 248ms (Views: 236.1ms | ActiveRecord: 2.1ms)


Started GET "/products/4/edit" for ::1 at 2015-08-08 18:10:06 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  Rendered user_products/edit.html.erb within layouts/application (89.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 236ms (Views: 231.3ms | ActiveRecord: 1.1ms)


Started PATCH "/products/4" for ::1 at 2015-08-08 18:10:08 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xG1Mp4DrgvBv+2wk6eqVjb9FgPfyuFhv9oMM9Jd1JkW9gRqdSLQVyJ2YzkddVNGJpNqyqpTsUp9codEXAwNNyw==", "product"=>{"title"=>"M8", "description"=>"asasa", "category_list"=>["4", ""]}, "commit"=>"Submit", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 4]]
Unpermitted parameter: category_list
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/products.1
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)


Started GET "/products.1" for ::1 at 2015-08-08 18:10:08 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (23.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.8ms)
Completed 200 OK in 206ms (Views: 201.9ms | ActiveRecord: 2.2ms)


Started GET "/products/4/edit" for ::1 at 2015-08-08 18:10:12 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  Rendered user_products/edit.html.erb within layouts/application (17.7ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 155ms (Views: 151.0ms | ActiveRecord: 1.0ms)


Started GET "/products" for ::1 at 2015-08-08 18:10:13 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (13.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 169ms (Views: 165.9ms | ActiveRecord: 1.5ms)


Started GET "/products/3/edit" for ::1 at 2015-08-08 18:10:16 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 3], ["taggable_type", "Product"]]
  Rendered user_products/edit.html.erb within layouts/application (15.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 171ms (Views: 166.9ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2015-08-08 18:10:18 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (13.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.3ms)
Completed 200 OK in 183ms (Views: 180.2ms | ActiveRecord: 1.7ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:10:20 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (6.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.7ms)
Completed 200 OK in 300ms (Views: 163.9ms | ActiveRecord: 1.7ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:11:15 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (32.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (12.7ms)
Completed 200 OK in 743ms (Views: 571.0ms | ActiveRecord: 3.4ms)


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 18:11:16 +0800


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:11:26 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (66.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.8ms)
Completed 200 OK in 234ms (Views: 227.5ms | ActiveRecord: 1.3ms)


Started PATCH "/tags/4/products/1" for ::1 at 2015-08-08 18:11:28 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"z1rW6eegeGfusSY/VuSAsCjPQGRmf8qRegmLyJeY5IO2toDTL//vXxzShFziWsS0M1ByOQArwGHQK1YrA+6PDQ==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["4", ""]}, "commit"=>"Submit", "tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/4/products
Completed 302 Found in 1027765ms (ActiveRecord: 2.1ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:28:36 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (94.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (62.1ms)
Completed 200 OK in 1270ms (Views: 1073.3ms | ActiveRecord: 11.2ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:28:44 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (178.4ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (18.8ms)
Completed 200 OK in 1121ms (Views: 1069.2ms | ActiveRecord: 4.4ms)


Started PATCH "/tags/4/products/1" for ::1 at 2015-08-08 18:28:47 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DffymAwxxEUudpGQdWfSK3vc32hAOsghvhwzO3TKJp90G6SixG5TfdwVM/PB2ZYvYEPtNSZuwtEUPu7Y4LxNEQ==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["4", ""]}, "commit"=>"Submit", "tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
Completed 500 Internal Server Error in 5197ms

NoMethodError (undefined method `each' for nil:NilClass):
  app/models/product.rb:44:in `update_category'
  app/controllers/category_products_controller.rb:36:in `update'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (152.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (32.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (244.6ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x007f8dac1fa2e8 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x007f8dac1fa018 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x007f8da8cccf30 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started PATCH "/tags/4/products/1" for ::1 at 2015-08-08 18:29:18 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2kQ9RXorc7+Nep7m8gLbGq72KueRvlwVpveDYdPSSI6jqGt/snTkh38ZPIVGvJ8etWkYuvfqVuUM1V6CR6QjAA==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["4", ""]}, "commit"=>"Submit", "tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  commit transaction
Completed 500 Internal Server Error in 109605ms

NoMethodError (undefined method `each' for nil:NilClass):
  app/models/product.rb:44:in `update_category'
  app/controllers/category_products_controller.rb:36:in `update'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (136.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (42.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (241.7ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x007f8dac1fa2e8 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x007f8dac1fa018 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x007f8da8cccf30 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started GET "/" for ::1 at 2015-08-08 18:31:26 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (244.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.9ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (172.8ms)
Completed 200 OK in 1760ms (Views: 1648.1ms | ActiveRecord: 15.3ms)


Started GET "/products" for ::1 at 2015-08-08 18:32:32 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Completed 500 Internal Server Error in 20ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/controllers/user_products_controller.rb:79:in `find_user'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (126.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (25.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (231.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (3.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (73.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (211.7ms)


Started GET "/products" for ::1 at 2015-08-08 18:32:33 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 11ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/controllers/user_products_controller.rb:79:in `find_user'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (160.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (40.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (264.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (66.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (143.3ms)


Started GET "/products" for ::1 at 2015-08-08 18:33:48 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (1.8ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (304.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (82.2ms)
Completed 200 OK in 1965ms (Views: 1702.7ms | ActiveRecord: 26.9ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 18:33:53 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:33:53 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:33:53 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:33:53 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:33:53 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 18:33:53 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 18:33:54 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 18:33:55 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 18:33:55 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 18:33:55 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:33:55 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:33:55 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:33:55 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:33:55 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 18:33:55 +0800


Started GET "/products/2/edit" for ::1 at 2015-08-08 18:34:08 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (1.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (1.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  Rendered user_products/edit.html.erb within layouts/application (376.8ms)
  [1m[36mCACHE (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (47.1ms)
Completed 200 OK in 2262ms (Views: 2219.1ms | ActiveRecord: 6.0ms)


Started PATCH "/products/2" for ::1 at 2015-08-08 18:34:12 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8wkUErmifC3v1+enBwRO7ih1KVX/5biRmJJPVSivhwSK5UIocf3rFR20RcSzugrqM+obCJmxsmEysJK2vNnsig==", "product"=>{"title"=>"M10", "description"=>"444", "category_list"=>["4", ""]}, "commit"=>"Submit", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.9ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 2]]
Unpermitted parameter: category_list
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTag Exists (0.9ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 4]]
  [1m[35mTag Load (0.8ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 4 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 2 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 4], ["context", "categorys"], ["taggable_id", 2], ["taggable_type", "Product"], ["created_at", "2015-08-08 10:34:20.464524"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 4]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (1.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mTag Exists (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.1
Completed 302 Found in 7697ms (ActiveRecord: 17.0ms)


Started GET "/products.1" for ::1 at 2015-08-08 18:34:20 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (293.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (50.6ms)
Completed 200 OK in 2236ms (Views: 2188.9ms | ActiveRecord: 8.7ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:34:49 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (138.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (50.7ms)
Completed 200 OK in 1424ms (Views: 1211.6ms | ActiveRecord: 13.2ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:35:00 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (186.7ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (18.2ms)
Completed 200 OK in 1228ms (Views: 1189.1ms | ActiveRecord: 3.9ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:52:28 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.9ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (178.1ms)
Completed 500 Internal Server Error in 475ms

ActionView::Template::Error (undefined method `scan' for ["hTC"]:ActsAsTaggableOn::TagList):
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    12:         :checked => f.object.category_list.scan(/\w+/) %>
    13:       </div>
    14:       <%= f.submit "Submit", disable_with: 'Submitting...', class: "btn btn-primary"%>
    15:       <%= link_to("Back", tag_products_path(@tag) , class: "btn btn-primary pull-right")%>
  app/views/category_products/edit.html.erb:12:in `block in _app_views_category_products_edit_html_erb___4361737093664385031_70123233179880'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb___4361737093664385031_70123233179880'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (213.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (56.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (333.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (76.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (155.8ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:53:00 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (196.1ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.9ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (66.2ms)
Completed 200 OK in 1310ms (Views: 1266.9ms | ActiveRecord: 4.8ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:53:02 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 18:53:02 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:53:02 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:53:02 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:53:02 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 18:53:02 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 18:53:02 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 18:53:02 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 18:53:03 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 18:53:04 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 18:53:04 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:53:04 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:53:04 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:53:04 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:53:04 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 18:53:04 +0800


Started PATCH "/tags/4/products/1" for ::1 at 2015-08-08 18:53:15 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ZsMdHmvv4d4he+w+wPBl9oQMz6Lfj4uWJCwMu4Ghr7sfL0sko7B25tMYTl10TiHyn5P9/7nbgWaODtFYFdfENQ==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["4", ""]}, "commit"=>"Submit", "tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mTag Exists (14.9ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 4]]
  [1m[35mCACHE (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mCACHE (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (1.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/tags/4/products
Completed 302 Found in 288ms (ActiveRecord: 24.0ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:53:15 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (185.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (50.9ms)
Completed 200 OK in 2278ms (Views: 2232.0ms | ActiveRecord: 8.6ms)


Started GET "/tags/4/products/2/edit" for ::1 at 2015-08-08 18:53:22 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"2"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (381.6ms)
  [1m[36mCACHE (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (37.0ms)
Completed 200 OK in 2374ms (Views: 2312.0ms | ActiveRecord: 4.3ms)


Started GET "/collections" for ::1 at 2015-08-08 18:55:18 +0800

ActionController::RoutingError (No route matches [GET] "/collections"):
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (10.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (75.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (6.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (671.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (70.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (149.1ms)


Started GET "/products" for ::1 at 2015-08-08 18:55:23 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (158.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (37.7ms)
Completed 200 OK in 1237ms (Views: 1215.9ms | ActiveRecord: 6.1ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 18:55:27 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (14.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (94.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (23.9ms)
Completed 200 OK in 1357ms (Views: 1299.9ms | ActiveRecord: 19.4ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:55:31 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (255.7ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (21.2ms)
Completed 200 OK in 1521ms (Views: 1491.0ms | ActiveRecord: 3.9ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:56:08 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (302.9ms)
Completed 500 Internal Server Error in 376ms

ActionView::Template::Error (undefined method `scan' for ["hTC"]:ActsAsTaggableOn::TagList):
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    12:         input_html: { :checked => f.object.category_list.scan(/\w+/) } %>
    13:       </div>
    14:       <%= f.submit "Submit", disable_with: 'Submitting...', class: "btn btn-primary"%>
    15:       <%= link_to("Back", tag_products_path(@tag) , class: "btn btn-primary pull-right")%>
  app/views/category_products/edit.html.erb:12:in `block in _app_views_category_products_edit_html_erb___4361737093664385031_70123232316780'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb___4361737093664385031_70123232316780'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (485.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (120.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (690.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (96.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (191.1ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:56:51 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (1.5ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (1.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (360.5ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (35.4ms)
Completed 200 OK in 2352ms (Views: 2304.9ms | ActiveRecord: 5.7ms)


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:56:54 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:56:54 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:56:54 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 18:56:54 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 18:56:54 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 18:56:54 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 18:56:54 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 18:56:54 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 18:56:55 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 18:56:56 +0800


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:57:23 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (328.9ms)
Completed 500 Internal Server Error in 401ms

ActionView::Template::Error (undefined method `pluck' for ["hTC"]:ActsAsTaggableOn::TagList):
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    12:         input_html: { checked: @product.category_list.pluck(:id) } %>
    13:       </div>
    14:       <%= f.submit "Submit", disable_with: 'Submitting...', class: "btn btn-primary"%>
    15:       <%= link_to("Back", tag_products_path(@tag) , class: "btn btn-primary pull-right")%>
  app/views/category_products/edit.html.erb:12:in `block in _app_views_category_products_edit_html_erb___4361737093664385031_70123250560260'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb___4361737093664385031_70123250560260'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (342.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (52.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (461.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (149.4ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 18:59:18 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (324562.2ms)
Completed 500 Internal Server Error in 324664ms

ActionView::Template::Error (undefined method `pluck' for ["hTC"]:ActsAsTaggableOn::TagList):
    10:         <%= f.file_field :image %>
    11:         <%= binding.pry %>
    12:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    13:         input_html: { checked: @product.category_list } %>
    14:       </div>
    15:       <%= f.submit "Submit", disable_with: 'Submitting...', class: "btn btn-primary"%>
    16:       <%= link_to("Back", tag_products_path(@tag) , class: "btn btn-primary pull-right")%>
  app/views/category_products/edit.html.erb:13:in `block in _app_views_category_products_edit_html_erb__540839503213854442_70231016064120'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb__540839503213854442_70231016064120'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (221.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (47.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (331.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (71.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (149.0ms)


Started GET "/products" for ::1 at 2015-08-08 19:07:00 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (1.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (410.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (58.1ms)
Completed 200 OK in 4637ms (Views: 4297.9ms | ActiveRecord: 25.2ms)


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 19:07:09 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 19:07:10 +0800


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:09:13 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (82.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (24.4ms)
Completed 200 OK in 1162ms (Views: 1031.8ms | ActiveRecord: 5.6ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:09:20 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (6260.8ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.6ms)
Completed 200 OK in 7205ms (Views: 7182.3ms | ActiveRecord: 2.5ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:19:26 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.7ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (6428.5ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (36.0ms)
Completed 200 OK in 8254ms (Views: 8194.4ms | ActiveRecord: 5.5ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 19:19:35 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:19:35 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:19:35 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:19:35 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:19:35 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 19:19:35 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 19:19:35 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:19:36 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 19:19:37 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 19:19:37 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:19:37 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:19:37 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:19:37 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 19:19:37 +0800


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:22:41 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (314.9ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (32.0ms)
Completed 200 OK in 2144ms (Views: 2091.2ms | ActiveRecord: 3.6ms)


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 19:22:43 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:22:43 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 19:22:43 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:22:43 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:22:43 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 19:22:44 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 19:22:45 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 19:22:45 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 19:22:45 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:22:45 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:22:45 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:22:45 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:22:45 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 19:22:45 +0800


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:22:48 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (1.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (1.3ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (165.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (44.8ms)
Completed 200 OK in 1978ms (Views: 1934.5ms | ActiveRecord: 8.0ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:22:51 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (289.5ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (35.9ms)
Completed 200 OK in 2095ms (Views: 2055.5ms | ActiveRecord: 3.6ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:27:04 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  Rendered category_products/edit.html.erb within layouts/application (9.4ms)
Completed 500 Internal Server Error in 79ms

SyntaxError (/Users/sherylhsu/workspace/takobear/blog_hunt/BlogBasicTest/app/views/category_products/edit.html.erb:13: syntax error, unexpected ':', expecting ')'
        input_html: { class: "form-control", che...
                   ^):
  app/views/category_products/edit.html.erb:13: syntax error, unexpected ':', expecting ')'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (426.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (109.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (603.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (13.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (92.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (179.4ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:27:20 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (366.3ms)
  [1m[36mCACHE (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (58.0ms)
Completed 200 OK in 2282ms (Views: 2218.9ms | ActiveRecord: 4.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 19:27:23 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 19:27:24 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 19:27:25 +0800


Started PATCH "/tags/4/products/1" for ::1 at 2015-08-08 19:27:29 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"yyG1Rs0HJbQAlng/J5G96H7BXUTsDAI+ot4kwu5Fe8GyzeN8BViyjPL12lyTL/nsZV5vGYpYCM4I/PkhejMQTw==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["4", ""]}, "commit"=>"Submit", "tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.8ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mTag Exists (0.9ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 4]]
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", "4"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Exists (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
Redirected to http://localhost:3000/tags/4/products
Completed 302 Found in 301ms (ActiveRecord: 10.0ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:27:29 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (149.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (50.3ms)
Completed 200 OK in 2042ms (Views: 1981.1ms | ActiveRecord: 7.5ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:27:34 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (350.9ms)
  [1m[35mCACHE (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (1.0ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (45.3ms)
Completed 200 OK in 2223ms (Views: 2164.6ms | ActiveRecord: 4.9ms)


Started GET "/" for ::1 at 2015-08-08 19:41:16 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (37.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (41.4ms)
Completed 200 OK in 528ms (Views: 492.2ms | ActiveRecord: 3.4ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:41:18 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (13.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 352ms (Views: 227.9ms | ActiveRecord: 1.7ms)


Started GET "/tags" for ::1 at 2015-08-08 19:41:20 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (3.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 163ms (Views: 158.8ms | ActiveRecord: 0.9ms)


Started GET "/tags/new" for ::1 at 2015-08-08 19:41:23 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (45.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 205ms (Views: 202.2ms | ActiveRecord: 0.6ms)


Started POST "/tags" for ::1 at 2015-08-08 19:41:26 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"NsQSa1OTw0Rkd/+kn0nAW50DJBdJII+sFS7qrBsg2KlPKERRm8xUfJYUXccr94RfhpwWSi90hVy/DDdPj1azJw==", "tag"=>{"name"=>"Apple"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'Apple' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "tags" ("name") VALUES (?)  [["name", "Apple"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/5/taggings/new
Completed 302 Found in 14ms (ActiveRecord: 6.5ms)


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 19:41:26 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (9.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (5.1ms)
Completed 200 OK in 161ms (Views: 152.5ms | ActiveRecord: 1.1ms)


Started POST "/tags/5/taggings" for ::1 at 2015-08-08 19:41:32 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"51uCryKHlHyQC3it8rjjYKabkrdgAVWpunhbyZ/hVsuet9SV6tgDRGJo2s5GBqdkvQSg6gZVX1kQWoYqC5c9RQ==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"4"}, "commit"=>"Submit", "tag_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 5], ["created_at", "2015-08-08 11:41:32.038198"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 5]]
  [1m[35m (5.8ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 19ms (ActiveRecord: 7.1ms)


Started GET "/tags" for ::1 at 2015-08-08 19:41:32 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 147ms (Views: 144.1ms | ActiveRecord: 0.7ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:41:41 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (7.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (8.9ms)
Completed 200 OK in 208ms (Views: 202.5ms | ActiveRecord: 2.0ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:41:53 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (28.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.1ms)
Completed 200 OK in 194ms (Views: 185.7ms | ActiveRecord: 1.2ms)


Started PATCH "/tags/4/products/1" for ::1 at 2015-08-08 19:41:57 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Sbcr9YfvLUh5/xzKVW331jmEtUuI9AFoqijoHvRZ+1UwW33PT7C6cIucvqnh07PSIhuHFu6gC5gACjX9YC+Q2w==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["5", ""]}, "commit"=>"Submit", "tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  commit transaction
  [1m[36mTag Exists (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 5]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc') OR LOWER(name) = LOWER('apple'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 5], ["context", "categorys"], ["taggable_id", 1], ["taggable_type", "Product"], ["created_at", "2015-08-08 11:41:57.955509"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 5]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/tags/4/products
Completed 302 Found in 32ms (ActiveRecord: 4.1ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:41:57 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (10.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 157ms (Views: 152.5ms | ActiveRecord: 1.5ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 19:42:00 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('apple'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_476432a WHERE produ_catego_taggings_476432a.taggable_id = products.id AND produ_catego_taggings_476432a.taggable_type = 'Product' AND produ_catego_taggings_476432a.context = 'categorys' AND produ_catego_taggings_476432a.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (7.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.4ms)
Completed 200 OK in 156ms (Views: 151.8ms | ActiveRecord: 1.7ms)


Started GET "/" for ::1 at 2015-08-08 19:42:04 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (10.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 146ms (Views: 144.1ms | ActiveRecord: 1.4ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:42:09 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (7.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 185ms (Views: 180.5ms | ActiveRecord: 1.5ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 19:42:13 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('apple'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_476432a WHERE produ_catego_taggings_476432a.taggable_id = products.id AND produ_catego_taggings_476432a.taggable_type = 'Product' AND produ_catego_taggings_476432a.context = 'categorys' AND produ_catego_taggings_476432a.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (8.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.1ms)
Completed 200 OK in 161ms (Views: 156.0ms | ActiveRecord: 1.6ms)


Started GET "/tags/5/products/1/edit" for ::1 at 2015-08-08 19:42:45 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"5", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (19.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 186ms (Views: 182.7ms | ActiveRecord: 1.0ms)


Started PATCH "/tags/5/products/1" for ::1 at 2015-08-08 19:42:55 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xUNLiJi9wDdBUipsYw+pvZuUDSzRV97sg9F2+kedKPC8rx2yUOJXD7MxiA/Xse25gAs/cbcD1Bwp86sZ0+tDfg==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["4", ""]}, "commit"=>"Submit", "tag_id"=>"5", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mTag Exists (0.3ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 4]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc') OR LOWER(name) = LOWER('apple'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Exists (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
Redirected to http://localhost:3000/tags/5/products
Completed 302 Found in 25ms (ActiveRecord: 2.0ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 19:42:55 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('apple'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_476432a WHERE produ_catego_taggings_476432a.taggable_id = products.id AND produ_catego_taggings_476432a.taggable_type = 'Product' AND produ_catego_taggings_476432a.context = 'categorys' AND produ_catego_taggings_476432a.tag_id in (5)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (8.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (5.2ms)
Completed 200 OK in 160ms (Views: 153.8ms | ActiveRecord: 2.1ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:42:59 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (6.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 132ms (Views: 128.3ms | ActiveRecord: 1.4ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 19:43:32 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('apple'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_476432a WHERE produ_catego_taggings_476432a.taggable_id = products.id AND produ_catego_taggings_476432a.taggable_type = 'Product' AND produ_catego_taggings_476432a.context = 'categorys' AND produ_catego_taggings_476432a.tag_id in (5)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (6.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 163ms (Views: 158.7ms | ActiveRecord: 1.5ms)


Started DELETE "/tags/5/products/1" for ::1 at 2015-08-08 19:43:41 +0800
Processing by CategoryProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EEFrOGNWZ2iqZEVZMksUJ9enGXQWP3yxKU84TuT/HExprT0CqwnwUFgH5zqG9VAjzDgrKXBrdkGDbeWtcIl3wg==", "tag_id"=>"5", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mVote Load (0.2ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ?[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.1ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ?  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.2ms)[0m  [1mSELECT "taggings".* FROM "taggings" INNER JOIN "tags" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mCollectionItem Load (0.1ms)[0m  SELECT "collection_items".* FROM "collection_items" WHERE "collection_items"."product_id" = ?  [["product_id", 1]]
  [1m[36mPost Load (0.1ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?[0m  [["product_id", 1]]
  [1m[35mVote Load (0.1ms)[0m  SELECT "votes".* FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ?  [["voteable_id", 1], ["voteable_type", "Post"]]
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = ?[0m  [["post_id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) - 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.7ms)[0m  rollback transaction
Completed 500 Internal Server Error in 98ms

NoMethodError (undefined method `destroy' for []:ActsAsTaggableOn::TagList):
  app/models/product.rb:51:in `destroy_category'
  app/controllers/category_products_controller.rb:50:in `destroy'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (46.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (98.3ms)


Started DELETE "/tags/5/products/1" for ::1 at 2015-08-08 19:44:03 +0800
Processing by CategoryProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EEFrOGNWZ2iqZEVZMksUJ9enGXQWP3yxKU84TuT/HExprT0CqwnwUFgH5zqG9VAjzDgrKXBrdkGDbeWtcIl3wg==", "tag_id"=>"5", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mVote Load (0.1ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ?[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.1ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ?  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.0ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.0ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.0ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mSQL (0.0ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.1ms)[0m  [1mSELECT "taggings".* FROM "taggings" INNER JOIN "tags" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mCollectionItem Load (0.1ms)[0m  SELECT "collection_items".* FROM "collection_items" WHERE "collection_items"."product_id" = ?  [["product_id", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?[0m  [["product_id", 1]]
  [1m[35mVote Load (0.1ms)[0m  SELECT "votes".* FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ?  [["voteable_id", 1], ["voteable_type", "Post"]]
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = ?[0m  [["post_id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) - 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.6ms)[0m  rollback transaction
Completed 500 Internal Server Error in 93ms

NoMethodError (undefined method `delete_all' for []:ActsAsTaggableOn::TagList):
  app/models/product.rb:51:in `destroy_category'
  app/controllers/category_products_controller.rb:50:in `destroy'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (51.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (107.5ms)


Started DELETE "/tags/5/products/1" for ::1 at 2015-08-08 19:44:32 +0800
Processing by CategoryProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EEFrOGNWZ2iqZEVZMksUJ9enGXQWP3yxKU84TuT/HExprT0CqwnwUFgH5zqG9VAjzDgrKXBrdkGDbeWtcIl3wg==", "tag_id"=>"5", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mVote Load (0.3ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ?[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.3ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ?  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.3ms)[0m  [1mSELECT "taggings".* FROM "taggings" INNER JOIN "tags" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mCollectionItem Load (0.1ms)[0m  SELECT "collection_items".* FROM "collection_items" WHERE "collection_items"."product_id" = ?  [["product_id", 1]]
  [1m[36mPost Load (0.2ms)[0m  [1mSELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?[0m  [["product_id", 1]]
  [1m[35mVote Load (0.1ms)[0m  SELECT "votes".* FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ?  [["voteable_id", 1], ["voteable_type", "Post"]]
  [1m[36mComment Load (0.1ms)[0m  [1mSELECT "comments".* FROM "comments" WHERE "comments"."post_id" = ?[0m  [["post_id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "posts" WHERE "posts"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) - 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (1.5ms)[0m  rollback transaction
Completed 500 Internal Server Error in 155685ms

NoMethodError (undefined method `delete_all' for []:ActsAsTaggableOn::TagList):
  app/models/product.rb:52:in `destroy_category'
  app/controllers/category_products_controller.rb:50:in `destroy'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (188.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (48.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (300.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (66.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (138.8ms)


Started DELETE "/tags/5/products/4" for ::1 at 2015-08-08 19:47:18 +0800
Processing by CategoryProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EEFrOGNWZ2iqZEVZMksUJ9enGXQWP3yxKU84TuT/HExprT0CqwnwUFgH5zqG9VAjzDgrKXBrdkGDbeWtcIl3wg==", "tag_id"=>"5", "id"=>"4"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 4]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mVote Load (0.4ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ?[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.4ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ?  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.5ms)[0m  SELECT "taggings".* FROM "taggings" INNER JOIN "tags" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mCollectionItem Load (0.3ms)[0m  [1mSELECT "collection_items".* FROM "collection_items" WHERE "collection_items"."product_id" = ?[0m  [["product_id", 4]]
  [1m[35mPost Load (0.3ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?  [["product_id", 4]]
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 4]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) - 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.6ms)[0m  rollback transaction
Completed 500 Internal Server Error in 36502ms

NoMethodError (undefined method `delete_all' for []:ActsAsTaggableOn::TagList):
  app/models/product.rb:52:in `destroy_category'
  app/controllers/category_products_controller.rb:50:in `destroy'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (193.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (35.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (292.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (66.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (154.3ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:48:02 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (1.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (145.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (1.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (108.7ms)
Completed 200 OK in 2087ms (Views: 2020.7ms | ActiveRecord: 11.2ms)


Started DELETE "/tags/4/products/2" for ::1 at 2015-08-08 19:48:13 +0800
Processing by CategoryProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"O6HzLNjuMduPPDADo6D5yGV2DuR2Yk2+9/R4IygdgFNCTaUWELGm431fkmAXHr3Mfuk8uRA2R05d1qXAvGvr3Q==", "tag_id"=>"4", "id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 2]]
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mVote Load (0.8ms)[0m  [1mSELECT "votes".* FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ?[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.8ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ?  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.8ms)[0m  SELECT "taggings".* FROM "taggings" INNER JOIN "tags" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 2], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mCollectionItem Load (0.5ms)[0m  [1mSELECT "collection_items".* FROM "collection_items" WHERE "collection_items"."product_id" = ?[0m  [["product_id", 2]]
  [1m[35mPost Load (0.5ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?  [["product_id", 2]]
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) - 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[35mTag Load (0.1ms)[0m  SELECT "tags".* FROM "tags"
  [1m[36mTagging Load (0.1ms)[0m  [1mSELECT "taggings".* FROM "taggings"[0m
  [1m[35m (1.1ms)[0m  rollback transaction
Completed 500 Internal Server Error in 92947ms

NoMethodError (undefined method `delete_all' for []:ActsAsTaggableOn::TagList):
  app/models/product.rb:52:in `destroy_category'
  app/controllers/category_products_controller.rb:50:in `destroy'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (197.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (49.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (305.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (82.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (185.0ms)


Started GET "/tags/4/products/1" for ::1 at 2015-08-08 19:50:04 +0800
Processing by CategoryProductsController#show as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.9ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
Completed 404 Not Found in 58ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/category_products_controller.rb:12:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (297.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (69.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (18.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (452.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (90.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (186.4ms)


Started GET "/tags/4/products/1" for ::1 at 2015-08-08 19:50:07 +0800
Processing by CategoryProductsController#show as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
Completed 404 Not Found in 45ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/category_products_controller.rb:12:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (159.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (60.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (296.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (66.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (146.9ms)


Started GET "/tags/4/products/1" for ::1 at 2015-08-08 19:50:09 +0800
Processing by CategoryProductsController#show as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
Completed 404 Not Found in 50ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/category_products_controller.rb:12:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (155.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (35.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (267.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (151.1ms)


Started GET "/tags/4/products/1" for ::1 at 2015-08-08 19:50:49 +0800
Processing by CategoryProductsController#show as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (1.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT  "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4))) AND "products"."id" = ?  ORDER BY "products"."updated_at" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.3ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
Completed 404 Not Found in 44141ms

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/category_products_controller.rb:13:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (205.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (46.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (311.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (68.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (142.0ms)


Started GET "/tags/4/products/1" for ::1 at 2015-08-08 19:51:44 +0800
Processing by CategoryProductsController#show as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (1.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT  "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4))) AND "products"."id" = ?  ORDER BY "products"."updated_at" ASC LIMIT 1  [["id", 1]]
  Rendered category_products/show.html.erb within layouts/application (81.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (1.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (129.4ms)
Completed 200 OK in 5151ms (Views: 2140.9ms | ActiveRecord: 16.0ms)


Started GET "/" for ::1 at 2015-08-08 19:52:19 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (1.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (229.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (150.4ms)
Completed 200 OK in 1662ms (Views: 1547.8ms | ActiveRecord: 26.8ms)


Started GET "/products/1" for ::1 at 2015-08-08 19:52:28 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  Rendered user_products/show.html.erb within layouts/application (9.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (27.9ms)
Completed 200 OK in 1285ms (Views: 1205.9ms | ActiveRecord: 2.8ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:52:33 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.8ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (13.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (94.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (43.5ms)
Completed 200 OK in 1416ms (Views: 1331.9ms | ActiveRecord: 20.0ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:52:37 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (1.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (97.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (27.1ms)
Completed 200 OK in 1438ms (Views: 1387.5ms | ActiveRecord: 6.9ms)


Started GET "/tags/4/products/1/edit" for ::1 at 2015-08-08 19:52:39 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"4", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (276.5ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (24.9ms)
Completed 200 OK in 1613ms (Views: 1581.3ms | ActiveRecord: 4.2ms)


Started PATCH "/tags/4/products/1" for ::1 at 2015-08-08 19:52:44 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"iEjYtREXPe5JareOlN2QkaePl66ZX4i4hqHWx/wL2CrxpI6P2Uiq1rsJFe0gY9SVvBCl8/8LgkgsgwskaH2zpA==", "product"=>{"title"=>"M9", "description"=>"123", "category_list"=>["4", ""]}, "commit"=>"Submit", "tag_id"=>"4", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mTag Exists (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 4]]
  [1m[35mCACHE (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc') OR LOWER(name) = LOWER('apple'))[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/tags/4/products
Completed 302 Found in 193ms (ActiveRecord: 7.0ms)


Started GET "/tags/4/products" for ::1 at 2015-08-08 19:52:44 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (15.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_053ca21 WHERE produ_catego_taggings_053ca21.taggable_id = products.id AND produ_catego_taggings_053ca21.taggable_type = 'Product' AND produ_catego_taggings_053ca21.context = 'categorys' AND produ_catego_taggings_053ca21.tag_id in (4)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (105.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (43.8ms)
Completed 200 OK in 1497ms (Views: 1448.0ms | ActiveRecord: 20.4ms)
  [1m[36m (2.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.3ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20150802073948)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150802073948"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to CollectionsAndProductions (20150802074408)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "products_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "collection_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer DEFAULT 0 NOT NULL, "product_id" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_collection_items_on_collection_id" ON "collection_items" ("collection_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_collection_items_on_product_id" ON "collection_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "collections_count" integer DEFAULT 0 NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_products_on_user_id" ON "products" ("user_id")[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "products_count" integer DEFAULT 0
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150802074408"]]
  [1m[35m (1.5ms)[0m  commit transaction
Migrating to CreateRoles (20150802081239)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "users_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ADD "role_id" integer DEFAULT 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "SuperAdmin"], ["created_at", "2015-08-08 11:56:48.508962"], ["updated_at", "2015-08-08 11:56:48.508962"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ProductAdmin"], ["created_at", "2015-08-08 11:56:48.510805"], ["updated_at", "2015-08-08 11:56:48.510805"]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "RegisteredUser"], ["created_at", "2015-08-08 11:56:48.512539"], ["updated_at", "2015-08-08 11:56:48.512539"]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'blog_admin@takobearnet.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "blog_admin@takobearnet.com"], ["encrypted_password", "$2a$10$r9rBLQL1vD9pEx2yN/diYOYEU6zweN56uyqCW4W6E.kTEo7MzY.pi"], ["role_id", 1], ["created_at", "2015-08-08 11:56:48.625194"], ["updated_at", "2015-08-08 11:56:48.625194"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "roles" SET "users_count" = COALESCE("users_count", 0) + 1 WHERE "roles"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150802081239"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to AddMoreFieldToProducts (20150805030909)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "products" ADD "description" varchar[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE "products" ADD "image" varchar
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150805030909"]]
  [1m[35m (0.9ms)[0m  commit transaction
Migrating to RemoveUniqueToProducts (20150805040325)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_on_user_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1mDROP INDEX "index_products_on_user_id"[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805040325"]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePosts (20150805061843)
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "is_public" boolean DEFAULT 't' NOT NULL, "image" varchar DEFAULT '' NOT NULL, "product_id" integer, "vote_count" integer DEFAULT 0 NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805061843"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to ThumbsUpMigration (20150805081457)
  [1m[35m (0.1ms)[0m  begin transaction
DEPRECATION WARNING: `#timestamp` was called without specifying an option for `null`. In Rails 5, this behavior will change to `null: false`. You should manually specify `null: true` to prevent the behavior of your existing migrations from changing. (called from block in up at /Users/sherylhsu/workspace/takobear/blog_hunt/BlogBasicTest/db/migrate/20150805081457_thumbs_up_migration.rb:8)
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "vote" boolean DEFAULT 'f' NOT NULL, "voteable_id" integer NOT NULL, "voteable_type" varchar NOT NULL, "voter_id" integer, "voter_type" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_votes_on_voter_id_and_voter_type" ON "votes" ("voter_id", "voter_type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE  INDEX "index_votes_on_voteable_id_and_voteable_type" ON "votes" ("voteable_id", "voteable_type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "fk_one_vote_per_user_per_entity" ON "votes" ("voter_id", "voter_type", "voteable_id", "voteable_type")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805081457"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateComments (20150805170018)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "post_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805170018"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Migrating to ActsAsTaggableOnMigration (20150808064028)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "tags" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "taggings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tag_id" integer, "taggable_id" integer, "taggable_type" varchar, "tagger_id" integer, "tagger_type" varchar, "context" varchar(128), "created_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_taggings_on_tag_id" ON "taggings" ("tag_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808064028"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to AddMissingUniqueIndices (20150808064029)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "index_tags_on_name" ON "tags" ("name")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_taggings_on_tag_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context"
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "taggings_idx" ON "taggings" ("tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808064029"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to AddTaggingsCounterCacheToTags (20150808064030)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "tags" ADD "taggings_count" integer DEFAULT 0[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags"  ORDER BY "tags"."id" ASC LIMIT 1000
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150808064030"]]
  [1m[35m (1.2ms)[0m  commit transaction
Migrating to AddMissingTaggableIndex (20150808064031)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'

  [1m[36m (0.3ms)[0m  [1mCREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808064031"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to ChangeCollationForTagNames (20150808064032)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150808064032"]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m


Started GET "/" for ::1 at 2015-08-08 19:57:15 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered main_pages/index.html.erb within layouts/application (3.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (66.7ms)
Completed 200 OK in 491ms (Views: 456.1ms | ActiveRecord: 2.1ms)


Started GET "/users/sign_in" for ::1 at 2015-08-08 19:57:19 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (68.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 290ms (Views: 287.4ms | ActiveRecord: 0.3ms)


Started POST "/users/sign_in" for ::1 at 2015-08-08 19:57:22 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"G++1u7oJCVVJXWeBjrW7/DIpPYSgSMaFppJkFkw461RiA+OBclaebbs+xeI6C//4KbYP2cYczHUMsLn12E6A2g==", "user"=>{"email"=>"blog_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "blog_admin@takobearnet.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", "2015-08-08 11:57:22.358977"], ["updated_at", "2015-08-08 11:57:22.360682"], ["id", 1]]
  [1m[35m (5.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2015-08-08 11:57:22.369800"], ["current_sign_in_at", "2015-08-08 11:57:22.369800"], ["last_sign_in_ip", "::1"], ["current_sign_in_ip", "::1"], ["sign_in_count", 1], ["updated_at", "2015-08-08 11:57:22.371396"], ["id", 1]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 107ms (ActiveRecord: 8.1ms)


Started GET "/" for ::1 at 2015-08-08 19:57:22 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered main_pages/index.html.erb within layouts/application (1.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (17.7ms)
Completed 200 OK in 153ms (Views: 150.6ms | ActiveRecord: 1.2ms)


Started GET "/tags" for ::1 at 2015-08-08 19:57:25 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 145ms (Views: 142.1ms | ActiveRecord: 0.8ms)


Started GET "/tags/new" for ::1 at 2015-08-08 19:57:28 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (7.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 158ms (Views: 149.4ms | ActiveRecord: 0.8ms)


Started POST "/tags" for ::1 at 2015-08-08 19:57:30 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6/msc4JCyVSArq85YruumjKVPjhhf1V1SWIEP7Yvewsi4XdJVvyeNhAGlL5s1efZwEmFnyXMkr99YtsROJthMg==", "tag"=>{"name"=>"hTC"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'hTC' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "tags" ("name") VALUES (?)  [["name", "hTC"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/1/taggings/new
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)


Started GET "/tags/1/taggings/new" for ::1 at 2015-08-08 19:57:30 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (8.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 162ms (Views: 146.2ms | ActiveRecord: 1.3ms)


Started GET "/tags/1/taggings" for ::1 at 2015-08-08 19:57:34 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
  Rendered category_taggings/index.html.erb within layouts/application (5.4ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    14:     </tr>
    15:     </thead>
    16:     <tbody>
    17:     <% @product.each do |product| %>
    18:         <tr>
    19:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    20:           <td><%= link_to(product.title , product_path(product)) %></td>
  app/views/category_taggings/index.html.erb:17:in `_app_views_category_taggings_index_html_erb__4236980164016115552_70195169956800'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (98.3ms)


Started GET "/tags/1/taggings" for ::1 at 2015-08-08 19:57:34 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
  Rendered category_taggings/index.html.erb within layouts/application (3.3ms)
Completed 500 Internal Server Error in 10ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    14:     </tr>
    15:     </thead>
    16:     <tbody>
    17:     <% @product.each do |product| %>
    18:         <tr>
    19:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    20:           <td><%= link_to(product.title , product_path(product)) %></td>
  app/views/category_taggings/index.html.erb:17:in `_app_views_category_taggings_index_html_erb__4236980164016115552_70195165633920'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (49.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (100.0ms)


Started GET "/tags" for ::1 at 2015-08-08 19:59:07 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.4ms)
Completed 200 OK in 166ms (Views: 160.2ms | ActiveRecord: 0.7ms)


Started GET "/tags" for ::1 at 2015-08-08 19:59:59 +0800

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  activerecord (4.2.0) lib/active_record/migration.rb:393:in `check_pending!'
  activerecord (4.2.0) lib/active_record/migration.rb:374:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (52.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (104.4ms)


Started GET "/" for ::1 at 2015-08-08 20:00:05 +0800

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  activerecord (4.2.0) lib/active_record/migration.rb:393:in `check_pending!'
  activerecord (4.2.0) lib/active_record/migration.rb:374:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (50.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (99.0ms)
  [1m[36m (319.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.2ms)[0m  select sqlite_version(*)
  [1m[36m (1.6ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to DeviseCreateUsers (20150802073948)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150802073948"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Migrating to CollectionsAndProductions (20150802074408)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "products_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "collection_items" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "collection_id" integer DEFAULT 0 NOT NULL, "product_id" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_collection_items_on_collection_id" ON "collection_items" ("collection_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_collection_items_on_product_id" ON "collection_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "collections_count" integer DEFAULT 0 NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "index_products_on_user_id" ON "products" ("user_id")[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "users" ADD "products_count" integer DEFAULT 0
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150802074408"]]
  [1m[35m (1.7ms)[0m  commit transaction
Migrating to CreateRoles (20150802081239)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "users_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "users" ADD "role_id" integer DEFAULT 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "SuperAdmin"], ["created_at", "2015-08-08 12:00:16.257745"], ["updated_at", "2015-08-08 12:00:16.257745"]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "ProductAdmin"], ["created_at", "2015-08-08 12:00:16.259451"], ["updated_at", "2015-08-08 12:00:16.259451"]]
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)  [["name", "RegisteredUser"], ["created_at", "2015-08-08 12:00:16.260510"], ["updated_at", "2015-08-08 12:00:16.260510"]]
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'blog_admin@takobearnet.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "blog_admin@takobearnet.com"], ["encrypted_password", "$2a$10$/ycgqNgAuaE/qIGlHUY3DuJrmplDe3RWRx61vCTuNCmLyj3Ekb4.W"], ["role_id", 1], ["created_at", "2015-08-08 12:00:16.372373"], ["updated_at", "2015-08-08 12:00:16.372373"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "roles" SET "users_count" = COALESCE("users_count", 0) + 1 WHERE "roles"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150802081239"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to AddMoreFieldToProducts (20150805030909)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "products" ADD "description" varchar[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "products" ADD "image" varchar
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150805030909"]]
  [1m[35m (1.9ms)[0m  commit transaction
Migrating to RemoveUniqueToProducts (20150805040325)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_products_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_products_on_user_id' AND type='index'

  [1m[36m (0.4ms)[0m  [1mDROP INDEX "index_products_on_user_id"[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805040325"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Migrating to CreatePosts (20150805061843)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "posts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "description" text DEFAULT '' NOT NULL, "is_public" boolean DEFAULT 't' NOT NULL, "image" varchar DEFAULT '' NOT NULL, "product_id" integer, "vote_count" integer DEFAULT 0 NOT NULL, "user_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805061843"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Migrating to ThumbsUpMigration (20150805081457)
  [1m[35m (0.1ms)[0m  begin transaction
DEPRECATION WARNING: `#timestamp` was called without specifying an option for `null`. In Rails 5, this behavior will change to `null: false`. You should manually specify `null: true` to prevent the behavior of your existing migrations from changing. (called from block in up at /Users/sherylhsu/workspace/takobear/blog_hunt/BlogBasicTest/db/migrate/20150805081457_thumbs_up_migration.rb:8)
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "votes" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "vote" boolean DEFAULT 'f' NOT NULL, "voteable_id" integer NOT NULL, "voteable_type" varchar NOT NULL, "voter_id" integer, "voter_type" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.4ms)[0m  CREATE  INDEX "index_votes_on_voter_id_and_voter_type" ON "votes" ("voter_id", "voter_type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE  INDEX "index_votes_on_voteable_id_and_voteable_type" ON "votes" ("voteable_id", "voteable_type")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'

  [1m[36m (0.6ms)[0m  [1mCREATE UNIQUE INDEX "fk_one_vote_per_user_per_entity" ON "votes" ("voter_id", "voter_type", "voteable_id", "voteable_type")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805081457"]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
Migrating to CreateComments (20150805170018)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "comments" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "content" text, "user_id" integer, "post_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150805170018"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to ActsAsTaggableOnMigration (20150808064028)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "tags" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "taggings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tag_id" integer, "taggable_id" integer, "taggable_type" varchar, "tagger_id" integer, "tagger_type" varchar, "context" varchar(128), "created_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_taggings_on_tag_id" ON "taggings" ("tag_id")[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808064028"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Migrating to AddMissingUniqueIndices (20150808064029)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE UNIQUE INDEX "index_tags_on_name" ON "tags" ("name")[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_tag_id' AND type='index'
[0m
  [1m[35m (0.3ms)[0m  DROP INDEX "index_taggings_on_tag_id"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  DROP INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context"
  [1m[36m (0.2ms)[0m  [1mCREATE UNIQUE INDEX "taggings_idx" ON "taggings" ("tag_id", "taggable_id", "taggable_type", "context", "tagger_id", "tagger_type")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808064029"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Migrating to AddTaggingsCounterCacheToTags (20150808064030)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "tags" ADD "taggings_count" integer DEFAULT 0[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags"  ORDER BY "tags"."id" ASC LIMIT 1000
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150808064030"]]
  [1m[35m (1.4ms)[0m  commit transaction
Migrating to AddMissingTaggableIndex (20150808064031)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'

  [1m[36m (0.5ms)[0m  [1mCREATE  INDEX "index_taggings_on_taggable_id_and_taggable_type_and_context" ON "taggings" ("taggable_id", "taggable_type", "context")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150808064031"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
Migrating to ChangeCollationForTagNames (20150808064032)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150808064032"]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m


Started GET "/tags" for ::1 at 2015-08-08 20:05:48 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Completed 401 Unauthorized in 43ms


Started GET "/users/sign_in" for ::1 at 2015-08-08 20:05:48 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (76.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (45.0ms)
Completed 200 OK in 550ms (Views: 546.6ms | ActiveRecord: 1.0ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 20:05:48 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:05:48 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:05:48 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:05:48 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:05:48 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 20:05:49 +0800


Started POST "/users/sign_in" for ::1 at 2015-08-08 20:05:51 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ED3ERF/ge/L1YEZ4enI/RCnEmoXYD88UjHRvYzpID6DZJR9+i14skGXIff90HHYH2xghIpy8CN64dLBNtPwVmQ==", "user"=>{"email"=>"blog_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "blog_admin@takobearnet.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2015-08-08 12:05:51.495994"], ["current_sign_in_at", "2015-08-08 12:05:51.495994"], ["last_sign_in_ip", "::1"], ["current_sign_in_ip", "::1"], ["sign_in_count", 1], ["updated_at", "2015-08-08 12:05:51.499506"], ["id", 1]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 103ms (ActiveRecord: 6.5ms)


Started GET "/tags" for ::1 at 2015-08-08 20:05:51 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (14.9ms)
Completed 200 OK in 164ms (Views: 159.9ms | ActiveRecord: 0.9ms)


Started GET "/tags/new" for ::1 at 2015-08-08 20:05:55 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (7.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 188ms (Views: 181.4ms | ActiveRecord: 0.7ms)


Started POST "/tags" for ::1 at 2015-08-08 20:05:58 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hTRR9emefA/PGFZfnRa8hUd8CxlO7+NASJal5aODWXoyjjh42NYgBlH5QxgBnQhskKQWfo9cXNUY7mp/P/dx6w==", "tag"=>{"name"=>"hTC"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.2ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'hTC' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "hTC"]]
  [1m[35m (5.9ms)[0m  commit transaction
Redirected to http://localhost:3000/tags/1/taggings/new
Completed 302 Found in 14ms (ActiveRecord: 6.6ms)


Started GET "/tags/1/taggings/new" for ::1 at 2015-08-08 20:05:58 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (14.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 230ms (Views: 204.8ms | ActiveRecord: 1.7ms)


Started GET "/tags/1/taggings" for ::1 at 2015-08-08 20:06:00 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  Rendered category_taggings/index.html.erb within layouts/application (5.0ms)
Completed 500 Internal Server Error in 102ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167177944740'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (19.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (70.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (43.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (96.4ms)


Started GET "/tags/1/taggings" for ::1 at 2015-08-08 20:06:00 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (6.0ms)
Completed 500 Internal Server Error in 16ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167181696060'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (63.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (48.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (102.9ms)


Started GET "/tags/1/taggings" for ::1 at 2015-08-08 20:10:37 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))
  Rendered category_taggings/index.html.erb within layouts/application (3.2ms)
Completed 500 Internal Server Error in 56ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167177944740'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (61.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (39.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (91.8ms)


Started GET "/tags/1/taggings" for ::1 at 2015-08-08 20:10:37 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('htc'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 12ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167181696060'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (12.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (66.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (93.4ms)


Started POST "/tags" for ::1 at 2015-08-08 20:11:05 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+sUaXQ3OkQfpLz24fy/HhYKWClqKioW1WUkQGzANjlhNf3PQPIbNDnfOKP/jpHNsVU4XPUs5OiAJMd+BrHmmyQ==", "tag"=>{"name"=>"hTC"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.2ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'hTC' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  Rendered categorys/new.html.erb within layouts/application (4.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (24.6ms)
Completed 200 OK in 205ms (Views: 176.6ms | ActiveRecord: 3.0ms)


Started GET "/tags" for ::1 at 2015-08-08 20:11:07 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 143ms (Views: 140.0ms | ActiveRecord: 0.7ms)


Started GET "/tags" for ::1 at 2015-08-08 20:11:12 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 143ms (Views: 140.4ms | ActiveRecord: 0.6ms)


Started GET "/tags/new" for ::1 at 2015-08-08 20:11:15 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (3.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.6ms)
Completed 200 OK in 143ms (Views: 141.0ms | ActiveRecord: 0.5ms)


Started POST "/tags" for ::1 at 2015-08-08 20:11:18 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"9xKX+DKgfeEPvSc/ckKq0BFyCmfoj/Fgu5lxDPFE1X9AqP51A+gh6JFcMnjuyR45xqoXACk8TvXr4b6WbTD97g==", "tag"=>{"name"=>"Apple"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "tags" WHERE "tags"."name" = 'Apple' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "tags" ("name") VALUES (?)  [["name", "Apple"]]
  [1m[36m (5.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/2/taggings/new
Completed 302 Found in 11ms (ActiveRecord: 6.2ms)


Started GET "/tags/2/taggings/new" for ::1 at 2015-08-08 20:11:18 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"2"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (6.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 165ms (Views: 160.2ms | ActiveRecord: 1.1ms)


Started GET "/tags/2/taggings" for ::1 at 2015-08-08 20:11:20 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('apple'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (43.7ms)
Completed 500 Internal Server Error in 77728ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167177944740'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (227.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (59.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (348.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (62.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (140.3ms)


Started GET "/tags/2/taggings/new" for ::1 at 2015-08-08 20:12:40 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"2"}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.7ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (176.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (57.0ms)
Completed 200 OK in 1558ms (Views: 1397.3ms | ActiveRecord: 11.1ms)


Started GET "/tags/2/taggings" for ::1 at 2015-08-08 20:12:44 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('apple'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (10.4ms)
Completed 500 Internal Server Error in 44ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167181696060'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (213.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (55.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (328.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (61.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (141.5ms)


Started GET "/tags/2/taggings/new" for ::1 at 2015-08-08 20:12:49 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (54.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (17.3ms)
Completed 200 OK in 1038ms (Views: 1014.5ms | ActiveRecord: 2.4ms)


Started GET "/tags/2/taggings" for ::1 at 2015-08-08 20:12:53 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('apple'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (9.6ms)
Completed 500 Internal Server Error in 57ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167177944740'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (190.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (54.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (301.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (140.0ms)


Started GET "/tags/2/taggings" for ::1 at 2015-08-08 20:12:55 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('apple'))
  Rendered category_taggings/index.html.erb within layouts/application (11.6ms)
Completed 500 Internal Server Error in 47ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167181696060'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (189.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (53.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (303.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (62.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (136.3ms)


Started GET "/tags" for ::1 at 2015-08-08 20:13:02 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (1.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (8.2ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (23.2ms)
Completed 200 OK in 1230ms (Views: 1208.7ms | ActiveRecord: 2.4ms)


Started GET "/users/sign_in" for ::1 at 2015-08-08 20:13:04 +0800
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 33ms (ActiveRecord: 0.6ms)


Started GET "/products" for ::1 at 2015-08-08 20:13:10 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  Rendered user_products/index.html.erb within layouts/application (12.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (23.4ms)
Completed 200 OK in 1332ms (Views: 1289.4ms | ActiveRecord: 2.3ms)


Started GET "/tags" for ::1 at 2015-08-08 20:13:17 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (9.2ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.5ms)
Completed 200 OK in 1204ms (Views: 1175.9ms | ActiveRecord: 2.0ms)


Started GET "/tags/new" for ::1 at 2015-08-08 20:13:19 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (47.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (21.7ms)
Completed 200 OK in 1253ms (Views: 1227.6ms | ActiveRecord: 1.6ms)


Started POST "/tags" for ::1 at 2015-08-08 20:13:24 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"2QrQGIqLNrBqrcz2naVzGXNrFu5RJHJUOBXsKLHW0aBusLmVu8NqufRM2bEBLsfwpLMLiZCXzcFobSOyLaL5MQ==", "tag"=>{"name"=>"3C"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "tags" WHERE "tags"."name" = '3C' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "tags" ("name") VALUES (?)  [["name", "3C"]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/3/taggings/new
Completed 302 Found in 44ms (ActiveRecord: 8.0ms)


Started GET "/tags/3/taggings/new" for ::1 at 2015-08-08 20:13:24 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (62.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (24.3ms)
Completed 200 OK in 1253ms (Views: 1223.3ms | ActiveRecord: 3.2ms)


Started GET "/tags/3/taggings" for ::1 at 2015-08-08 20:13:29 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (26.1ms)
Completed 500 Internal Server Error in 67ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167177944740'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (231.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (42.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (346.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (13.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (64.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (151.1ms)


Started GET "/tags/3/taggings" for ::1 at 2015-08-08 20:13:31 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c'))
  Rendered category_taggings/index.html.erb within layouts/application (11.9ms)
Completed 500 Internal Server Error in 61ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167181696060'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (236.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (60.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (352.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (77.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (145.5ms)


Started GET "/tags/3/taggings" for ::1 at 2015-08-08 20:13:53 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c'))[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_85ba715 WHERE produ_catego_taggings_85ba715.taggable_id = products.id AND produ_catego_taggings_85ba715.taggable_type = 'Product' AND produ_catego_taggings_85ba715.context = 'categorys' AND produ_catego_taggings_85ba715.tag_id in (3)))  ORDER BY "products"."updated_at" ASC
  Rendered category_taggings/index.html.erb within layouts/application (12.3ms)
Completed 500 Internal Server Error in 36312ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167177944740'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (241.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (61.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (367.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (159.5ms)


Started GET "/tags/3/taggings" for ::1 at 2015-08-08 20:14:34 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_85ba715 WHERE produ_catego_taggings_85ba715.taggable_id = products.id AND produ_catego_taggings_85ba715.taggable_type = 'Product' AND produ_catego_taggings_85ba715.context = 'categorys' AND produ_catego_taggings_85ba715.tag_id in (3)))  ORDER BY "products"."updated_at" ASC
  Rendered category_taggings/index.html.erb within layouts/application (11.5ms)
Completed 500 Internal Server Error in 7273ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167177944740'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (197.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (53.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (308.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (59.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (148.8ms)


Started GET "/tags/3/taggings" for ::1 at 2015-08-08 20:14:43 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (23.7ms)
Completed 500 Internal Server Error in 4060ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__1294958985991715425_70167181696060'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (225.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (40.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (325.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (65.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (155.2ms)


Started GET "/tags/3/taggings" for ::1 at 2015-08-08 20:16:24 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c'))
  Rendered category_taggings/index.html.erb within layouts/application (2.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (32.2ms)
Completed 200 OK in 682ms (Views: 490.7ms | ActiveRecord: 2.8ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 20:16:25 +0800


Started GET "/tags/3/taggings/new" for ::1 at 2015-08-08 20:16:30 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (45.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 184ms (Views: 173.4ms | ActiveRecord: 1.2ms)


Started GET "/tags/3/taggings" for ::1 at 2015-08-08 20:16:34 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"3"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c'))
  Rendered category_taggings/index.html.erb within layouts/application (1.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 142ms (Views: 137.5ms | ActiveRecord: 0.8ms)


Started GET "/tags" for ::1 at 2015-08-08 20:16:43 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (2.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 154ms (Views: 150.5ms | ActiveRecord: 0.8ms)


Started GET "/tags/new" for ::1 at 2015-08-08 20:19:51 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (7.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.3ms)
Completed 200 OK in 153ms (Views: 150.6ms | ActiveRecord: 0.8ms)


Started POST "/tags" for ::1 at 2015-08-08 20:20:19 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"n3BmzHjqe0pl1M4HVwRdApYtlU+NPn+QZcgoyclZ95Uoyg9BSaInQ/s120DLj+nrQfWIKEyNwAU1sOdTVS3fBA==", "tag"=>{"name"=>"家電"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.2ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = '家電' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "家電"]]
  [1m[35m (1.8ms)[0m  commit transaction
Redirected to http://localhost:3000/tags/4/taggings/new
Completed 302 Found in 10ms (ActiveRecord: 2.6ms)


Started GET "/tags/4/taggings/new" for ::1 at 2015-08-08 20:20:19 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (14.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 165ms (Views: 161.2ms | ActiveRecord: 0.9ms)


Started GET "/tags/4/taggings" for ::1 at 2015-08-08 20:20:23 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (1.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電'))
  Rendered category_taggings/index.html.erb within layouts/application (0.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 167ms (Views: 160.3ms | ActiveRecord: 2.3ms)


Started GET "/" for ::1 at 2015-08-08 20:20:28 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered main_pages/index.html.erb within layouts/application (1.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 145ms (Views: 144.2ms | ActiveRecord: 0.6ms)


Started GET "/products" for ::1 at 2015-08-08 20:20:31 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  Rendered user_products/index.html.erb within layouts/application (2.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 142ms (Views: 138.9ms | ActiveRecord: 0.8ms)


Started GET "/products/new" for ::1 at 2015-08-08 20:20:33 +0800
Processing by UserProductsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/new.html.erb within layouts/application (16.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 180ms (Views: 172.1ms | ActiveRecord: 0.6ms)


Started POST "/products" for ::1 at 2015-08-08 20:20:40 +0800
Processing by UserProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"8NoeWEk9wHcNk+MoBNQKoc9tD2XMqwXCtqw3MwujcWRHYHfVeHWcfpNy9m+YX75IGLUSAg0Yulfm1Pipl9dZ9Q==", "product"=>{"title"=>"Ｍ9", "description"=>"", "category_list"=>[""]}, "commit"=>"Submit"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "products" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "Ｍ9"], ["description", ""], ["user_id", 1], ["created_at", "2015-08-08 12:20:40.838425"], ["updated_at", "2015-08-08 12:20:40.838425"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mTag Exists (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.1
Completed 302 Found in 20ms (ActiveRecord: 2.8ms)


Started GET "/products.1" for ::1 at 2015-08-08 20:20:40 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (10.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 190ms (Views: 186.4ms | ActiveRecord: 1.2ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 20:20:44 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (16.5ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 160ms (Views: 157.1ms | ActiveRecord: 0.8ms)


Started GET "/products" for ::1 at 2015-08-08 20:20:49 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (3.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 139ms (Views: 136.4ms | ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2015-08-08 20:20:50 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (3.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 171ms (Views: 169.8ms | ActiveRecord: 0.9ms)


Started GET "/tags" for ::1 at 2015-08-08 20:20:52 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (1.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.1ms)
Completed 200 OK in 165ms (Views: 161.7ms | ActiveRecord: 0.7ms)


Started GET "/tags/new" for ::1 at 2015-08-08 20:20:54 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (5.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.1ms)
Completed 200 OK in 149ms (Views: 146.3ms | ActiveRecord: 0.6ms)


Started POST "/tags" for ::1 at 2015-08-08 20:21:01 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lZVgXUaF/AaA+x0fPX3b+NFByGNMoTJ2NmcodsNZad8iLwnQd82gDx4aCFih9m8RBpnVBI0SjeNmH+fsXy1BTg==", "tag"=>{"name"=>"手機"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.1ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = '手機' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "手機"]]
  [1m[35m (1.1ms)[0m  commit transaction
Redirected to http://localhost:3000/tags/5/taggings/new
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 20:21:01 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (5.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 159ms (Views: 155.1ms | ActiveRecord: 0.9ms)


Started POST "/tags/5/taggings" for ::1 at 2015-08-08 20:21:05 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PggbpMwmKia/U+cSw5OG0W4EJZeQuZjesdFLCCcm/pGJsnIp/W52LyGy8lVfGDI4udw48FEKJ0vhqYSSu1LWAA==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 5], ["created_at", "2015-08-08 12:21:05.874281"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 5]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags
Completed 302 Found in 15ms (ActiveRecord: 6.6ms)


Started GET "/tags" for ::1 at 2015-08-08 20:21:05 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (2.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 135ms (Views: 131.5ms | ActiveRecord: 0.8ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:21:16 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered categorys/show.html.erb within layouts/application (0.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 159ms (Views: 155.2ms | ActiveRecord: 0.8ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:23:38 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
Completed 500 Internal Server Error in 35ms

NoMethodError (undefined method `name' for nil:NilClass):
  app/controllers/categorys_controller.rb:12:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (99.9ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:23:54 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (15.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (8.2ms)
Completed 200 OK in 186ms (Views: 148.6ms | ActiveRecord: 3.5ms)


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 20:23:54 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 20:23:55 +0800


Started GET "/tags/5" for ::1 at 2015-08-08 20:25:01 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (5.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.7ms)
Completed 200 OK in 166ms (Views: 160.1ms | ActiveRecord: 1.5ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 20:25:01 +0800


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 20:25:03 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (5.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 171ms (Views: 162.7ms | ActiveRecord: 1.2ms)


Started POST "/tags/5/taggings" for ::1 at 2015-08-08 20:25:06 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"UAJkuNUMFPVoJa9V/Ud/IBzje0AeeIYYckJu2AMPgf/nuA015ERI/PbEuhJhzMvJyztmJ9/LOY0iOqFCn3upbg==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (7.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 156ms (Views: 149.0ms | ActiveRecord: 1.2ms)


Started POST "/tags/5/taggings" for ::1 at 2015-08-08 20:25:08 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"EO8NlQgLPp0cVY9Gq94DGOGPqMrd+482ICPV/9kTxUqnVWQYOUNilIK0mgE3VbfxNle1rRxIMKNwWxplRWft2w==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (5.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 177ms (Views: 169.5ms | ActiveRecord: 1.5ms)


Started POST "/tags/5/taggings" for ::1 at 2015-08-08 20:25:16 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+ysNfAvOOSQyY2qeVsnSr/DtSnAD9IrYbgakWOuWS4hMkWTxOoZlLayCf9nKQmZGJzVXF8JHNU0+fmvCd+JjGQ==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (5.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 150ms (Views: 143.5ms | ActiveRecord: 1.1ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:25:20 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (0.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.7ms)
Completed 200 OK in 175ms (Views: 170.6ms | ActiveRecord: 0.9ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 20:25:25 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (5.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.6ms)
Completed 200 OK in 173ms (Views: 168.4ms | ActiveRecord: 1.5ms)


Started GET "/tags" for ::1 at 2015-08-08 20:25:32 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 167ms (Views: 163.7ms | ActiveRecord: 0.7ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:25:34 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (5.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 175ms (Views: 168.5ms | ActiveRecord: 1.4ms)


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 20:25:36 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (5.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 158ms (Views: 154.1ms | ActiveRecord: 1.0ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:25:42 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (0.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.1ms)
Completed 200 OK in 172ms (Views: 166.6ms | ActiveRecord: 1.0ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:26:51 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC
  Rendered category_taggings/index.html.erb within layouts/application (3.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (62.4ms)
Completed 200 OK in 723313ms (Views: 1079.8ms | ActiveRecord: 5.3ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:38:55 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 20:38:58 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:38:58 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 20:38:59 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 20:39:00 +0800


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:40:24 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (1.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  Rendered category_taggings/index.html.erb within layouts/application (6.9ms)
Completed 500 Internal Server Error in 226ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__3140669778520698442_70168242172080'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (56.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (44.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (99.5ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:41:53 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (2.6ms)
Completed 500 Internal Server Error in 48ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__3140669778520698442_70168242172080'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (99.4ms)


Started GET "/tags/" for ::1 at 2015-08-08 20:42:07 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (5.5ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (17.2ms)
Completed 200 OK in 540ms (Views: 464.0ms | ActiveRecord: 2.4ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:42:12 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (1.4ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (24.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 338ms (Views: 221.8ms | ActiveRecord: 3.3ms)


Started GET "/tags/new" for ::1 at 2015-08-08 20:42:18 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (45.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 211ms (Views: 205.2ms | ActiveRecord: 0.6ms)


Started GET "/tags" for ::1 at 2015-08-08 20:42:20 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (2.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.4ms)
Completed 200 OK in 148ms (Views: 145.1ms | ActiveRecord: 0.6ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:42:23 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (5.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 158ms (Views: 151.6ms | ActiveRecord: 1.8ms)


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 20:42:25 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (9.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.6ms)
Completed 200 OK in 162ms (Views: 152.5ms | ActiveRecord: 1.2ms)


Started POST "/tags/5/taggings" for ::1 at 2015-08-08 20:42:29 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aZmvURY2zUVEtOoZRruNLsx1g4f0KvIfqh0N/3ug+pveI8bcJ36RTNpV/17aMDnHG62e4DWZTYr6ZcJl59TSCg==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (11.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 197ms (Views: 167.8ms | ActiveRecord: 1.5ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:42:32 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  Rendered category_taggings/index.html.erb within layouts/application (5.3ms)
Completed 500 Internal Server Error in 15ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__2197204853830853294_70277830169400'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (97.2ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:42:48 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (4.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 147ms (Views: 136.5ms | ActiveRecord: 1.7ms)


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 20:42:54 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (4.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.5ms)
Completed 200 OK in 136ms (Views: 132.5ms | ActiveRecord: 1.0ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:42:57 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  Rendered category_taggings/index.html.erb within layouts/application (4.1ms)
Completed 500 Internal Server Error in 13ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__2197204853830853294_70277858677500'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (58.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (93.3ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:42:58 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (2.7ms)
Completed 500 Internal Server Error in 12ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__2197204853830853294_70277830169400'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (60.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (39.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (93.6ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:43:38 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  Rendered category_taggings/index.html.erb within layouts/application (3.8ms)
Completed 500 Internal Server Error in 12ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__2197204853830853294_70277858677500'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (52.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (39.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (93.5ms)


Started GET "/tags/5/taggings" for ::1 at 2015-08-08 20:43:38 +0800
Processing by CategoryTaggingsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  Rendered category_taggings/index.html.erb within layouts/application (2.4ms)
Completed 500 Internal Server Error in 11ms

ActionView::Template::Error (undefined method `each' for nil:NilClass):
    15:     </tr>
    16:     </thead>
    17:     <tbody>
    18:     <% @product.each do |product| %>
    19:         <tr>
    20:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    21:           <td><%= link_to(product.title , tag_product_path(@tag, product)) %></td>
  app/views/category_taggings/index.html.erb:18:in `_app_views_category_taggings_index_html_erb__2197204853830853294_70277830169400'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (9.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (61.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (43.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (96.3ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:43:43 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (6.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 164ms (Views: 152.1ms | ActiveRecord: 1.8ms)


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 20:43:48 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (6.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 147ms (Views: 143.4ms | ActiveRecord: 0.9ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:43:49 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (4.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 151ms (Views: 145.2ms | ActiveRecord: 1.4ms)


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 20:43:54 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (4.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 181ms (Views: 177.8ms | ActiveRecord: 0.9ms)


Started POST "/tags/5/taggings" for ::1 at 2015-08-08 20:43:57 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"JtrObkb+zo5rSbEFvKy7bRgeOGbEVOgABIESkVuDEJSRYKfjd7aSh/WopEIgJw+Ez8YlAQXnV5VU+d0Lx/c4BQ==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (6.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 167ms (Views: 159.2ms | ActiveRecord: 1.4ms)


Started GET "/" for ::1 at 2015-08-08 20:43:59 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (4.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (6.5ms)
Completed 200 OK in 190ms (Views: 187.4ms | ActiveRecord: 1.2ms)


Started GET "/products" for ::1 at 2015-08-08 20:44:01 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (7.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 157ms (Views: 152.1ms | ActiveRecord: 1.1ms)


Started GET "/products/new" for ::1 at 2015-08-08 20:44:01 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/new.html.erb within layouts/application (25.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 193ms (Views: 189.9ms | ActiveRecord: 0.7ms)


Started POST "/products" for ::1 at 2015-08-08 20:44:05 +0800
Processing by UserProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7nt6dOePiw6SFezKRBPZR68tlpqESkWCT7bZv8tns55ZwRP51sfXBwz0+Y3YmG2uePWL/UX5+hcfzhYlVxObDw==", "product"=>{"title"=>"uuu", "description"=>"", "category_list"=>[""]}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Unpermitted parameter: category_list
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "uuu"], ["description", ""], ["user_id", 1], ["created_at", "2015-08-08 12:44:05.990224"], ["updated_at", "2015-08-08 12:44:05.990224"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[35mTag Exists (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
Redirected to http://localhost:3000/products.1
Completed 302 Found in 21ms (ActiveRecord: 3.2ms)


Started GET "/products.1" for ::1 at 2015-08-08 20:44:06 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (8.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 183ms (Views: 179.8ms | ActiveRecord: 1.0ms)


Started GET "/products/2/edit" for ::1 at 2015-08-08 20:44:10 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  Rendered user_products/edit.html.erb within layouts/application (18.6ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 167ms (Views: 163.3ms | ActiveRecord: 1.0ms)


Started PATCH "/products/2" for ::1 at 2015-08-08 20:44:12 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"gZOGo8Poj+phVd1SFG7ikSguP62AkSSOkr4ZO4HxUU82Ke8u8qDT4/+0yBWI5VZ4//YiykEimxvCxtahHYV53g==", "product"=>{"title"=>"uuu", "description"=>"", "category_list"=>["5", ""]}, "commit"=>"Submit", "id"=>"2"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 2]]
Unpermitted parameter: category_list
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[35mTag Exists (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 5]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 5 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 2 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 5], ["context", "categorys"], ["taggable_id", 2], ["taggable_type", "Product"], ["created_at", "2015-08-08 12:44:12.592539"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 5]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mTag Exists (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.1
Completed 302 Found in 30ms (ActiveRecord: 7.9ms)


Started GET "/products.1" for ::1 at 2015-08-08 20:44:12 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (6.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 165ms (Views: 162.2ms | ActiveRecord: 1.0ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 20:44:14 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (8.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 181ms (Views: 176.0ms | ActiveRecord: 1.6ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 20:44:17 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (6.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 154ms (Views: 149.3ms | ActiveRecord: 1.4ms)


Started GET "/tags" for ::1 at 2015-08-08 20:44:28 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.5ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.4ms)
Completed 200 OK in 184ms (Views: 180.5ms | ActiveRecord: 0.8ms)


Started GET "/tags/5" for ::1 at 2015-08-08 20:44:30 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (5.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 150ms (Views: 144.3ms | ActiveRecord: 1.6ms)


Started GET "/tags/5/taggings/new" for ::1 at 2015-08-08 20:44:32 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (5.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 153ms (Views: 149.1ms | ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2015-08-08 20:44:34 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (7.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 149ms (Views: 147.6ms | ActiveRecord: 1.1ms)


Started GET "/" for ::1 at 2015-08-08 20:44:35 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (5.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 158ms (Views: 156.4ms | ActiveRecord: 1.1ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 20:44:39 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (6.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 152ms (Views: 147.1ms | ActiveRecord: 1.4ms)


Started GET "/tags/5/products/2/edit" for ::1 at 2015-08-08 20:44:42 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"5", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 2]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (19.6ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.2ms)
Completed 200 OK in 176ms (Views: 170.7ms | ActiveRecord: 1.2ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 20:53:04 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (7.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.9ms)
Completed 200 OK in 165ms (Views: 159.8ms | ActiveRecord: 1.9ms)


Started GET "/" for ::1 at 2015-08-08 20:53:05 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (5.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.1ms)
Completed 200 OK in 148ms (Views: 146.4ms | ActiveRecord: 1.2ms)


Started GET "/products" for ::1 at 2015-08-08 20:53:07 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (5.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.7ms)
Completed 200 OK in 164ms (Views: 161.4ms | ActiveRecord: 1.2ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 20:53:12 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  Rendered user_products/edit.html.erb within layouts/application (17.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 158ms (Views: 154.0ms | ActiveRecord: 0.9ms)


Started GET "/tags/5/products" for ::1 at 2015-08-08 21:00:42 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"5"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (5)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (5.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 166ms (Views: 161.2ms | ActiveRecord: 1.5ms)


Started GET "/tags" for ::1 at 2015-08-08 21:00:46 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 144ms (Views: 140.7ms | ActiveRecord: 0.6ms)


Started GET "/tags/new" for ::1 at 2015-08-08 21:00:48 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (4.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 147ms (Views: 144.9ms | ActiveRecord: 0.6ms)


Started GET "/tags" for ::1 at 2015-08-08 21:00:50 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (2.7ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.5ms)
Completed 200 OK in 158ms (Views: 154.3ms | ActiveRecord: 0.8ms)


Started DELETE "/tags/5" for ::1 at 2015-08-08 21:00:52 +0800
Processing by CategorysController#destroy as HTML
  Parameters: {"authenticity_token"=>"pwvqHFK4PNynrX6wciTVcODDzXftnxmckdvPL/cNKzkQsYORY/Bg1TlMa/fur2GZNxvQECwspgnBowC1a3kDqA==", "id"=>"5"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Load (0.3ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."tag_id" = ?  [["tag_id", 5]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 5]]
  [1m[35m (1.9ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 12ms (ActiveRecord: 3.3ms)


Started GET "/tags" for ::1 at 2015-08-08 21:00:52 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (1.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 173ms (Views: 170.2ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2015-08-08 21:00:56 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (5.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 156ms (Views: 154.0ms | ActiveRecord: 1.0ms)


Started GET "/tags" for ::1 at 2015-08-08 21:01:00 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (1.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (2.7ms)
Completed 200 OK in 145ms (Views: 141.8ms | ActiveRecord: 0.6ms)


Started GET "/tags/new" for ::1 at 2015-08-08 21:01:02 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (3.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 153ms (Views: 150.8ms | ActiveRecord: 0.7ms)


Started POST "/tags" for ::1 at 2015-08-08 21:01:10 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WVwJQ7wUhD281Wq/nMCV1CNKGID59e1CR4x4qS6uKH7u5mDOjVzYNCI0f/gASyE99JIF5zhGUtcX9LczstoA7w==", "tag"=>{"name"=>"手機"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.2ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = '手機' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "手機"]]
  [1m[35m (5.7ms)[0m  commit transaction
Redirected to http://localhost:3000/tags/6/taggings/new
Completed 302 Found in 12ms (ActiveRecord: 6.3ms)


Started GET "/tags/6/taggings/new" for ::1 at 2015-08-08 21:01:10 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (6.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 168ms (Views: 164.7ms | ActiveRecord: 1.0ms)


Started POST "/tags/6/taggings" for ::1 at 2015-08-08 21:01:14 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6MoU4RrbVV6Y7nbQ+U2ks72L2llwDjj8gz8D4Mg0sxZfcH1sK5MJVwYPY5dlxhBaalPHPrG9h2nTR8x6VECbhw==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"1"}, "commit"=>"Submit", "tag_id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 6 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 6], ["created_at", "2015-08-08 13:01:14.483483"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.0ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 6]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags
Completed 302 Found in 16ms (ActiveRecord: 6.8ms)


Started GET "/tags" for ::1 at 2015-08-08 21:01:14 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 150ms (Views: 145.8ms | ActiveRecord: 0.7ms)


Started GET "/tags/6" for ::1 at 2015-08-08 21:01:16 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (3.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 147ms (Views: 142.3ms | ActiveRecord: 1.3ms)


Started GET "/tags/6/taggings/new" for ::1 at 2015-08-08 21:01:19 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (4.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 161ms (Views: 157.0ms | ActiveRecord: 1.0ms)


Started POST "/tags/6/taggings" for ::1 at 2015-08-08 21:01:21 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"PwU2zI0HB7Q+DQKVpwQL0jY2EcIGHlzYt740lfdrY9aIv19BvE9bvaDsF9I7j7874e4Mpcet403nxvsPax9LRw==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"2"}, "commit"=>"Submit", "tag_id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 6 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 2 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["taggable_id", 2], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 6], ["created_at", "2015-08-08 13:01:21.914271"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 6]]
  [1m[35m (1.7ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)


Started GET "/tags" for ::1 at 2015-08-08 21:01:21 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (1.9ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 167ms (Views: 163.5ms | ActiveRecord: 1.2ms)


Started GET "/tags/6" for ::1 at 2015-08-08 21:01:24 +0800
Processing by CategorysController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered categorys/show.html.erb within layouts/application (7.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 175ms (Views: 168.1ms | ActiveRecord: 1.6ms)


Started GET "/" for ::1 at 2015-08-08 21:01:38 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (5.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.8ms)
Completed 200 OK in 150ms (Views: 147.8ms | ActiveRecord: 1.2ms)


Started GET "/products" for ::1 at 2015-08-08 21:01:42 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (6.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.1ms)
Completed 200 OK in 151ms (Views: 147.4ms | ActiveRecord: 1.1ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:03:18 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (5.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 150ms (Views: 145.0ms | ActiveRecord: 1.4ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:03:28 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (5.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 164ms (Views: 159.2ms | ActiveRecord: 1.4ms)


Started GET "/tags/6/products/1/edit" for ::1 at 2015-08-08 21:03:32 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags"[0m
  [1m[35mActsAsTaggableOn::Tag Load (1.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (116415.6ms)
  [1m[36mCACHE (8.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (34.0ms)
Completed 200 OK in 117578ms (Views: 117566.8ms | ActiveRecord: 11.1ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:05:29 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (73.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (27.2ms)
Completed 200 OK in 1160ms (Views: 1131.5ms | ActiveRecord: 5.2ms)


Started GET "/tags/6/products/1/edit" for ::1 at 2015-08-08 21:05:34 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  Rendered category_products/edit.html.erb within layouts/application (6348.8ms)
Completed 500 Internal Server Error in 6393ms

ActionView::Template::Error (No frames collected.):
     8:         <!--<%= f.input :image, input_html: { class: "form-control"} %>-->
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= binding.pry %>
    12:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    13:         input_html: { class: "form-control", checked: 6 } %>
    14:       </div>
  app/views/category_products/edit.html.erb:11:in `block in _app_views_category_products_edit_html_erb__3136168798165055320_70277843047500'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb__3136168798165055320_70277843047500'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (216.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (51.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (328.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (58.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (138.7ms)


Started GET "/tags/6/products/1/edit" for ::1 at 2015-08-08 21:05:43 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  Rendered category_products/edit.html.erb within layouts/application (1446.6ms)
Completed 500 Internal Server Error in 1488ms

ActionView::Template::Error (No frames collected.):
     8:         <!--<%= f.input :image, input_html: { class: "form-control"} %>-->
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= binding.pry %>
    12:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    13:         input_html: { class: "form-control", checked: 6 } %>
    14:       </div>
  app/views/category_products/edit.html.erb:11:in `block in _app_views_category_products_edit_html_erb__3136168798165055320_70277790044200'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb__3136168798165055320_70277790044200'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (225.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (58.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (343.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (135.7ms)


Started GET "/tags/6/products/2/edit" for ::1 at 2015-08-08 21:06:15 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 2]]
  Rendered category_products/edit.html.erb within layouts/application (4707.9ms)
Completed 500 Internal Server Error in 4773ms

ActionView::Template::Error (No frames collected.):
     8:         <!--<%= f.input :image, input_html: { class: "form-control"} %>-->
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= binding.pry %>
    12:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    13:         input_html: { class: "form-control", checked: "6" } %>
    14:       </div>
  app/views/category_products/edit.html.erb:11:in `block in _app_views_category_products_edit_html_erb__3136168798165055320_70277842771820'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb__3136168798165055320_70277842771820'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (452.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (106.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (627.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (78.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (191.8ms)


Started GET "/tags/6/products/2/edit" for ::1 at 2015-08-08 21:06:25 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"2"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 2]]
  Rendered category_products/edit.html.erb within layouts/application (2548.5ms)
Completed 500 Internal Server Error in 2612ms

ActionView::Template::Error (No frames collected.):
     8:         <!--<%= f.input :image, input_html: { class: "form-control"} %>-->
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= binding.pry %>
    12:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    13:         input_html: { class: "form-control", checked: "6" } %>
    14:       </div>
  app/views/category_products/edit.html.erb:11:in `block in _app_views_category_products_edit_html_erb__3136168798165055320_70277853660800'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb__3136168798165055320_70277853660800'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (228.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (47.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (13.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (347.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (135.0ms)


Started GET "/tags/6/products/1/edit" for ::1 at 2015-08-08 21:06:42 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  Rendered category_products/edit.html.erb within layouts/application (2588.4ms)
Completed 500 Internal Server Error in 2650ms

ActionView::Template::Error (No frames collected.):
     8:         <!--<%= f.input :image, input_html: { class: "form-control"} %>-->
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= binding.pry %>
    12:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    13:         input_html: { class: "form-control", checked: @product.category_list } %>
    14:       </div>
  app/views/category_products/edit.html.erb:11:in `block in _app_views_category_products_edit_html_erb__3136168798165055320_70277841258500'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb__3136168798165055320_70277841258500'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (403.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (98.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (568.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (12.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (84.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (168.7ms)


Started GET "/tags/6/products/1/edit" for ::1 at 2015-08-08 21:06:49 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.7ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
  Rendered category_products/edit.html.erb within layouts/application (1661.1ms)
Completed 500 Internal Server Error in 1725ms

ActionView::Template::Error (No frames collected.):
     8:         <!--<%= f.input :image, input_html: { class: "form-control"} %>-->
     9:         <%= f.input :description, input_html: { class: "form-control"} %>
    10:         <%= f.file_field :image %>
    11:         <%= binding.pry %>
    12:         <%= f.input :category_list, as: :check_boxes, collection: Product.category_list,
    13:         input_html: { class: "form-control", checked: @product.category_list } %>
    14:       </div>
  app/views/category_products/edit.html.erb:11:in `block in _app_views_category_products_edit_html_erb__3136168798165055320_70277830872180'
  app/views/category_products/edit.html.erb:5:in `_app_views_category_products_edit_html_erb__3136168798165055320_70277830872180'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (393.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (102.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (584.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (87.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (176.4ms)


Started GET "/tags/6/products/1/edit" for ::1 at 2015-08-08 21:07:13 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.8ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (258.1ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (44.4ms)
Completed 200 OK in 1887ms (Views: 1851.1ms | ActiveRecord: 3.5ms)


Started GET "/" for ::1 at 2015-08-08 21:07:29 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (77.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (39.8ms)
Completed 200 OK in 1067ms (Views: 1058.7ms | ActiveRecord: 3.9ms)


Started GET "/products" for ::1 at 2015-08-08 21:07:32 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (73.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (19.5ms)
Completed 200 OK in 1112ms (Views: 1093.4ms | ActiveRecord: 3.7ms)


Started GET "/products/new" for ::1 at 2015-08-08 21:07:35 +0800
Processing by UserProductsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/new.html.erb within layouts/application (175.0ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (30.8ms)
Completed 200 OK in 1260ms (Views: 1228.7ms | ActiveRecord: 1.7ms)


Started POST "/products" for ::1 at 2015-08-08 21:07:40 +0800
Processing by UserProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"A5Ba/kRmFJQRyR7VtTT7Kep1c2GyS+NeOjDPsHLWBBu0KjNzdS5InY8oC5Ipv0/APa1uBnP4XMtqSAAq7qIsig==", "product"=>{"title"=>"fffffff", "description"=>"", "category_list"=>[""]}, "commit"=>"Submit"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "products" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "fffffff"], ["description", ""], ["user_id", 1], ["created_at", "2015-08-08 13:07:40.601645"], ["updated_at", "2015-08-08 13:07:40.601645"]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[36mTag Exists (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.1
Completed 302 Found in 110ms (ActiveRecord: 4.9ms)


Started GET "/products.1" for ::1 at 2015-08-08 21:07:40 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (103.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (20.6ms)
Completed 200 OK in 1187ms (Views: 1168.9ms | ActiveRecord: 4.8ms)


Started GET "/products/new" for ::1 at 2015-08-08 21:07:43 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/new.html.erb within layouts/application (168.9ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (21.0ms)
Completed 200 OK in 1260ms (Views: 1239.1ms | ActiveRecord: 1.6ms)


Started POST "/products" for ::1 at 2015-08-08 21:07:47 +0800
Processing by UserProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ypskAy6KhZlxTidQ+tsDweDXXIkVePd2KYBYb5Duqzt9IU2OH8LZkO+vMhdmULcoNw9B7tTLSON5+Jf1DJqDqg==", "product"=>{"title"=>"ggggg", "description"=>"", "category_list"=>[""]}, "commit"=>"Submit"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Unpermitted parameter: category_list
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["title", "ggggg"], ["description", ""], ["user_id", 1], ["created_at", "2015-08-08 13:07:47.268795"], ["updated_at", "2015-08-08 13:07:47.268795"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mTag Exists (0.3ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
Redirected to http://localhost:3000/products.1
Completed 302 Found in 100ms (ActiveRecord: 4.3ms)


Started GET "/products.1" for ::1 at 2015-08-08 21:07:47 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 1]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (147.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (20.2ms)
Completed 200 OK in 1245ms (Views: 1221.8ms | ActiveRecord: 6.3ms)


Started GET "/" for ::1 at 2015-08-08 21:07:50 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (117.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (26.3ms)
Completed 200 OK in 1224ms (Views: 1202.7ms | ActiveRecord: 6.0ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:07:53 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (79.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (21.7ms)
Completed 200 OK in 1174ms (Views: 1147.5ms | ActiveRecord: 5.0ms)


Started GET "/tags" for ::1 at 2015-08-08 21:07:57 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (8.6ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (21.0ms)
Completed 200 OK in 1101ms (Views: 1069.8ms | ActiveRecord: 1.7ms)


Started GET "/tags/new" for ::1 at 2015-08-08 21:08:03 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (37.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (24.5ms)
Completed 200 OK in 1141ms (Views: 1115.5ms | ActiveRecord: 1.8ms)


Started POST "/tags" for ::1 at 2015-08-08 21:08:12 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ka+kOcSxG7MqWryLi6yiqXxbcTCGoXgDts2LXjZVieMmFc209flHurS7qcwXJxZAq4NsV0cSx5bmtUTEqiGhcg==", "tag"=>{"name"=>"家電用品"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.4ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = '家電用品' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "家電用品"]]
  [1m[35m (6.2ms)[0m  commit transaction
Redirected to http://localhost:3000/tags/7/taggings/new
Completed 302 Found in 42ms (ActiveRecord: 8.0ms)


Started GET "/tags/7/taggings/new" for ::1 at 2015-08-08 21:08:12 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (63.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (20.4ms)
Completed 200 OK in 1123ms (Views: 1095.2ms | ActiveRecord: 2.9ms)


Started POST "/tags/7/taggings" for ::1 at 2015-08-08 21:08:17 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7MgO+C3LvLMmqYIe3uyajoiQ+/j2PA6yiQUn3pnkIkRbcmd1HIPgurhIl1lCZy5nX0jmnzePsSfZfehEBZAK1Q==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"3"}, "commit"=>"Submit", "tag_id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 7 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 3 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)  [["taggable_id", 3], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 7], ["created_at", "2015-08-08 13:08:17.157322"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 7]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags
Completed 302 Found in 105ms (ActiveRecord: 5.3ms)


Started GET "/tags" for ::1 at 2015-08-08 21:08:17 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (15.1ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (35.0ms)
Completed 200 OK in 1099ms (Views: 1080.2ms | ActiveRecord: 1.9ms)


Started GET "/tags/new" for ::1 at 2015-08-08 21:08:20 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (49.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (22.8ms)
Completed 200 OK in 1123ms (Views: 1108.8ms | ActiveRecord: 1.8ms)


Started POST "/tags" for ::1 at 2015-08-08 21:08:28 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"aASAi0vxdSvf12YSdbl0OiSabiZa0DlLTcOWr1t+G8PfvukGerkpIkE2c1XpMsDT80JzQZtjht4du1k1xwozUg==", "tag"=>{"name"=>"消耗性電子產品"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "tags" WHERE "tags"."name" = '消耗性電子產品' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "tags" ("name") VALUES (?)  [["name", "消耗性電子產品"]]
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/8/taggings/new
Completed 302 Found in 41ms (ActiveRecord: 8.5ms)


Started GET "/tags/8/taggings/new" for ::1 at 2015-08-08 21:08:28 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (12.8ms)[0m  SELECT "products".* FROM "products"
  Rendered category_taggings/new.html.erb within layouts/application (55.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (20.9ms)
Completed 200 OK in 1128ms (Views: 1095.0ms | ActiveRecord: 14.6ms)


Started POST "/tags/8/taggings" for ::1 at 2015-08-08 21:08:32 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BseQ0TtfnSceqGbCATyFGqnMDWTsMxdr/sL4jRw4g8ixfflcChfBLoBJc4WdtzHzfhQQAy2AqP6uujcXgEyrWQ==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"4"}, "commit"=>"Submit", "tag_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 8], ["created_at", "2015-08-08 13:08:32.773942"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35m (1.6ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 86ms (ActiveRecord: 4.8ms)


Started GET "/tags" for ::1 at 2015-08-08 21:08:32 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (16.9ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (24.0ms)
Completed 200 OK in 1104ms (Views: 1069.0ms | ActiveRecord: 1.8ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 21:08:35 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (46.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (24.7ms)
Completed 200 OK in 1134ms (Views: 1110.4ms | ActiveRecord: 4.1ms)


Started GET "/tags/7/products" for ::1 at 2015-08-08 21:08:38 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (49.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (22.0ms)
Completed 200 OK in 1119ms (Views: 1094.4ms | ActiveRecord: 4.0ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:08:42 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (1.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (100.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (38.4ms)
Completed 200 OK in 1174ms (Views: 1147.8ms | ActiveRecord: 5.7ms)


Started GET "/tags/6/products/1/edit" for ::1 at 2015-08-08 21:08:46 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (12.9ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 1], ["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (188.0ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (20.0ms)
Completed 200 OK in 1315ms (Views: 1275.2ms | ActiveRecord: 15.5ms)


Started PATCH "/tags/6/products/1" for ::1 at 2015-08-08 21:08:49 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qO7ed7WBasPZGmzmC2xklLMhyu17Y9Bgnmiyablh2sMfVLf6hMk2ykf7eaGX59B9ZPnXirrQb/XOEH3zJRXyUg==", "product"=>{"title"=>"Ｍ9", "description"=>"", "category_list"=>["7", ""]}, "commit"=>"Submit", "tag_id"=>"6", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 1], ["id", 1]]
Unpermitted parameter: category_list
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (12.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.7ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 6  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 6]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Exists (14.3ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 7]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 7 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["tag_id", 7], ["context", "categorys"], ["taggable_id", 1], ["taggable_type", "Product"], ["created_at", "2015-08-08 13:08:50.011463"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 7]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Exists (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
Redirected to http://localhost:3000/tags/6/products
Completed 302 Found in 302ms (ActiveRecord: 40.9ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:08:50 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (51.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (34.5ms)
Completed 200 OK in 1143ms (Views: 1117.8ms | ActiveRecord: 3.9ms)


Started GET "/tags/7/products" for ::1 at 2015-08-08 21:08:53 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (73.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (20.3ms)
Completed 200 OK in 1138ms (Views: 1096.7ms | ActiveRecord: 4.8ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 21:08:55 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (46.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (34.3ms)
Completed 200 OK in 1214ms (Views: 1188.0ms | ActiveRecord: 4.5ms)


Started DELETE "/users/sign_out" for ::1 at 2015-08-08 21:10:22 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"lk86Tll8FptL0lfaKlQq4woF7ZiU6Ef3sh6Kpw0rrTAh9VPDaDRKktUzQp22354K3d3w/1Vb+GLiZkU9kV+FoQ=="}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 40ms (ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2015-08-08 21:10:22 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (34.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (22.3ms)
Completed 200 OK in 520ms (Views: 496.4ms | ActiveRecord: 2.5ms)


Started GET "/users/sign_in" for ::1 at 2015-08-08 21:10:25 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (58.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (2.7ms)
Completed 200 OK in 272ms (Views: 269.2ms | ActiveRecord: 0.3ms)


Started POST "/users/sign_in" for ::1 at 2015-08-08 21:10:41 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mIs/xXY5WKe1PDRyg8H4yy3Q8IzQP5NVJcb2tKPLpvXS+vXkKYCqwLeeDJOuleZQnd1KHb0KIHBuiPjPYG+UFA==", "user"=>{"email"=>"orange7886ro@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "orange7886ro@gmail.com"]]
Completed 401 Unauthorized in 4ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"mIs/xXY5WKe1PDRyg8H4yy3Q8IzQP5NVJcb2tKPLpvXS+vXkKYCqwLeeDJOuleZQnd1KHb0KIHBuiPjPYG+UFA==", "user"=>{"email"=>"orange7886ro@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (15.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 237ms (Views: 155.4ms | ActiveRecord: 0.5ms)


Started GET "/users/sign_in" for ::1 at 2015-08-08 21:10:45 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (17.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (2.8ms)
Completed 200 OK in 162ms (Views: 160.4ms | ActiveRecord: 0.4ms)


Started GET "/users/sign_up" for ::1 at 2015-08-08 21:10:46 +0800
Processing by Users::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (5.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (24.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (4.6ms)
Completed 200 OK in 209ms (Views: 207.2ms | ActiveRecord: 0.5ms)


Started POST "/users" for ::1 at 2015-08-08 21:10:52 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"+iLKpNXTLB5mWBRcmoDc3PiX2KVzwDOhgFa6A7R+SemwUwCFimreeWT6LL231MJHSJpiNB71gITLGLR4d9p7CA==", "user"=>{"email"=>"orange7886ro@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'orange7886ro@hotmail.com' LIMIT 1[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT 1  [["name", "RegisteredUser"]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "orange7886ro@hotmail.com"], ["encrypted_password", "$2a$10$0XXbPHTbz0dQtp.BEuwQbec0V9SG0MdW93TXJe7A3lcUYk3DrMfDW"], ["role_id", 3], ["created_at", "2015-08-08 13:10:52.588926"], ["updated_at", "2015-08-08 13:10:52.588926"]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "roles" SET "users_count" = COALESCE("users_count", 0) + 1 WHERE "roles"."id" = ?[0m  [["id", 3]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2015-08-08 13:10:52.599778"], ["current_sign_in_at", "2015-08-08 13:10:52.599778"], ["last_sign_in_ip", "::1"], ["current_sign_in_ip", "::1"], ["sign_in_count", 1], ["updated_at", "2015-08-08 13:10:52.601366"], ["id", 2]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 113ms (ActiveRecord: 5.3ms)


Started GET "/" for ::1 at 2015-08-08 21:10:52 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (10.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (5.0ms)
Completed 200 OK in 158ms (Views: 155.2ms | ActiveRecord: 1.6ms)


Started GET "/tags" for ::1 at 2015-08-08 21:10:56 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (2.6ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (4.4ms)
Completed 200 OK in 168ms (Views: 163.8ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2015-08-08 21:12:02 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (25.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (20.9ms)
Completed 200 OK in 215ms (Views: 197.8ms | ActiveRecord: 3.5ms)


Started GET "/tags" for ::1 at 2015-08-08 21:12:11 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (2.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (4.6ms)
Completed 200 OK in 150ms (Views: 141.1ms | ActiveRecord: 0.9ms)


Started GET "/tags/6/edit" for ::1 at 2015-08-08 21:12:48 +0800
Processing by CategorysController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered categorys/edit.html.erb within layouts/application (6.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 134ms (Views: 130.1ms | ActiveRecord: 1.0ms)


Started GET "/tags" for ::1 at 2015-08-08 21:12:50 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 133ms (Views: 130.0ms | ActiveRecord: 0.6ms)


Started GET "/products/new" for ::1 at 2015-08-08 21:13:08 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/new.html.erb within layouts/application (22.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 209ms (Views: 201.6ms | ActiveRecord: 0.8ms)


Started GET "/products/new" for ::1 at 2015-08-08 21:16:49 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/new.html.erb within layouts/application (20.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (9.3ms)
Completed 200 OK in 211ms (Views: 173.2ms | ActiveRecord: 2.3ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 21:16:50 +0800


Started GET "/" for ::1 at 2015-08-08 21:16:53 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (14.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (6.5ms)
Completed 200 OK in 140ms (Views: 136.9ms | ActiveRecord: 2.0ms)


Started GET "/" for ::1 at 2015-08-08 21:18:28 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (18.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (22.2ms)
Completed 200 OK in 217ms (Views: 189.6ms | ActiveRecord: 3.4ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:18:28 +0800


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:18:34 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
Completed 500 Internal Server Error in 8ms

NameError (uninitialized constant CategoryProduct):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  activesupport (4.2.0) lib/active_support/core_ext/string/inflections.rb:66:in `constantize'
  cancan (1.6.10) lib/cancan/controller_resource.rb:147:in `resource_class'
  cancan (1.6.10) lib/cancan/controller_resource.rb:187:in `resource_base'
  cancan (1.6.10) lib/cancan/controller_resource.rb:77:in `load_collection?'
  cancan (1.6.10) lib/cancan/controller_resource.rb:33:in `load_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:10:in `block in add_before_filter'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `instance_exec'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `block in make_lambda'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (94.3ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:18:34 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
Completed 500 Internal Server Error in 8ms

NameError (uninitialized constant CategoryProduct):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  activesupport (4.2.0) lib/active_support/core_ext/string/inflections.rb:66:in `constantize'
  cancan (1.6.10) lib/cancan/controller_resource.rb:147:in `resource_class'
  cancan (1.6.10) lib/cancan/controller_resource.rb:187:in `resource_base'
  cancan (1.6.10) lib/cancan/controller_resource.rb:77:in `load_collection?'
  cancan (1.6.10) lib/cancan/controller_resource.rb:33:in `load_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:10:in `block in add_before_filter'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `instance_exec'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `block in make_lambda'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (97.1ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:20:28 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
Completed 500 Internal Server Error in 6ms

NameError (uninitialized constant CategoryProduct):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  activesupport (4.2.0) lib/active_support/core_ext/string/inflections.rb:66:in `constantize'
  cancan (1.6.10) lib/cancan/controller_resource.rb:147:in `resource_class'
  cancan (1.6.10) lib/cancan/controller_resource.rb:187:in `resource_base'
  cancan (1.6.10) lib/cancan/controller_resource.rb:77:in `load_collection?'
  cancan (1.6.10) lib/cancan/controller_resource.rb:33:in `load_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:10:in `block in add_before_filter'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `instance_exec'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `block in make_lambda'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (56.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (49.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (109.8ms)


Started GET "/products" for ::1 at 2015-08-08 21:20:35 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  Rendered user_products/index.html.erb within layouts/application (2.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (9.4ms)
Completed 200 OK in 223ms (Views: 180.3ms | ActiveRecord: 2.3ms)


Started GET "/tags" for ::1 at 2015-08-08 21:20:38 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (2.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 150ms (Views: 147.1ms | ActiveRecord: 0.8ms)


Started GET "/tags/6/edit" for ::1 at 2015-08-08 21:20:42 +0800
Processing by CategorysController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  Rendered categorys/edit.html.erb within layouts/application (4.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (4.5ms)
Completed 200 OK in 151ms (Views: 147.0ms | ActiveRecord: 1.2ms)


Started GET "/tags" for ::1 at 2015-08-08 21:20:44 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (1.9ms)
  [1m[35mCACHE (0.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 130ms (Views: 126.5ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2015-08-08 21:20:47 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (15.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (4.7ms)
Completed 200 OK in 173ms (Views: 170.8ms | ActiveRecord: 1.7ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:20:48 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
Completed 500 Internal Server Error in 7ms

NameError (uninitialized constant CategoryProduct):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  activesupport (4.2.0) lib/active_support/core_ext/string/inflections.rb:66:in `constantize'
  cancan (1.6.10) lib/cancan/controller_resource.rb:147:in `resource_class'
  cancan (1.6.10) lib/cancan/controller_resource.rb:187:in `resource_base'
  cancan (1.6.10) lib/cancan/controller_resource.rb:77:in `load_collection?'
  cancan (1.6.10) lib/cancan/controller_resource.rb:33:in `load_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:10:in `block in add_before_filter'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `instance_exec'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `block in make_lambda'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (61.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (43.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (113.4ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:20:49 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
Completed 500 Internal Server Error in 10ms

NameError (uninitialized constant CategoryProduct):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  activesupport (4.2.0) lib/active_support/core_ext/string/inflections.rb:66:in `constantize'
  cancan (1.6.10) lib/cancan/controller_resource.rb:147:in `resource_class'
  cancan (1.6.10) lib/cancan/controller_resource.rb:187:in `resource_base'
  cancan (1.6.10) lib/cancan/controller_resource.rb:77:in `load_collection?'
  cancan (1.6.10) lib/cancan/controller_resource.rb:33:in `load_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:25:in `load_and_authorize_resource'
  cancan (1.6.10) lib/cancan/controller_resource.rb:10:in `block in add_before_filter'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `instance_exec'
  activesupport (4.2.0) lib/active_support/callbacks.rb:443:in `block in make_lambda'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:163:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:234:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:169:in `block in halting'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:92:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_process_action_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/abstract_controller/callbacks.rb:19:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/rescue.rb:29:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:31:in `block in process_action'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `block in instrument'
  activesupport (4.2.0) lib/active_support/notifications/instrumenter.rb:20:in `instrument'
  activesupport (4.2.0) lib/active_support/notifications.rb:164:in `instrument'
  actionpack (4.2.0) lib/action_controller/metal/instrumentation.rb:30:in `process_action'
  actionpack (4.2.0) lib/action_controller/metal/params_wrapper.rb:250:in `process_action'
  activerecord (4.2.0) lib/active_record/railties/controller_runtime.rb:18:in `process_action'
  actionpack (4.2.0) lib/abstract_controller/base.rb:137:in `process'
  actionview (4.2.0) lib/action_view/rendering.rb:30:in `process'
  actionpack (4.2.0) lib/action_controller/metal.rb:195:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal/rack_delegation.rb:13:in `dispatch'
  actionpack (4.2.0) lib/action_controller/metal.rb:236:in `block in action'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:42:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:25:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (54.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (95.9ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:21:16 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mActsAsTaggableOn::Tag Load (1.8ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (13.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (9.9ms)
Completed 200 OK in 323ms (Views: 173.0ms | ActiveRecord: 4.8ms)


Started GET "/tags/7/products" for ::1 at 2015-08-08 21:21:27 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (7.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (4.5ms)
Completed 200 OK in 166ms (Views: 160.5ms | ActiveRecord: 2.2ms)


Started GET "/" for ::1 at 2015-08-08 21:21:29 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (15.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (5.9ms)
Completed 200 OK in 211ms (Views: 207.5ms | ActiveRecord: 2.2ms)


Started GET "/products" for ::1 at 2015-08-08 21:32:26 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  Rendered user_products/index.html.erb within layouts/application (2.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (11.7ms)
Completed 200 OK in 219ms (Views: 183.6ms | ActiveRecord: 2.3ms)


Started GET "/products/new" for ::1 at 2015-08-08 21:32:29 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/new.html.erb within layouts/application (20.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (2.4ms)
Completed 200 OK in 196ms (Views: 179.2ms | ActiveRecord: 1.1ms)


Started POST "/products" for ::1 at 2015-08-08 21:32:35 +0800
Processing by UserProductsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KZa5Xr4Q1NT/8L1sNeoAMS5Br+lgoPqoWpwa+NAxIvBj53N/4akms/1ShY0Yvh6qnkwVeA2VSY0R0hSDE5UQEQ==", "product"=>{"title"=>"fffff", "description"=>"fffff", "category_list"=>["7", ""]}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
Unpermitted parameter: category_list
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "products" ("title", "description", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["title", "fffff"], ["description", "fffff"], ["user_id", 2], ["created_at", "2015-08-08 13:32:35.352891"], ["updated_at", "2015-08-08 13:32:35.352891"]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?  [["id", 2]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 5], ["taggable_type", "Product"]]
  [1m[36mTag Exists (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 7]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 5], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 7 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 5 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["tag_id", 7], ["context", "categorys"], ["taggable_id", 5], ["taggable_type", "Product"], ["created_at", "2015-08-08 13:32:35.384411"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 7]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mTag Exists (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 47ms (ActiveRecord: 10.2ms)


Started GET "/products.2" for ::1 at 2015-08-08 21:32:35 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (10.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (5.1ms)
Completed 200 OK in 202ms (Views: 198.9ms | ActiveRecord: 1.2ms)


Started GET "/tags/7/products" for ::1 at 2015-08-08 21:32:37 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (8.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 170ms (Views: 165.0ms | ActiveRecord: 1.8ms)


Started GET "/" for ::1 at 2015-08-08 21:32:41 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (13.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (4.6ms)
Completed 200 OK in 155ms (Views: 152.6ms | ActiveRecord: 1.9ms)


Started GET "/products" for ::1 at 2015-08-08 21:32:48 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (4.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 145ms (Views: 142.7ms | ActiveRecord: 1.1ms)


Started GET "/products/5" for ::1 at 2015-08-08 21:32:53 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 5]]
  Rendered user_products/show.html.erb within layouts/application (1.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 162ms (Views: 157.9ms | ActiveRecord: 0.9ms)


Started GET "/products/5/edit" for ::1 at 2015-08-08 21:32:55 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 5]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 5], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (21.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (2.6ms)
Completed 200 OK in 186ms (Views: 179.8ms | ActiveRecord: 1.1ms)


Started GET "/products/4/edit" for ::1 at 2015-08-08 21:33:01 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 4]]
Completed 404 Not Found in 5ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=4 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:30:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (43.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (99.9ms)


Started GET "/products/5" for ::1 at 2015-08-08 21:33:09 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 5]]
  Rendered user_products/show.html.erb within layouts/application (1.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (4.1ms)
Completed 200 OK in 138ms (Views: 133.6ms | ActiveRecord: 0.8ms)


Started GET "/products" for ::1 at 2015-08-08 21:33:15 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (6.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (5.7ms)
Completed 200 OK in 166ms (Views: 161.0ms | ActiveRecord: 1.3ms)


Started GET "/" for ::1 at 2015-08-08 21:33:17 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (26.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (5.5ms)
Completed 200 OK in 214ms (Views: 210.3ms | ActiveRecord: 2.6ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:33:19 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 4ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (97.2ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:33:19 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 3ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (55.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (94.0ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:33:54 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 3ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (104.7ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:33:55 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 5ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (58.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (51.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (106.7ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:34:08 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 4ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (60.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (40.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (93.5ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:34:09 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 3ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (53.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (92.0ms)


Started GET "/" for ::1 at 2015-08-08 21:37:02 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered main_pages/index.html.erb within layouts/application (33.9ms)
Completed 500 Internal Server Error in 66ms

ActionView::Template::Error (undefined method `user_product_path' for #<#<Class:0x007fc5eb586fe8>:0x007fc5eb567f58>):
    19:     <% @products.each do |product| %>
    20:         <tr>
    21:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    22:           <td><%= link_to(product.title , user_product_path(@usr, product)) %></td>
    23:           <td><%= link_to("good", vote_up_main_page_path(product), :method => :post) %> OR
    24:             <%= link_to("bad", vote_down_main_page_path(product), :method => :post) %></td>
    25:           <td> good:<%= product.votes_for %>,bad: <%= product.votes_against %></td>
  app/views/main_pages/index.html.erb:22:in `block in _app_views_main_pages_index_html_erb__424439417425254904_70244016780700'
  app/views/main_pages/index.html.erb:19:in `_app_views_main_pages_index_html_erb__424439417425254904_70244016780700'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (64.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (49.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (103.5ms)


Started GET "/" for ::1 at 2015-08-08 21:37:12 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  Rendered main_pages/index.html.erb within layouts/application (25.7ms)
Completed 500 Internal Server Error in 33ms

ActionView::Template::Error (undefined method `user_product_path' for #<#<Class:0x007fc5eb586fe8>:0x007fc5ead78040>):
    19:     <% @products.each do |product| %>
    20:         <tr>
    21:           <td><%= image_tag product.image_url(:product_thumb).to_s %></td>
    22:           <td><%= link_to(product.title , user_product_path(@user, product)) %></td>
    23:           <td><%= link_to("good", vote_up_main_page_path(product), :method => :post) %> OR
    24:             <%= link_to("bad", vote_down_main_page_path(product), :method => :post) %></td>
    25:           <td> good:<%= product.votes_for %>,bad: <%= product.votes_against %></td>
  app/views/main_pages/index.html.erb:22:in `block in _app_views_main_pages_index_html_erb__424439417425254904_70244003755680'
  app/views/main_pages/index.html.erb:19:in `_app_views_main_pages_index_html_erb__424439417425254904_70244003755680'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (42.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (97.5ms)


Started GET "/" for ::1 at 2015-08-08 21:37:59 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (19.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (9.9ms)
Completed 200 OK in 185ms (Views: 180.5ms | ActiveRecord: 2.7ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 21:37:59 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 21:38:00 +0800


Started GET "/products/1" for ::1 at 2015-08-08 21:38:02 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 12ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (55.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (109.9ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:38:02 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 3ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (57.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (44.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (101.7ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:38:31 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 36ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:11:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (59.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (43.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (95.3ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:39:08 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 446470ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/user_products_controller.rb:12:in `show'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (265.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (57.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (401.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (88.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (184.7ms)


Started GET "/products" for ::1 at 2015-08-08 21:46:37 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (14.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (81.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (74.8ms)
Completed 200 OK in 1397ms (Views: 1359.6ms | ActiveRecord: 21.0ms)


Started GET "/products" for ::1 at 2015-08-08 21:46:38 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (34.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (25.6ms)
Completed 200 OK in 1136ms (Views: 1104.5ms | ActiveRecord: 3.0ms)


Started GET "/products/2" for ::1 at 2015-08-08 21:47:06 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered user_products/show.html.erb within layouts/application (4.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (62.3ms)
Completed 200 OK in 1595ms (Views: 1365.2ms | ActiveRecord: 8.6ms)


Started GET "/products/2" for ::1 at 2015-08-08 21:47:10 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered user_products/show.html.erb within layouts/application (3.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (24.7ms)
Completed 200 OK in 1166ms (Views: 1149.7ms | ActiveRecord: 2.1ms)


Started GET "/products" for ::1 at 2015-08-08 21:47:16 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (92.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (40.8ms)
Completed 200 OK in 1364ms (Views: 1334.9ms | ActiveRecord: 4.8ms)


Started POST "/products/5/vote_up" for ::1 at 2015-08-08 21:47:22 +0800
Processing by UserProductsController#vote_up as HTML
  Parameters: {"authenticity_token"=>"zjFZ8X/AuAIsQEiyNXey+AUTYkiB8oTZIjZ7/O+DtF2EQJPQIHlKZS7icFMYI6xjtR7Y2ezHN/xpeHWHLCeGvA==", "id"=>"5"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mVote Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "votes" WHERE ("votes"."voteable_id" = 5 AND "votes"."voteable_type" = 'Product' AND "votes"."voter_type" = 'User' AND "votes"."voter_id" = 2) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "votes" ("vote", "voteable_id", "voteable_type", "voter_id", "voter_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["vote", "t"], ["voteable_id", 5], ["voteable_type", "Product"], ["voter_id", 2], ["voter_type", "User"], ["created_at", "2015-08-08 13:47:22.826285"], ["updated_at", "2015-08-08 13:47:22.826285"]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/products.2
Completed 302 Found in 142ms (ActiveRecord: 5.6ms)


Started GET "/products.2" for ::1 at 2015-08-08 21:47:22 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (40.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (25.2ms)
Completed 200 OK in 1318ms (Views: 1281.1ms | ActiveRecord: 3.2ms)


Started POST "/products/5/vote_up" for ::1 at 2015-08-08 21:47:33 +0800
Processing by UserProductsController#vote_up as HTML
  Parameters: {"authenticity_token"=>"xj3iCgGInXYDzGEYITzTpW8oEo66XKz4ri3zdFaQjAKMTCgrXjFvEQFuWfkMaM0+3yWoH9dpH93lY/0PlTS+4w==", "id"=>"5"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mVote Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "votes" WHERE ("votes"."voteable_id" = 5 AND "votes"."voteable_type" = 'Product' AND "votes"."voter_type" = 'User' AND "votes"."voter_id" = 2) LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
Redirected to http://localhost:3000/products.2
Completed 302 Found in 51ms (ActiveRecord: 1.9ms)


Started GET "/products.2" for ::1 at 2015-08-08 21:47:33 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (34.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (27.4ms)
Completed 200 OK in 1121ms (Views: 1102.8ms | ActiveRecord: 3.2ms)


Started GET "/tags/7/products" for ::1 at 2015-08-08 21:48:16 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))[0m
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (102.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (24.2ms)
Completed 200 OK in 1244ms (Views: 1164.2ms | ActiveRecord: 6.8ms)


Started GET "/tags/7/products/1" for ::1 at 2015-08-08 21:48:46 +0800
Processing by CategoryProductsController#show as HTML
  Parameters: {"tag_id"=>"7", "id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))[0m
  [1m[35mProduct Load (1.3ms)[0m  SELECT  "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7))) AND "products"."id" = ?  ORDER BY "products"."updated_at" ASC LIMIT 1  [["id", 1]]
  Rendered category_products/show.html.erb within layouts/application (7.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (25.3ms)
Completed 200 OK in 1163ms (Views: 1112.5ms | ActiveRecord: 4.6ms)


Started GET "/tags/7/products/1/edit" for ::1 at 2015-08-08 21:48:54 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"7", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 50ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/category_products_controller.rb:33:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (192.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (40.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (312.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (78.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (155.3ms)


Started GET "/tags/7/products/1/edit" for ::1 at 2015-08-08 21:49:01 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"7", "id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 39ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/category_products_controller.rb:33:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (282.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (65.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (417.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (69.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (167.9ms)


Started GET "/tags/7/products/1/edit" for ::1 at 2015-08-08 21:49:04 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"7", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 57ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/category_products_controller.rb:33:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (265.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (45.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (380.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (67.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (146.5ms)


Started GET "/tags/7/products/1/edit" for ::1 at 2015-08-08 21:53:27 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"7", "id"=>"1"}
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.9ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 380ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/category_products_controller.rb:35:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (271.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (67.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (412.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (88.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (3.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (177.6ms)


Started GET "/tags/7/products/1/edit" for ::1 at 2015-08-08 21:53:33 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"7", "id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."user_id" = ? AND "products"."id" = ? LIMIT 1[0m  [["user_id", 2], ["id", 1]]
Completed 404 Not Found in 39ms

ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1 [WHERE "products"."user_id" = ?]):
  app/controllers/category_products_controller.rb:35:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (293.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (69.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (428.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (92.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (178.1ms)


Started GET "/tags/7/products/1/edit" for ::1 at 2015-08-08 21:54:54 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"7", "id"=>"1"}
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (1.0ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mRole Load (1.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (1.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (308.7ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (23.6ms)
Completed 200 OK in 2242ms (Views: 1802.3ms | ActiveRecord: 15.2ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:54:59 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 21:54:59 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 21:55:00 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:55:01 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 21:55:02 +0800


Started GET "/tags/7/products" for ::1 at 2015-08-08 21:55:04 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (262.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (58.7ms)
Completed 200 OK in 2430ms (Views: 2377.7ms | ActiveRecord: 10.9ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 21:55:07 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (1.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))[0m
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (83.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (63.9ms)
Completed 200 OK in 2230ms (Views: 2165.0ms | ActiveRecord: 7.2ms)


Started GET "/" for ::1 at 2015-08-08 21:55:12 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (1.1ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (337.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (61.7ms)
Completed 200 OK in 2490ms (Views: 2457.5ms | ActiveRecord: 10.9ms)


Started GET "/products" for ::1 at 2015-08-08 21:55:16 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (98.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (1.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (63.7ms)
Completed 200 OK in 2217ms (Views: 2174.9ms | ActiveRecord: 5.5ms)


Started GET "/" for ::1 at 2015-08-08 21:55:20 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (17.3ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (338.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (59.8ms)
Completed 200 OK in 2565ms (Views: 2500.6ms | ActiveRecord: 27.3ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:55:24 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.9ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered user_products/show.html.erb within layouts/application (5.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (63.9ms)
Completed 200 OK in 2134ms (Views: 2081.5ms | ActiveRecord: 3.6ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 21:55:28 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (412.6ms)
  [1m[35mCACHE (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (50.2ms)
Completed 200 OK in 2614ms (Views: 2545.1ms | ActiveRecord: 4.2ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 21:56:15 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.9ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (241.0ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (17.8ms)
Completed 200 OK in 72650ms (Views: 1461.2ms | ActiveRecord: 9.1ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 21:57:34 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 23606ms

RuntimeError (No frames collected.):
  app/controllers/user_products_controller.rb:32:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (217.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (53.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (336.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (60.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (135.6ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 21:58:01 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
Completed 500 Internal Server Error in 1653ms

RuntimeError (No frames collected.):
  app/controllers/user_products_controller.rb:32:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (201.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (54.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (317.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (139.7ms)


Started GET "/products/1" for ::1 at 2015-08-08 21:58:43 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered user_products/show.html.erb within layouts/application (1.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (63.6ms)
Completed 200 OK in 571ms (Views: 506.4ms | ActiveRecord: 3.4ms)


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 21:58:44 +0800


Started GET "/products/1/edit" for ::1 at 2015-08-08 21:58:46 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (628.6ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (44.9ms)
Completed 200 OK in 137133ms (Views: 2397.9ms | ActiveRecord: 2.7ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 22:01:03 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (1.0ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (1.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (1.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (325.5ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (26.1ms)
Completed 200 OK in 14687ms (Views: 1859.2ms | ActiveRecord: 14.3ms)


Started GET "/" for ::1 at 2015-08-08 22:01:20 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (11.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (10.9ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (314.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (14.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (1.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (112.5ms)
Completed 200 OK in 2058ms (Views: 1805.8ms | ActiveRecord: 53.7ms)


Started GET "/" for ::1 at 2015-08-08 22:01:25 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (1.4ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (198.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (39.6ms)
Completed 200 OK in 1530ms (Views: 1505.7ms | ActiveRecord: 8.8ms)


Started GET "/" for ::1 at 2015-08-08 22:01:27 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (4.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (1.3ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (11.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (477.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (40.8ms)
Completed 200 OK in 2501ms (Views: 2457.1ms | ActiveRecord: 26.2ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 22:01:29 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 22:01:29 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 22:01:29 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 22:01:29 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 22:01:29 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 22:01:30 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 22:01:31 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 22:01:31 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 22:01:31 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 22:01:31 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 22:01:31 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 22:01:31 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 22:01:31 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 22:01:31 +0800


Started GET "/products/1" for ::1 at 2015-08-08 22:02:20 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered user_products/show.html.erb within layouts/application (4.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (32.7ms)
Completed 200 OK in 1014ms (Views: 986.8ms | ActiveRecord: 2.5ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 22:02:22 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (186.8ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (15.1ms)
Completed 200 OK in 1186ms (Views: 1144.9ms | ActiveRecord: 3.5ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 22:06:42 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (179.7ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (30.9ms)
Completed 200 OK in 1375ms (Views: 1147.2ms | ActiveRecord: 9.2ms)


Started GET "/products" for ::1 at 2015-08-08 22:06:50 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (81.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (35.3ms)
Completed 200 OK in 1112ms (Views: 1087.3ms | ActiveRecord: 3.8ms)


Started GET "/" for ::1 at 2015-08-08 22:06:55 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (1.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (173.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (34.4ms)
Completed 200 OK in 1259ms (Views: 1238.0ms | ActiveRecord: 7.6ms)


Started GET "/products/1" for ::1 at 2015-08-08 22:07:00 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered user_products/show.html.erb within layouts/application (3.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (24.5ms)
Completed 200 OK in 996ms (Views: 981.5ms | ActiveRecord: 1.9ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 22:07:02 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.3ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (204.9ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (17.1ms)
Completed 200 OK in 1327ms (Views: 1292.9ms | ActiveRecord: 2.5ms)


Started PATCH "/products/1" for ::1 at 2015-08-08 22:07:37 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"heaQ/xGnEJzL+mMmlq/JFavgV0idFZZJo4H0izx1K2bPl1reTh7i+8lYW8e7+9eOG+3t2fAgJWzoz/rw/9EZhw==", "product"=>{"title"=>"Ｍ9", "description"=>"yo", "category_list"=>[""]}, "commit"=>"Submit", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: category_list
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?  [["description", "yo"], ["updated_at", "2015-08-08 14:07:37.697579"], ["id", 1]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.8ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 7[0m  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 7]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 7]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 211ms (ActiveRecord: 16.5ms)


Started GET "/products.2" for ::1 at 2015-08-08 22:07:37 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (51.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (38.0ms)
Completed 200 OK in 1054ms (Views: 1037.9ms | ActiveRecord: 3.4ms)


Started GET "/products/5" for ::1 at 2015-08-08 22:07:46 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  Rendered user_products/show.html.erb within layouts/application (5.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (22.3ms)
Completed 200 OK in 968ms (Views: 952.0ms | ActiveRecord: 2.0ms)


Started GET "/products" for ::1 at 2015-08-08 22:07:49 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (32.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (22.7ms)
Completed 200 OK in 1026ms (Views: 1012.4ms | ActiveRecord: 2.7ms)


Started GET "/products/5/edit" for ::1 at 2015-08-08 22:07:56 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 5], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (179.8ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (27.5ms)
Completed 200 OK in 1203ms (Views: 1167.9ms | ActiveRecord: 2.6ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 22:08:01 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (12.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (33.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (20.1ms)
Completed 200 OK in 1176ms (Views: 1038.4ms | ActiveRecord: 15.9ms)


Started GET "/tags/6/products/2" for ::1 at 2015-08-08 22:08:04 +0800
Processing by CategoryProductsController#show as HTML
  Parameters: {"tag_id"=>"6", "id"=>"2"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (1.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6))) AND "products"."id" = ?  ORDER BY "products"."updated_at" ASC LIMIT 1[0m  [["id", 2]]
  Rendered category_products/show.html.erb within layouts/application (4.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (23.7ms)
Completed 200 OK in 1122ms (Views: 1076.5ms | ActiveRecord: 4.9ms)


Started GET "/tags/6/products/2/edit" for ::1 at 2015-08-08 22:08:07 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"6", "id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (178.2ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (28.8ms)
Completed 200 OK in 1176ms (Views: 1138.5ms | ActiveRecord: 2.8ms)


Started PATCH "/tags/6/products/2" for ::1 at 2015-08-08 22:08:12 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"M7RcnQQKe785k7HFCFiz1WUYD6CkS3sJztYnnOJSY695xZa8W7OJ2DsxiSQlDK1O1RW1Mcl+yCyFmCnnIfZRTg==", "product"=>{"title"=>"uuu", "description"=>"yo", "category_list"=>[""]}, "commit"=>"Submit", "tag_id"=>"6", "id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: category_list
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?  [["description", "yo"], ["updated_at", "2015-08-08 14:08:13.026613"], ["id", 2]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.6ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 6[0m  [["taggable_id", 2], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 6]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mTag Exists (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/tags/6/products
Completed 302 Found in 172ms (ActiveRecord: 14.3ms)


Started GET "/tags/6/products" for ::1 at 2015-08-08 22:08:13 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"6"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('手機'))
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c30e4f2 WHERE produ_catego_taggings_c30e4f2.taggable_id = products.id AND produ_catego_taggings_c30e4f2.taggable_type = 'Product' AND produ_catego_taggings_c30e4f2.context = 'categorys' AND produ_catego_taggings_c30e4f2.tag_id in (6)))  ORDER BY "products"."updated_at" ASC[0m
  Rendered category_products/index.html.erb within layouts/application (9.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (33.3ms)
Completed 200 OK in 1034ms (Views: 994.3ms | ActiveRecord: 3.3ms)


Started GET "/tags/7/products" for ::1 at 2015-08-08 22:08:19 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (67.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (19.1ms)
Completed 200 OK in 1056ms (Views: 1030.7ms | ActiveRecord: 4.5ms)


Started GET "/tags/7/products/3/edit" for ::1 at 2015-08-08 22:08:29 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"7", "id"=>"3"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered category_products/edit.html.erb within layouts/application (196.7ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (13.2ms)
Completed 200 OK in 1187ms (Views: 1162.5ms | ActiveRecord: 3.0ms)


Started PATCH "/tags/7/products/3" for ::1 at 2015-08-08 22:08:36 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"U6RNmRim6LyoPctmOhWwfK6cmoWC+izyPFzUXKtpvwMZ1Ye4Rx8a26qf84cXQa7nHpEgFO/Pn9d3EtonaM2N4g==", "product"=>{"title"=>"fffffff", "description"=>"yo", "category_list"=>["8", ""]}, "commit"=>"Submit", "tag_id"=>"7", "id"=>"3"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: category_list
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?  [["description", "yo"], ["updated_at", "2015-08-08 14:08:36.398626"], ["id", 3]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 7[0m  [["taggable_id", 3], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 5]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 7]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mTag Exists (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 3 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 3], ["taggable_type", "Product"], ["created_at", "2015-08-08 14:08:36.628491"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mTag Exists (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/tags/7/products
Completed 302 Found in 308ms (ActiveRecord: 21.6ms)


Started GET "/tags/7/products" for ::1 at 2015-08-08 22:08:36 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (36.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (23.4ms)
Completed 200 OK in 1082ms (Views: 1056.7ms | ActiveRecord: 4.1ms)


Started GET "/tags/7/products" for ::1 at 2015-08-08 22:08:42 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('家電用品'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_505c616 WHERE produ_catego_taggings_505c616.taggable_id = products.id AND produ_catego_taggings_505c616.taggable_type = 'Product' AND produ_catego_taggings_505c616.context = 'categorys' AND produ_catego_taggings_505c616.tag_id in (7)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (44.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (22.0ms)
Completed 200 OK in 1051ms (Views: 1026.2ms | ActiveRecord: 3.8ms)


Started GET "/tags" for ::1 at 2015-08-08 22:08:56 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (1.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (25.3ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (20.8ms)
Completed 200 OK in 1098ms (Views: 1077.7ms | ActiveRecord: 2.3ms)


Started DELETE "/tags/7" for ::1 at 2015-08-08 22:09:10 +0800
Processing by CategorysController#destroy as HTML
  Parameters: {"authenticity_token"=>"pOAZA/czll2jYLHHr5mrYsm57kNFXUnwAAhSxMsus//ukdMiqIpkOqHCiSaCzbX5ebRU0iho+tVLRly/CIqBHg==", "id"=>"7"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Load (0.6ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."tag_id" = ?[0m  [["tag_id", 7]]
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 8]]
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 7]]
  [1m[35m (6.2ms)[0m  commit transaction
Redirected to http://localhost:3000/tags
Completed 302 Found in 65ms (ActiveRecord: 9.5ms)


Started GET "/tags" for ::1 at 2015-08-08 22:09:10 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (10.9ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (18.8ms)
Completed 200 OK in 1037ms (Views: 1018.8ms | ActiveRecord: 1.6ms)


Started GET "/tags" for ::1 at 2015-08-08 22:23:48 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (8.1ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (20.4ms)
Completed 200 OK in 1173ms (Views: 1152.0ms | ActiveRecord: 1.5ms)


Started GET "/" for ::1 at 2015-08-08 22:24:44 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (147.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (36.0ms)
Completed 200 OK in 1276ms (Views: 1244.1ms | ActiveRecord: 7.0ms)


Started GET "/products/1" for ::1 at 2015-08-08 22:24:48 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  Rendered user_products/show.html.erb within layouts/application (5.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (21.1ms)
Completed 200 OK in 1153ms (Views: 1137.7ms | ActiveRecord: 1.9ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 22:24:51 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (192.6ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (13.8ms)
Completed 200 OK in 1275ms (Views: 1236.3ms | ActiveRecord: 3.0ms)


Started PATCH "/products/1" for ::1 at 2015-08-08 22:24:56 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"r80G5XKrD12pXyGoKuqH/pC4qUsAGHMKaUhUug++dLLlvMzELRL9Oqv9GUkHvpllILUT2m0twC8iBlrBzBpGUw==", "product"=>{"title"=>"Ｍ9", "description"=>"yo", "category_list"=>[""]}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
Unpermitted parameter: category_list
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mTag Exists (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 83ms (ActiveRecord: 2.7ms)


Started GET "/products.2" for ::1 at 2015-08-08 22:24:56 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (14.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (49.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (20.7ms)
Completed 200 OK in 1151ms (Views: 1120.5ms | ActiveRecord: 16.8ms)


Started GET "/products/5/edit" for ::1 at 2015-08-08 22:25:04 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 5], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (189.9ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (29.4ms)
Completed 200 OK in 1332ms (Views: 1305.7ms | ActiveRecord: 2.6ms)


Started PATCH "/products/5" for ::1 at 2015-08-08 22:25:10 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"AkwlfSCqunFBjC9YBHzsBASq6/Zdf0AUF96Deehqu1tIPe9cfxNIFkMuF7kpKPKftKdRZzBK8zFckI0CK86Jug==", "product"=>{"title"=>"fffff", "description"=>"fffff1111", "category_list"=>[""]}, "commit"=>"Submit", "id"=>"5"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: category_list
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?  [["description", "fffff1111"], ["updated_at", "2015-08-08 14:25:10.534355"], ["id", 5]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 5], ["taggable_type", "Product"]]
  [1m[36mTag Exists (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 100ms (ActiveRecord: 5.6ms)


Started GET "/products.2" for ::1 at 2015-08-08 22:25:10 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (59.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (22.2ms)
Completed 200 OK in 1173ms (Views: 1154.9ms | ActiveRecord: 3.6ms)


Started GET "/" for ::1 at 2015-08-08 22:25:16 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (181.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (21.7ms)
Completed 200 OK in 1309ms (Views: 1276.1ms | ActiveRecord: 7.6ms)


Started GET "/products/2" for ::1 at 2015-08-08 22:25:22 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered user_products/show.html.erb within layouts/application (5.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (25.2ms)
Completed 200 OK in 1173ms (Views: 1145.3ms | ActiveRecord: 2.1ms)


Started GET "/products/2/edit" for ::1 at 2015-08-08 22:25:24 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (206.5ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (14.6ms)
Completed 200 OK in 1356ms (Views: 1326.2ms | ActiveRecord: 2.5ms)


Started PATCH "/products/2" for ::1 at 2015-08-08 22:25:29 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"u7y/hlCwiNPOCE4Kss9CrjnGONHNJJEjdqoWyTfXPhXxzXWnDwl6tMyqduufm1w1icuCQKARIgY95Biy9HMM9A==", "product"=>{"title"=>"uuu", "description"=>"yo123", "category_list"=>[""]}, "commit"=>"Submit", "id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: category_list
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?  [["description", "yo123"], ["updated_at", "2015-08-08 14:25:30.008906"], ["id", 2]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mTag Exists (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 100ms (ActiveRecord: 5.0ms)


Started GET "/products.2" for ::1 at 2015-08-08 22:25:30 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (49.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (36.5ms)
Completed 200 OK in 1168ms (Views: 1149.6ms | ActiveRecord: 3.0ms)


Started GET "/" for ::1 at 2015-08-08 22:25:34 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (159.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (20.1ms)
Completed 200 OK in 1286ms (Views: 1267.5ms | ActiveRecord: 6.7ms)


Started GET "/products/2" for ::1 at 2015-08-08 22:25:37 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered user_products/show.html.erb within layouts/application (5.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (36.6ms)
Completed 200 OK in 1121ms (Views: 1090.7ms | ActiveRecord: 2.1ms)


Started GET "/products/2" for ::1 at 2015-08-08 22:26:19 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered user_products/show.html.erb within layouts/application (5.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (65.7ms)
Completed 200 OK in 1869ms (Views: 1619.1ms | ActiveRecord: 10.0ms)


Started GET "/products/2/edit" for ::1 at 2015-08-08 22:26:23 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (1.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (553.8ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (45.4ms)
Completed 200 OK in 3078ms (Views: 2987.8ms | ActiveRecord: 5.6ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 22:26:26 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-08 22:26:26 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-08 22:26:27 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 22:26:28 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-08 22:26:29 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-08 22:26:29 +0800


Started GET "/products/2/edit" for ::1 at 2015-08-08 22:26:31 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/edit.html.erb within layouts/application (425.8ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (26.0ms)
Completed 200 OK in 2792ms (Views: 2751.0ms | ActiveRecord: 4.3ms)


Started PATCH "/products/2" for ::1 at 2015-08-08 22:26:39 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"As+GKiiIlxjIyUjb5UUrfGUcb6GCMbfxI+P3bCROdAlIvkwLdzFlf8prcDrIETXn1RHVMO8EBNRorfkX5+pG6A==", "product"=>{"title"=>"uuu", "description"=>"yo123456", "category_list"=>[""]}, "commit"=>"Submit", "id"=>"2"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Unpermitted parameter: category_list
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?  [["description", "yo123456"], ["updated_at", "2015-08-08 14:28:20.917946"], ["id", 2]]
  [1m[36m (6.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (1.5ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mTag Exists (1.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 101458ms (ActiveRecord: 15.8ms)


Started GET "/products/2/edit" for ::1 at 2015-08-08 22:28:21 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (1.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Completed 500 Internal Server Error in 669ms

NoMethodError (undefined method `edirect_to' for #<UserProductsController:0x007fd1bfb93780>):
  app/controllers/user_products_controller.rb:38:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (256.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (66.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (459.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (80.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (178.4ms)


Started GET "/products/2/edit" for ::1 at 2015-08-08 22:28:27 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.9ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
Completed 500 Internal Server Error in 113ms

NoMethodError (undefined method `edirect_to' for #<UserProductsController:0x007fd1c14eba48>):
  app/controllers/user_products_controller.rb:38:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (269.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (72.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (5.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (472.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (12.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (88.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (172.4ms)


Started GET "/products/2/edit" for ::1 at 2015-08-08 22:29:13 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (207.0ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (66.1ms)
Completed 200 OK in 1576ms (Views: 1344.2ms | ActiveRecord: 9.8ms)


Started PATCH "/products/2" for ::1 at 2015-08-08 22:29:25 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"hfoaaWUcoS8NV5RuBQwxdjv6Yk9m13tWjmWpWOYzZvTPi9BIOqVTSA/1rI8oWC/ti/fY3gviyHPFK6cjJZdUFQ==", "product"=>{"title"=>"uuu", "description"=>"", "category_list"=>["8", ""]}, "commit"=>"Submit", "id"=>"2"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.9ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Completed 500 Internal Server Error in 226ms

NoMethodError (undefined method `edirect_to' for #<UserProductsController:0x007fd1c262f070>):
  app/controllers/user_products_controller.rb:42:in `update'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (169.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (34.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (290.3ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x007fd1ba9ccd70 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x007fd1ba9cc820 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x007fd1b9ea9628 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started PATCH "/products/2" for ::1 at 2015-08-08 22:30:32 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"STcuFucqoWDtNDPImdMJPL/6I9hGI19CSKJxXCPCOMgDRuQ3uJNTB++WCym0hxenD/eZSSsW7GcD7H8n4GYKKQ==", "product"=>{"title"=>"uuu", "description"=>"", "category_list"=>["8", ""]}, "commit"=>"Submit", "id"=>"2"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 271ms (ActiveRecord: 7.6ms)


Started GET "/products.2" for ::1 at 2015-08-08 22:30:34 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (93.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (21.8ms)
Completed 200 OK in 1328ms (Views: 1288.7ms | ActiveRecord: 4.1ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:30:41 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (78.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (23.4ms)
Completed 200 OK in 1192ms (Views: 1147.5ms | ActiveRecord: 6.0ms)


Started GET "/" for ::1 at 2015-08-08 22:30:43 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (164.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (21.4ms)
Completed 200 OK in 1222ms (Views: 1200.1ms | ActiveRecord: 6.7ms)


Started GET "/products/2" for ::1 at 2015-08-08 22:30:50 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  Rendered user_products/show.html.erb within layouts/application (5.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (20.4ms)
Completed 200 OK in 1107ms (Views: 1077.4ms | ActiveRecord: 2.1ms)


Started GET "/products/2/edit" for ::1 at 2015-08-08 22:30:52 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 2], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (221.6ms)
  [1m[35mCACHE (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (22.1ms)
Completed 200 OK in 1361ms (Views: 1331.5ms | ActiveRecord: 3.5ms)


Started PATCH "/products/2" for ::1 at 2015-08-08 22:30:59 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jlFNvPrxZ/VD5A7EFJQoTrRCzmsuWA2sPHcO0kH382bEIIedpUiVkkFGNiU5wDbVBE90+kNtvol3OQCpglPBhw==", "product"=>{"title"=>"uuu", "description"=>"", "category_list"=>["8", ""]}, "commit"=>"Submit", "id"=>"2"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 27ms (ActiveRecord: 1.2ms)


Started GET "/products.2" for ::1 at 2015-08-08 22:30:59 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (34.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (22.1ms)
Completed 200 OK in 1155ms (Views: 1124.7ms | ActiveRecord: 2.9ms)


Started GET "/" for ::1 at 2015-08-08 22:31:02 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (161.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (20.6ms)
Completed 200 OK in 1228ms (Views: 1210.2ms | ActiveRecord: 6.9ms)


Started GET "/products/2" for ::1 at 2015-08-08 22:31:07 +0800
Processing by UserProductsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 2]]
  Rendered user_products/show.html.erb within layouts/application (4.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (23.4ms)
Completed 200 OK in 1081ms (Views: 1064.9ms | ActiveRecord: 1.9ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:31:10 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (77.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (44.5ms)
Completed 200 OK in 1450ms (Views: 1421.8ms | ActiveRecord: 5.4ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:31:11 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (78.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (21.2ms)
Completed 200 OK in 1286ms (Views: 1246.3ms | ActiveRecord: 5.5ms)


Started GET "/" for ::1 at 2015-08-08 22:31:16 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (158.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (22.0ms)
Completed 200 OK in 1280ms (Views: 1261.5ms | ActiveRecord: 6.9ms)


Started GET "/tags" for ::1 at 2015-08-08 22:31:37 +0800
Processing by CategorysController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered categorys/index.html.erb within layouts/application (10.4ms)
  [1m[36mCACHE (0.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (34.2ms)
Completed 200 OK in 1124ms (Views: 1090.5ms | ActiveRecord: 1.8ms)


Started GET "/tags/new" for ::1 at 2015-08-08 22:31:40 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  Rendered categorys/new.html.erb within layouts/application (82.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (36.2ms)
Completed 200 OK in 1226ms (Views: 1214.0ms | ActiveRecord: 1.5ms)


Started GET "/tags" for ::1 at 2015-08-08 22:36:25 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (11.1ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (58.6ms)
Completed 200 OK in 1496ms (Views: 1278.7ms | ActiveRecord: 8.3ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:36:28 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (2.0ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (133.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (23.5ms)
Completed 200 OK in 1462ms (Views: 1396.0ms | ActiveRecord: 9.8ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:36:32 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (79.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (21.4ms)
Completed 200 OK in 1368ms (Views: 1340.5ms | ActiveRecord: 5.0ms)


Started GET "/tags" for ::1 at 2015-08-08 22:36:35 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (8.8ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (24.2ms)
Completed 200 OK in 1147ms (Views: 1127.4ms | ActiveRecord: 1.9ms)


Started GET "/tags/8/edit" for ::1 at 2015-08-08 22:36:38 +0800
Processing by CategorysController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (1.5ms)[0m  [1mSELECT  tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  Rendered categorys/edit.html.erb within layouts/application (59.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (37.9ms)
Completed 200 OK in 1210ms (Views: 1181.9ms | ActiveRecord: 3.5ms)


Started GET "/tags/new" for ::1 at 2015-08-08 22:37:14 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
Completed 500 Internal Server Error in 125ms

NameError (undefined local variable or method `tag' for #<CategorysController:0x007fd1c17eb6a8>):
  app/controllers/categorys_controller.rb:70:in `permitted'
  app/controllers/categorys_controller.rb:15:in `new'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (196.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (65.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (354.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (69.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (180.5ms)


Started GET "/tags/new" for ::1 at 2015-08-08 22:37:17 +0800
Processing by CategorysController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
Completed 500 Internal Server Error in 30ms

NameError (undefined local variable or method `tag' for #<CategorysController:0x007fd1c2950600>):
  app/controllers/categorys_controller.rb:70:in `permitted'
  app/controllers/categorys_controller.rb:15:in `new'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (159.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (33.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (280.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (84.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (161.9ms)


Started GET "/tags/new" for ::1 at 2015-08-08 22:37:47 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
Redirected to http://localhost:3000/tags
Completed 302 Found in 11537ms (ActiveRecord: 4.1ms)


Started GET "/tags" for ::1 at 2015-08-08 22:38:00 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (13.6ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (20.1ms)
Completed 200 OK in 1210ms (Views: 1178.9ms | ActiveRecord: 3.7ms)


Started DELETE "/users/sign_out" for ::1 at 2015-08-08 22:38:21 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"YYc7S3XLnPr/bl/hdyQkkblB2WK8vV6Xe9RKQea4J4Mr9vFqKnJunf3MZwBacDoKCUxj89GI7bIwmkQ6JRwVYg=="}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 119ms (ActiveRecord: 4.2ms)


Started GET "/" for ::1 at 2015-08-08 22:38:23 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (216.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (14.5ms)
Completed 200 OK in 1540ms (Views: 1436.1ms | ActiveRecord: 9.1ms)


Started GET "/users/sign_in" for ::1 at 2015-08-08 22:38:27 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (6.2ms)
  Rendered devise/sessions/new.html.erb within layouts/application (177.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (15.1ms)
Completed 200 OK in 1381ms (Views: 1364.5ms | ActiveRecord: 0.7ms)


Started POST "/users/sign_in" for ::1 at 2015-08-08 22:38:30 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"W2Z/OwztYhzNwgCORodIu2ZonUNAXa7iOcMF/G7iShE9JdNuxlaHXiu2R4LOQJFMIQqFgcob/39DdFM5ZM+Wyw==", "user"=>{"email"=>"blog_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "blog_admin@takobearnet.com"]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["current_sign_in_at", "2015-08-08 14:38:30.764892"], ["sign_in_count", 2], ["updated_at", "2015-08-08 14:38:30.795090"], ["id", 1]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 220ms (ActiveRecord: 5.8ms)


Started GET "/" for ::1 at 2015-08-08 22:38:30 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (176.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (64.9ms)
Completed 200 OK in 1427ms (Views: 1405.9ms | ActiveRecord: 9.5ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:39:44 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (80.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (44.1ms)
Completed 200 OK in 1384ms (Views: 1320.7ms | ActiveRecord: 6.0ms)


Started GET "/" for ::1 at 2015-08-08 22:39:48 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (168.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.1ms)
Completed 200 OK in 1417ms (Views: 1398.7ms | ActiveRecord: 7.0ms)


Started GET "/tags" for ::1 at 2015-08-08 22:39:51 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (10.2ms)
  [1m[35mCACHE (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.1ms)
Completed 200 OK in 1300ms (Views: 1279.1ms | ActiveRecord: 1.9ms)


Started GET "/tags/new" for ::1 at 2015-08-08 22:39:54 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (62.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (15.0ms)
Completed 200 OK in 1342ms (Views: 1321.7ms | ActiveRecord: 1.5ms)


Started POST "/tags" for ::1 at 2015-08-08 22:40:11 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Q9Er96T7RQnvqELIQtMPLXafHHDlVT0W91NlIcp5GPGvL1CO9x1UDjU0K+HObG91VVc43NPDHyn9XfyJdYjgJA==", "tag"=>{"name"=>"3C產品"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.6ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = '3C產品' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", "3C產品"]]
  [1m[35m (1.5ms)[0m  commit transaction
Redirected to http://localhost:3000/tags/9/taggings/new
Completed 302 Found in 76ms (ActiveRecord: 4.7ms)


Started GET "/tags/9/taggings/new" for ::1 at 2015-08-08 22:40:11 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (94.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (21.0ms)
Completed 200 OK in 1284ms (Views: 1255.7ms | ActiveRecord: 3.4ms)


Started POST "/tags/9/taggings" for ::1 at 2015-08-08 22:40:16 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ajzuDvGDLXy88HcvhX7AM6djYvaWWyda/GOzL0Tt1FiGwpV3omU8e2ZsHgYJwaBrhKtGWqDNBWX2bSqH+xwsjQ==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"4"}, "commit"=>"Submit", "tag_id"=>"9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 9 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 9], ["created_at", "2015-08-08 14:40:16.223192"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 9]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags
Completed 302 Found in 114ms (ActiveRecord: 7.8ms)


Started GET "/tags" for ::1 at 2015-08-08 22:40:16 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (13.0ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.8ms)
Completed 200 OK in 1231ms (Views: 1191.2ms | ActiveRecord: 1.8ms)


Started GET "/" for ::1 at 2015-08-08 22:40:21 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (169.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (39.5ms)
Completed 200 OK in 1392ms (Views: 1356.4ms | ActiveRecord: 6.9ms)


Started GET "/products" for ::1 at 2015-08-08 22:40:28 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (176.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (25.5ms)
Completed 200 OK in 1545ms (Views: 1502.9ms | ActiveRecord: 6.8ms)


Started GET "/products/3/edit" for ::1 at 2015-08-08 22:40:34 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (239.9ms)
  [1m[35mCACHE (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (2.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (78.1ms)
Completed 200 OK in 1632ms (Views: 1610.1ms | ActiveRecord: 4.8ms)


Started GET "/products" for ::1 at 2015-08-08 22:40:37 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (171.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (46.4ms)
Completed 200 OK in 1443ms (Views: 1423.9ms | ActiveRecord: 5.6ms)


Started GET "/products/1/edit" for ::1 at 2015-08-08 22:40:41 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (238.1ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (55.2ms)
Completed 200 OK in 1503ms (Views: 1485.2ms | ActiveRecord: 3.1ms)


Started PATCH "/products/1" for ::1 at 2015-08-08 22:40:51 +0800
Processing by UserProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"YhDR57On4PrwYWGN1HBOIb5JoDVLT2JuXAOyum4QJDCO7qqe4EHx/Sr9CKRYzy55nYGEmX3ZQFFWDSsS0eHc5Q==", "product"=>{"title"=>"Ｍ9", "description"=>"yo", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fd1bfa92020 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150808-30206-n9vbuw.jpeg>, @original_filename="images_templerun.jpeg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"images_templerun.jpeg\"\r\nContent-Type: image/jpeg\r\n">, "category_list"=>["8", "9", ""]}, "commit"=>"Submit", "id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameter: category_list
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "products" SET "image" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["image", "images_templerun.jpeg"], ["updated_at", "2015-08-08 14:40:52.114260"], ["id", 1]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35mTag Exists (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 1], ["taggable_type", "Product"], ["created_at", "2015-08-08 14:40:52.297757"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 9]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品') OR LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 9 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 9], ["context", "categorys"], ["taggable_id", 1], ["taggable_type", "Product"], ["created_at", "2015-08-08 14:40:52.473023"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 9]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/products.1
Completed 302 Found in 542ms (ActiveRecord: 19.5ms)


Started GET "/products.1" for ::1 at 2015-08-08 22:40:52 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (170.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (42.4ms)
Completed 200 OK in 1453ms (Views: 1434.3ms | ActiveRecord: 5.7ms)


Started GET "/tags/9/products" for ::1 at 2015-08-08 22:41:04 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (88.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (45.4ms)
Completed 200 OK in 1355ms (Views: 1302.9ms | ActiveRecord: 5.5ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:41:06 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (136.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (23.5ms)
Completed 200 OK in 1444ms (Views: 1414.3ms | ActiveRecord: 6.3ms)


Started GET "/tags/9/products" for ::1 at 2015-08-08 22:41:11 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (84.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.7ms)
Completed 200 OK in 1368ms (Views: 1319.8ms | ActiveRecord: 5.3ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:41:13 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (116.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (22.9ms)
Completed 200 OK in 1386ms (Views: 1337.9ms | ActiveRecord: 6.2ms)


Started GET "/" for ::1 at 2015-08-08 22:41:17 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (179.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (28.7ms)
Completed 200 OK in 1438ms (Views: 1420.8ms | ActiveRecord: 7.1ms)


Started GET "/tags" for ::1 at 2015-08-08 22:43:42 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (12.1ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (43.2ms)
Completed 200 OK in 1379ms (Views: 1356.8ms | ActiveRecord: 1.9ms)


Started GET "/tags/new" for ::1 at 2015-08-08 22:43:46 +0800
Processing by CategorysController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered categorys/new.html.erb within layouts/application (42.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (19.7ms)
Completed 200 OK in 1461ms (Views: 1421.7ms | ActiveRecord: 1.8ms)


Started POST "/tags" for ::1 at 2015-08-08 22:44:00 +0800
Processing by CategorysController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Od807Xl4ViT7mFRaU0IQZUUcJtJ/heAaIle1fxiM5h3VIU+UKp5HIyEEPXPf/XA9ZtQCfkkTwiUoWSzXp30eyA==", "tag"=>{"name"=>" 123"}, "commit"=>"Submit"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Exists (0.6ms)[0m  SELECT  1 AS one FROM "tags" WHERE "tags"."name" = ' 123' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "tags" ("name") VALUES (?)[0m  [["name", " 123"]]
  [1m[35m (6.0ms)[0m  commit transaction
Redirected to http://localhost:3000/tags/10/taggings/new
Completed 302 Found in 81ms (ActiveRecord: 9.2ms)


Started GET "/tags/10/taggings/new" for ::1 at 2015-08-08 22:44:00 +0800
Processing by CategoryTaggingsController#new as HTML
  Parameters: {"tag_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  Rendered category_taggings/new.html.erb within layouts/application (77.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (45.5ms)
Completed 200 OK in 1431ms (Views: 1380.6ms | ActiveRecord: 2.8ms)


Started POST "/tags/10/taggings" for ::1 at 2015-08-08 22:44:11 +0800
Processing by CategoryTaggingsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"E/bNWlLwfqrM4X0MkJL7tvWevtUeUEbntBNgbQj7iV7/CLYjARZvrRZ9FCUcLZvu1laaeSjGZNi+HfnFtwpxiw==", "acts_as_taggable_on_tagging"=>{"taggable_id"=>"4"}, "commit"=>"Submit", "tag_id"=>"10"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 10 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "taggings" ("taggable_id", "taggable_type", "context", "tag_id", "created_at") VALUES (?, ?, ?, ?, ?)  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"], ["tag_id", 10], ["created_at", "2015-08-08 14:44:11.662437"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 10]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags
Completed 302 Found in 129ms (ActiveRecord: 9.8ms)


Started GET "/tags" for ::1 at 2015-08-08 22:44:11 +0800
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (16.3ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (32.3ms)
Completed 200 OK in 1367ms (Views: 1344.7ms | ActiveRecord: 1.8ms)


Started GET "/" for ::1 at 2015-08-08 22:44:17 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (194.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (51.0ms)
Completed 200 OK in 1556ms (Views: 1537.8ms | ActiveRecord: 7.4ms)


Started POST "/main_pages/1/vote_up" for ::1 at 2015-08-08 22:44:36 +0800
Processing by MainPagesController#vote_up as HTML
  Parameters: {"authenticity_token"=>"TmZhlL0CaGhlaC+tuRR7SvVn9qPrP4xS2/RCcw0fiZ6imBrt7uR5b7/0RoQ1qxsS1q/SD92prm3R+tvbsu5xSw==", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mVote Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "votes" WHERE ("votes"."voteable_id" = 1 AND "votes"."voteable_type" = 'Product' AND "votes"."voter_type" = 'User' AND "votes"."voter_id" = 1) LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "votes" ("vote", "voteable_id", "voteable_type", "voter_id", "voter_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)  [["vote", "t"], ["voteable_id", 1], ["voteable_type", "Product"], ["voter_id", 1], ["voter_type", "User"], ["created_at", "2015-08-08 14:44:36.351085"], ["updated_at", "2015-08-08 14:44:36.351085"]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/main_pages
Completed 302 Found in 117ms (ActiveRecord: 10.0ms)


Started GET "/main_pages" for ::1 at 2015-08-08 22:44:36 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (209.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (2.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (68.4ms)
Completed 200 OK in 1649ms (Views: 1620.6ms | ActiveRecord: 10.4ms)


Started DELETE "/users/sign_out" for ::1 at 2015-08-08 22:44:47 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"IOibvIaFvWnhFYIbrkOlLaFKVmNi2zEC/rGTRQk7pgnMFuDF1WOsbjuJ6zIi/MV1goJyz1RNEz30vwrttspe3A=="}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 62ms (ActiveRecord: 1.3ms)


Started GET "/" for ::1 at 2015-08-08 22:44:47 +0800
Processing by MainPagesController#index as HTML
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (194.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (16.2ms)
Completed 200 OK in 1523ms (Views: 1511.3ms | ActiveRecord: 6.1ms)


Started GET "/users/sign_in" for ::1 at 2015-08-08 22:44:50 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (4.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (172.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (18.5ms)
Completed 200 OK in 1588ms (Views: 1580.1ms | ActiveRecord: 0.7ms)


Started GET "/users/sign_up" for ::1 at 2015-08-08 22:44:59 +0800
Processing by Users::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (9.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (197.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (38.6ms)
Completed 200 OK in 1544ms (Views: 1537.0ms | ActiveRecord: 0.7ms)


Started POST "/users/sign_in" for ::1 at 2015-08-08 22:45:20 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"igocT53dn9wA28UULJ1UQ3BT6bwUauiboCmnPufseYJXedF06AhF2YlMPX8mU4S0QGAyJ2UbZXMJtnum8JO8tg==", "user"=>{"email"=>"orange788ro@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "orange788ro@hotmail.com"]]
Completed 401 Unauthorized in 34ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"igocT53dn9wA28UULJ1UQ3BT6bwUauiboCmnPufseYJXedF06AhF2YlMPX8mU4S0QGAyJ2UbZXMJtnum8JO8tg==", "user"=>{"email"=>"orange788ro@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (4.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (190.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (18.1ms)
Completed 200 OK in 1633ms (Views: 1540.9ms | ActiveRecord: 0.7ms)


Started GET "/users/sign_up" for ::1 at 2015-08-08 22:45:25 +0800
Processing by Users::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (5.5ms)
  Rendered devise/registrations/new.html.erb within layouts/application (179.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (19.6ms)
Completed 200 OK in 1621ms (Views: 1615.2ms | ActiveRecord: 0.7ms)


Started POST "/users" for ::1 at 2015-08-08 22:45:34 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"cmbVi8WZLj1nO4UrvSWx1v/n9GPLYWEycIEZSlFWRKmvFRiwsEz0OO6sfUC362Ehz9Qv+LoQ7NrZHsXSRimBnQ==", "user"=>{"email"=>"orange7886ro@hotmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'orange7886ro@hotmail.com' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  Rendered devise/shared/_links.html.erb (8.1ms)
  Rendered devise/registrations/new.html.erb within layouts/application (262.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (30.9ms)
Completed 200 OK in 1746ms (Views: 1513.8ms | ActiveRecord: 2.4ms)


Started GET "/users/sign_in" for ::1 at 2015-08-08 22:45:46 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (2.9ms)
  Rendered devise/sessions/new.html.erb within layouts/application (152.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (19.2ms)
Completed 200 OK in 1359ms (Views: 1342.2ms | ActiveRecord: 0.8ms)


Started GET "/users/sign_in" for ::1 at 2015-08-08 22:45:53 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (3.1ms)
  Rendered devise/sessions/new.html.erb within layouts/application (152.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (17.9ms)
Completed 200 OK in 1354ms (Views: 1344.5ms | ActiveRecord: 1.1ms)


Started GET "/users/sign_up" for ::1 at 2015-08-08 22:45:55 +0800
Processing by Users::RegistrationsController#new as HTML
  Rendered devise/shared/_links.html.erb (7.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (176.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (41.1ms)
Completed 200 OK in 1452ms (Views: 1435.5ms | ActiveRecord: 1.6ms)


Started POST "/users" for ::1 at 2015-08-08 22:46:21 +0800
Processing by Users::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"WXgVmnmqgRsE/XvO0Q4rIeINylEawYPssVdULqI/ZemEC9ihDH9bHo1qg6XbwPvW0j4RymuwDgQYyIi2tUCg3Q==", "user"=>{"email"=>"123@gg.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = '123@gg.com' LIMIT 1
  [1m[36mRole Load (1.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT 1[0m  [["name", "RegisteredUser"]]
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "123@gg.com"], ["encrypted_password", "$2a$10$IABMJAp4CRtAMt4LUHE/m.kVzvgCDbWi8JpEqwFSpUOSa3USGSEf."], ["role_id", 3], ["created_at", "2015-08-08 14:46:21.584754"], ["updated_at", "2015-08-08 14:46:21.584754"]]
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "roles" SET "users_count" = COALESCE("users_count", 0) + 1 WHERE "roles"."id" = ?  [["id", 3]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "last_sign_in_ip" = ?, "current_sign_in_ip" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2015-08-08 14:46:21.641127"], ["current_sign_in_at", "2015-08-08 14:46:21.641127"], ["last_sign_in_ip", "::1"], ["current_sign_in_ip", "::1"], ["sign_in_count", 1], ["updated_at", "2015-08-08 14:46:21.667733"], ["id", 3]]
  [1m[35m (2.0ms)[0m  commit transaction
Redirected to http://localhost:3000/
Completed 302 Found in 303ms (ActiveRecord: 9.6ms)


Started GET "/" for ::1 at 2015-08-08 22:46:21 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (183.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (48.7ms)
Completed 200 OK in 1270ms (Views: 1250.6ms | ActiveRecord: 8.0ms)


Started GET "/products" for ::1 at 2015-08-08 22:46:35 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 3]]
  Rendered user_products/index.html.erb within layouts/application (10.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (51.4ms)
Completed 200 OK in 1147ms (Views: 1128.5ms | ActiveRecord: 3.4ms)


Started GET "/products/new" for ::1 at 2015-08-08 22:46:39 +0800
Processing by UserProductsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/products.3
Completed 302 Found in 36ms (ActiveRecord: 0.8ms)


Started GET "/products.3" for ::1 at 2015-08-08 22:46:39 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 3]]
  Rendered user_products/index.html.erb within layouts/application (6.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (25.8ms)
Completed 200 OK in 1255ms (Views: 1239.3ms | ActiveRecord: 2.7ms)


Started GET "/products/new" for ::1 at 2015-08-08 22:46:46 +0800
Processing by UserProductsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/products.3
Completed 302 Found in 34ms (ActiveRecord: 1.2ms)


Started GET "/products.3" for ::1 at 2015-08-08 22:46:46 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 3]]
  Rendered user_products/index.html.erb within layouts/application (6.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (24.2ms)
Completed 200 OK in 1119ms (Views: 1103.9ms | ActiveRecord: 2.1ms)


Started GET "/products/new" for ::1 at 2015-08-08 22:46:54 +0800
Processing by UserProductsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/products.3
Completed 302 Found in 22ms (ActiveRecord: 0.9ms)


Started GET "/products.3" for ::1 at 2015-08-08 22:46:54 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 3]]
  Rendered user_products/index.html.erb within layouts/application (9.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (2.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (55.6ms)
Completed 200 OK in 1289ms (Views: 1269.2ms | ActiveRecord: 4.7ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:47:03 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (121.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (26.7ms)
Completed 200 OK in 1263ms (Views: 1233.8ms | ActiveRecord: 7.0ms)


Started GET "/tags/8/products" for ::1 at 2015-08-08 22:48:45 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.8ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (112.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (24.7ms)
Completed 200 OK in 1207ms (Views: 1177.6ms | ActiveRecord: 6.7ms)


Started GET "/tags/9/products" for ::1 at 2015-08-08 22:49:27 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (77.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (24.0ms)
Completed 200 OK in 1209ms (Views: 1182.5ms | ActiveRecord: 5.2ms)


Started GET "/tags/9/products/new" for ::1 at 2015-08-08 22:49:46 +0800
Processing by CategoryProductsController#new as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 3]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
Redirected to http://localhost:3000/products.3
Completed 302 Found in 38ms (ActiveRecord: 1.4ms)


Started GET "/products.3" for ::1 at 2015-08-08 22:49:46 +0800
Processing by UserProductsController#index as 
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 3]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 3]]
  Rendered user_products/index.html.erb within layouts/application (6.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 3]]
  Rendered common/_navbar.html.erb (42.6ms)
Completed 200 OK in 1101ms (Views: 1084.5ms | ActiveRecord: 2.1ms)


Started GET "/products" for ::1 at 2015-08-11 21:07:55 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserProductsController#index as HTML
Completed 401 Unauthorized in 101ms


Started GET "/users/sign_in" for ::1 at 2015-08-11 21:07:56 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.8ms)
  Rendered devise/sessions/new.html.erb within layouts/application (193.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (10.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (189.7ms)
Completed 200 OK in 1306ms (Views: 1211.5ms | ActiveRecord: 12.9ms)


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:07:57 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-11 21:07:57 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:07:57 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-11 21:07:57 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-11 21:07:57 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-11 21:07:57 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:07:57 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:07:57 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:07:58 +0800


Started POST "/users/sign_in" for ::1 at 2015-08-11 21:08:24 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"lcH/8NsKexxEBrVU9wOgOTK2s9uc9V4pluKWwPYLKtih4xJsMDGBKYFyEKBEBPkP/LKFdxwOp235MR81j5RNdA==", "user"=>{"email"=>"blog_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (14.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "blog_admin@takobearnet.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", "2015-08-11 13:08:24.538533"], ["updated_at", "2015-08-11 13:08:24.540839"], ["id", 1]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2015-08-08 14:38:30.764892"], ["current_sign_in_at", "2015-08-11 13:08:24.582868"], ["sign_in_count", 3], ["updated_at", "2015-08-11 13:08:24.585535"], ["id", 1]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/products
Completed 302 Found in 272ms (ActiveRecord: 17.9ms)


Started GET "/products" for ::1 at 2015-08-11 21:08:24 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (35.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (8.1ms)
Completed 200 OK in 243ms (Views: 198.1ms | ActiveRecord: 3.6ms)


Started GET "/products/1/edit" for ::1 at 2015-08-11 21:08:28 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (63.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 213ms (Views: 209.0ms | ActiveRecord: 1.2ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:11:58 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (23.7ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (17.8ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (39.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (16.5ms)
Completed 200 OK in 443ms (Views: 187.2ms | ActiveRecord: 45.4ms)


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:12:01 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (21.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (5.0ms)
Completed 200 OK in 186ms (Views: 181.9ms | ActiveRecord: 1.4ms)


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:13:16 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mCACHE (0.5ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mCACHE (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (499.0ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (83.9ms)
Completed 200 OK in 198967ms (Views: 3673.3ms | ActiveRecord: 6.5ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:16:35 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (180.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (34.3ms)
Completed 200 OK in 1719ms (Views: 1591.4ms | ActiveRecord: 8.3ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:16:36 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (153.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (35.2ms)
Completed 200 OK in 1585ms (Views: 1547.7ms | ActiveRecord: 7.4ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 21:16:38 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mProduct Load (1.4ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (109.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (28.1ms)
Completed 200 OK in 1563ms (Views: 1525.7ms | ActiveRecord: 6.4ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:16:40 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (124.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (52.7ms)
Completed 200 OK in 1322ms (Views: 1281.9ms | ActiveRecord: 7.2ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 21:16:41 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (76.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (19.8ms)
Completed 200 OK in 1023ms (Views: 997.4ms | ActiveRecord: 4.9ms)


Started GET "/tags/10/products" for ::1 at 2015-08-11 21:16:45 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('123'))[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE (1 = 0)  ORDER BY "products"."updated_at" ASC
  Rendered category_products/index.html.erb within layouts/application (5.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (22.5ms)
Completed 200 OK in 950ms (Views: 927.1ms | ActiveRecord: 2.9ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 21:16:52 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (73.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (20.1ms)
Completed 200 OK in 1024ms (Views: 996.8ms | ActiveRecord: 4.9ms)


Started GET "/tags/10/products" for ::1 at 2015-08-11 21:17:11 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('123'))[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT "products".* FROM "products" WHERE (1 = 0)  ORDER BY "products"."updated_at" ASC
  Rendered category_products/index.html.erb within layouts/application (8.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (25.2ms)
Completed 200 OK in 983ms (Views: 956.1ms | ActiveRecord: 3.0ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 21:18:17 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (71.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (31.9ms)
Completed 200 OK in 1050ms (Views: 1023.9ms | ActiveRecord: 4.8ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:18:21 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (1.1ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (103.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (32.7ms)
Completed 200 OK in 1091ms (Views: 1049.4ms | ActiveRecord: 7.0ms)


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:19:43 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36m (0.6ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", "4"]]
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (352.1ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (53.3ms)
Completed 200 OK in 524124ms (Views: 2098.8ms | ActiveRecord: 4.3ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:28:27 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (191.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (71.3ms)
Completed 200 OK in 1616ms (Views: 1381.7ms | ActiveRecord: 14.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-11 21:28:32 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:28:33 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:28:34 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:28:34 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:28:34 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-11 21:28:34 +0800


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:28:36 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
Completed 500 Internal Server Error in 9583ms

RuntimeError (No frames collected.):
  app/controllers/category_products_controller.rb:41:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (299.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (68.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (441.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (82.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (190.3ms)


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:28:49 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
Completed 500 Internal Server Error in 1467ms

RuntimeError (No frames collected.):
  app/controllers/category_products_controller.rb:41:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (312.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (70.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (18.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (463.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (79.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (178.0ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:29:13 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (207.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (36.9ms)
Completed 200 OK in 2067ms (Views: 2020.1ms | ActiveRecord: 8.7ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-11 21:29:15 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:29:15 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:29:15 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:29:15 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:29:15 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-11 21:29:15 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-11 21:29:15 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-11 21:29:16 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-11 21:29:17 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-11 21:29:17 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:29:17 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:29:17 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:29:17 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:29:17 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-11 21:29:17 +0800


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:29:22 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
Completed 500 Internal Server Error in 3838ms

RuntimeError (No frames collected.):
  app/controllers/category_products_controller.rb:41:in `edit'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (314.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (70.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (451.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (88.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (172.4ms)


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:29:29 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (1.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.9ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (380.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (52.0ms)
Completed 200 OK in 6053ms (Views: 2206.2ms | ActiveRecord: 7.2ms)


Started PATCH "/tags/8/products/4" for ::1 at 2015-08-11 21:29:45 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"KO/kLJlh+znDUCPWlpft+ax7+mQHgA0qEV4piXLKpQ6e06e8UrJFC54EtUgbhAk7tNC+PMtOnDEsPc2vvyqhsQ==", "product"=>{"title"=>"ggggg", "description"=>"", "category_list"=>["消耗性電子產品", "3C產品", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
Completed 500 Internal Server Error in 28420ms

RuntimeError (No frames collected.):
  app/models/product.rb:45:in `update_category'
  app/controllers/category_products_controller.rb:51:in `update'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (316.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (69.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (458.0ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x007fac79f8cfa0 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x007fac79f8cbe0 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x007fac7cc11850 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:30:53 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.8ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (249.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (70.3ms)
Completed 200 OK in 4978ms (Views: 1462.1ms | ActiveRecord: 12.2ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-11 21:31:01 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:31:02 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:31:03 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-11 21:31:03 +0800


Started PATCH "/tags/8/products/4" for ::1 at 2015-08-11 21:31:07 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"vxKSJ0PzjRxtyeiSBQoFw0jqi5NyfCvl0KbzChnXXSAJLtG3iCAzLjCdfgyIGeEBUEHPy76yuv7txRcs1DdZnw==", "product"=>{"title"=>"ggggg", "description"=>"", "category_list"=>["消耗性電子產品", "3C產品", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_list
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品') OR LOWER(name) = LOWER('123'))
  [1m[36mActsAsTaggableOn::Tag Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "tags" WHERE "tags"."name" = '123' LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "tags" ("name") VALUES (?)  [["name", "123"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (1.8ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" IN (8, 10)  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 6]]
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 13]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 10]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 11 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 11], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-08-11 13:31:10.821179"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mSQL (1.3ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 11]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.6ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 11[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 14]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 11]]
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (1.2ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品') OR LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-08-11 13:32:05.067477"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (11.3ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.8ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品') OR LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mCACHE (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品') OR LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (1.1ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (309.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (2.2ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (89.5ms)
Completed 200 OK in 76162ms (Views: 2707.2ms | ActiveRecord: 66.4ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:32:36 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.7ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (1.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (234.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (55.4ms)
Completed 200 OK in 2066ms (Views: 2014.5ms | ActiveRecord: 11.2ms)


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:32:41 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.8ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (1.6ms)[0m  [1mSELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  Rendered category_products/edit.html.erb within layouts/application (357.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (48.5ms)
Completed 200 OK in 9002ms (Views: 2067.1ms | ActiveRecord: 6.0ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:34:42 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (1.4ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (37.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (20.3ms)
Completed 200 OK in 705ms (Views: 529.1ms | ActiveRecord: 5.5ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:34:43 +0800


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:34:49 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (1.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mActsAsTaggableOn::Tag Load (1.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (775.4ms)
  [1m[36mCACHE (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (51.3ms)
Completed 200 OK in 7935ms (Views: 2411.8ms | ActiveRecord: 5.1ms)


Started PATCH "/tags/8/products/4" for ::1 at 2015-08-11 21:35:06 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"ENExoF8Bc5CDlw8fQOitFhEPJ9haJ6RVEQg5f58a5Qum7XIwlNLNot7DmYHN+0nUCaRjgJbpNU4sa91ZUvrhtA==", "product"=>{"title"=>"ggggg", "description"=>"", "categorys"=>["8", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.9ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameter: categorys
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (2.9ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.4ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.4ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 9[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 10]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 9]]
  [1m[36m (17.1ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
Completed 500 Internal Server Error in 74681ms

NoMethodError (undefined method `each' for nil:NilClass):
  app/models/product.rb:46:in `update_category'
  app/controllers/category_products_controller.rb:51:in `update'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (270.3ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (64.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (6.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (402.1ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x007fdb613a0130 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x007fdb616abe10 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x007fdb616a8e18 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started PATCH "/tags/8/products/4" for ::1 at 2015-08-11 21:36:50 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MjNgorf9uil04G5qX62kACAPHtR6PsBN9XMlqNMMbGGEDyMyfC4EGym0+PTSvkDCOKRajLbwUVbIEMGOHuxo3g==", "product"=>{"title"=>"ggggg", "description"=>"", "categorys"=>["8", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: categorys
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.0ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 8[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 15]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
Completed 500 Internal Server Error in 188879ms

NoMethodError (undefined method `each' for nil:NilClass):
  app/models/product.rb:46:in `update_category'
  app/controllers/category_products_controller.rb:51:in `update'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (139.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (41.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (241.0ms)
Cannot render console with content type multipart/form-dataAllowed content types: [#<Mime::Type:0x007fdb613a0130 @synonyms=["application/xhtml+xml"], @symbol=:html, @string="text/html">, #<Mime::Type:0x007fdb616abe10 @synonyms=[], @symbol=:text, @string="text/plain">, #<Mime::Type:0x007fdb616a8e18 @synonyms=[], @symbol=:url_encoded_form, @string="application/x-www-form-urlencoded">]


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:40:05 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.9ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (216.7ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (1.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (71.9ms)
Completed 200 OK in 5078ms (Views: 1208.9ms | ActiveRecord: 10.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-11 21:40:12 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:40:12 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-11 21:40:13 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-11 21:40:14 +0800


Started PATCH "/tags/8/products/4" for ::1 at 2015-08-11 21:40:17 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"7EdxbJ4QJPCJ+K/LszxSwRD92UfQf90103Zfd5lsNSdaezL8VcOawtSsOVU+L7YDCFadHxyxTC7uFbtRVIwxmA==", "product"=>{"title"=>"ggggg", "description"=>"", "categorys"=>["8", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.7ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.7ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: categorys
  [1m[35m (1.2ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (1.5ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mTag Exists (1.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35mCACHE (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", "8"]]
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Exists (0.7ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (10.5ms)[0m  [1mINSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-08-11 13:40:52.471858"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35m (6.5ms)[0m  commit transaction
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mTag Exists (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (324.6ms)
  [1m[35mCACHE (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (41.1ms)
Completed 200 OK in 60976ms (Views: 2055.2ms | ActiveRecord: 31.7ms)


Started PATCH "/tags/8/products/4" for ::1 at 2015-08-11 21:41:27 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"TkLmaQDkEEBRQqWKaMkTsjQUFIkH6vOSRSBtzVorZ+H4fqX5yzeucgwWMxTl2vdwLL9Q0cskYol4Q4nrl8tjXg==", "product"=>{"title"=>"ggggg", "description"=>"", "categorys"=>["8", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.6ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameter: categorys
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36mCACHE (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (17.8ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 8  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 16]]
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (1.3ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36mProduct Load (1.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mTag Exists (0.7ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36mTag Load (0.8ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Exists (0.6ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-08-11 13:41:33.068312"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mTag Exists (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (348.7ms)
  [1m[36mCACHE (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (25.6ms)
Completed 200 OK in 8521ms (Views: 2076.6ms | ActiveRecord: 45.6ms)


Started PATCH "/tags/8/products/4" for ::1 at 2015-08-11 21:42:26 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MmMXANIpszHf4IcqQ8FBZv9Eeuv0I6PoH7WLdWiCzTWEX1SQGfoNA4K0EbTO0qWk5+8+szjtMvMi1m9TpWLJig==", "product"=>{"title"=>"ggggg", "description"=>"", "categorys"=>["8", "9", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: categorys
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.4ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 8[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 17]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mTag Exists (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-08-11 13:42:33.627273"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mTag Exists (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 9]]
  [1m[35mTag Load (0.3ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品') OR LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 9 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 9], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-08-11 13:42:33.759794"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 9]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mTag Exists (0.4ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (184.0ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (25.7ms)
Completed 200 OK in 9728ms (Views: 1139.0ms | ActiveRecord: 27.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products"
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mProduct Load (0.3ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35m (0.3ms)[0m  SELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]


Started GET "/tags/8/products" for ::1 at 2015-08-11 21:58:28 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (1.9ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (42.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (20.5ms)
Completed 200 OK in 808ms (Views: 624.8ms | ActiveRecord: 5.9ms)


Started GET "/tags/8/products/4/edit" for ::1 at 2015-08-11 21:58:32 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (1.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35m (0.5ms)[0m  SELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35m (0.6ms)[0m  SELECT "tags"."name" FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered category_products/edit.html.erb within layouts/application (453.2ms)
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (29.4ms)
Completed 200 OK in 11395ms (Views: 1388.7ms | ActiveRecord: 4.3ms)


Started PATCH "/tags/8/products/4" for ::1 at 2015-08-11 21:59:04 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"OJVaeKzjPUSH269yeJl4ZRdRnQqJELIwMvAcvouM1kOOqRnoZzCDdtqPOez1ipynD/rZUkXeIysPk/iYRmzS/A==", "product"=>{"title"=>"ggggg", "description"=>"", "category_ids"=>["8", ""], "categorys"=>[""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"4"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: category_ids, categorys
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mCACHE (0.2ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (1.0ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 8[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 18]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (6.3ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.5ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mTag Exists (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35m (0.6ms)[0m  SELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (202.8ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (15.7ms)
Completed 200 OK in 151527ms (Views: 1161.6ms | ActiveRecord: 17.1ms)


Started GET "/" for ::1 at 2015-08-11 22:02:35 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (40.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (28.5ms)
Completed 200 OK in 577ms (Views: 519.0ms | ActiveRecord: 4.0ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 22:02:36 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (1.7ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (14.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 417ms (Views: 266.5ms | ActiveRecord: 4.0ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 22:02:40 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (6.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 162ms (Views: 156.8ms | ActiveRecord: 1.6ms)


Started GET "/tags/9/products/4/edit" for ::1 at 2015-08-11 22:02:43 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"9", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (1.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35m (0.8ms)[0m  SELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (381.1ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (34.2ms)
Completed 200 OK in 5400ms (Views: 1392.9ms | ActiveRecord: 3.7ms)


Started PATCH "/tags/9/products/4" for ::1 at 2015-08-11 22:02:52 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"blw687E5GKeZuH5GXKN4YcMgKsUdwtCCQ/BoJSK6CGnYYHljeuqmlcTs6NjRsJyj24tundEMQZl+k4wD71oM1g==", "product"=>{"title"=>"ggggg", "description"=>"", "category_ids"=>["8", "9", ""]}, "commit"=>"Submit", "tag_id"=>"9", "id"=>"4"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.6ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_ids
  [1m[35m (2.4ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/tags/9/products
Completed 302 Found in 4242ms (ActiveRecord: 5.4ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 22:02:56 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (1.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (80.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (39.5ms)
Completed 200 OK in 1043ms (Views: 1011.6ms | ActiveRecord: 6.1ms)


Started GET "/tags/9/products/4/edit" for ::1 at 2015-08-11 22:03:00 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"9", "id"=>"4"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35m (0.4ms)[0m  SELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (200.9ms)
  [1m[35mCACHE (0.2ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (1.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (34.9ms)
Completed 200 OK in 7712ms (Views: 1172.5ms | ActiveRecord: 4.2ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 22:03:13 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.5ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (71.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (29.3ms)
Completed 200 OK in 1108ms (Views: 1078.9ms | ActiveRecord: 5.0ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 22:03:28 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.3ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (69.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (33.8ms)
Completed 200 OK in 1059ms (Views: 1033.3ms | ActiveRecord: 4.8ms)


Started GET "/" for ::1 at 2015-08-11 22:05:07 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (36.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (26.3ms)
Completed 200 OK in 550ms (Views: 499.6ms | ActiveRecord: 3.6ms)


Started GET "/products" for ::1 at 2015-08-11 22:05:13 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (17.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.8ms)
Completed 200 OK in 228ms (Views: 215.4ms | ActiveRecord: 2.2ms)


Started GET "/products/4/edit" for ::1 at 2015-08-11 22:05:15 +0800
Processing by UserProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered user_products/edit.html.erb within layouts/application (83.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.5ms)
Completed 200 OK in 222ms (Views: 217.4ms | ActiveRecord: 1.3ms)


Started GET "/products" for ::1 at 2015-08-11 22:05:23 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (15.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 165ms (Views: 160.1ms | ActiveRecord: 2.0ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 22:05:25 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (1.7ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (8.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 236ms (Views: 141.5ms | ActiveRecord: 3.2ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 22:05:35 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (6.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (2.9ms)
Completed 200 OK in 146ms (Views: 140.5ms | ActiveRecord: 1.4ms)


Started GET "/tags/9/products/4/edit" for ::1 at 2015-08-11 22:05:37 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"9", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35m (0.2ms)[0m  SELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (29.4ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 207ms (Views: 203.1ms | ActiveRecord: 1.4ms)


Started PATCH "/tags/9/products/4" for ::1 at 2015-08-11 22:05:40 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"3E2zYKHGkDp0bspOqeejoUms6gwdSnYdVkbKP/ouyhJqcfDwahUuCCk6XNAk9EdjUQeuVNGE5wZrJS4ZN87OrQ==", "product"=>{"title"=>"ggggg", "description"=>"", "category_ids"=>["8", "9", ""]}, "commit"=>"Submit", "tag_id"=>"9", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_ids
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.3ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 9[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 19]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 9]]
  [1m[36m (6.0ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mTag Exists (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-08-11 14:05:40.141692"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mTag Exists (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 9]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品') OR LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 9 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 9], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-08-11 14:05:40.158248"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 9]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mTag Exists (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/tags/9/products
Completed 302 Found in 75ms (ActiveRecord: 14.3ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 22:05:40 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (9.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.1ms)
Completed 200 OK in 187ms (Views: 182.0ms | ActiveRecord: 1.5ms)


Started GET "/tags/8/products" for ::1 at 2015-08-11 22:05:43 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (9.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 152ms (Views: 147.4ms | ActiveRecord: 1.7ms)


Started GET "/tags/9/products" for ::1 at 2015-08-11 22:05:44 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (9.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 171ms (Views: 163.0ms | ActiveRecord: 2.1ms)


Started GET "/" for ::1 at 2015-08-11 22:05:46 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (14.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.4ms)
Completed 200 OK in 180ms (Views: 175.9ms | ActiveRecord: 2.3ms)


Started GET "/tags" for ::1 at 2015-08-11 22:13:53 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CategorysController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered categorys/index.html.erb within layouts/application (5.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (18.4ms)
Completed 200 OK in 785ms (Views: 713.1ms | ActiveRecord: 2.4ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-11 22:13:54 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-11 22:13:55 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to UserProfile (20150821152345)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar DEFAULT '' NOT NULL, "user_id" integer, "image" varchar, "created_at" datetime) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.2ms)[0m  [1mCREATE  INDEX "index_profiles_on_user_id" ON "profiles" ("user_id")[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150821152345"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_profiles_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_profiles_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m


Started GET "/" for ::1 at 2015-08-21 23:59:18 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2015-08-11 13:08:24.582868"], ["current_sign_in_at", "2015-08-21 15:59:18.788428"], ["sign_in_count", 4], ["updated_at", "2015-08-21 15:59:18.790378"], ["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "profiles" ("name", "user_id", "created_at") VALUES (?, ?, ?)[0m  [["name", "blog_admin@takobearnet.com"], ["user_id", 1], ["created_at", "2015-08-21 15:59:18.802882"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (118.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (80.4ms)
Completed 500 Internal Server Error in 1082ms

ActionView::Template::Error (No route matches {:action=>"show", :controller=>"user_profile"} missing required keys: [:id]):
    31:               <%= link_to("登出", destroy_user_session_path, :method => :delete ) %>
    32:             </li>
    33:             <li>
    34:               <%= link_to("編輯Profile", profile_path ) %>
    35:             </li>
    36:             <li>
    37:               <%= link_to("編輯Category", tags_path ) %>
  app/views/common/_navbar.html.erb:34:in `_app_views_common__navbar_html_erb__3921426557636460456_70311233376200'
  app/views/layouts/application.html.erb:12:in `_app_views_layouts_application_html_erb___3221097660951640299_70311212864680'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (79.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (50.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (115.5ms)


Started GET "/" for ::1 at 2015-08-22 00:00:57 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2015-08-21 15:59:18.788428"], ["current_sign_in_at", "2015-08-21 16:00:57.878675"], ["sign_in_count", 5], ["updated_at", "2015-08-21 16:00:57.880286"], ["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "profiles" ("name", "user_id", "created_at") VALUES (?, ?, ?)[0m  [["name", "blog_admin@takobearnet.com"], ["user_id", 1], ["created_at", "2015-08-21 16:00:57.882294"]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (12.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 163ms (Views: 151.8ms | ActiveRecord: 3.7ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 00:00:58 +0800


Started GET "/profiles/1" for ::1 at 2015-08-22 00:01:02 +0800
Processing by UserProfileController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered user_profile/show.html.erb within layouts/application (0.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 162ms (Views: 139.3ms | ActiveRecord: 0.8ms)


Started GET "/profiles/1/edit" for ::1 at 2015-08-22 00:01:07 +0800
Processing by UserProfileController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProfile Load (0.1ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered user_profile/edit.html.erb within layouts/application (277.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 423ms (Views: 420.3ms | ActiveRecord: 0.7ms)


Started PATCH "/profiles/1" for ::1 at 2015-08-22 00:01:19 +0800
Processing by UserProfileController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XwhCY1JlkmPMM4IV0vVxosC3B0kcpdn/TD+zwVNUR1x1qDTqY6oo06RZs4NyfLzhu0trBurejJl5QlJBSoXljA==", "profile"=>{"name"=>"blog_admin@takobearnet.com", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fe5397de940 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150822-3878-1ddy7rz.jpg>, @original_filename="10421378_10202242809029958_2337388105527706665_n.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"profile[image]\"; filename=\"10421378_10202242809029958_2337388105527706665_n.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Submit", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProfile Load (0.1ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mProfile Load (0.2ms)[0m  SELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "profiles" SET "image" = ? WHERE "profiles"."id" = ?[0m  [["image", "10421378_10202242809029958_2337388105527706665_n.jpg"], ["id", 1]]
  [1m[35m (1.0ms)[0m  commit transaction
Redirected to http://localhost:3000/profiles/1
Completed 302 Found in 261ms (ActiveRecord: 1.9ms)


Started GET "/profiles/1" for ::1 at 2015-08-22 00:01:19 +0800
Processing by UserProfileController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProfile Load (0.1ms)[0m  SELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1  [["user_id", 1]]
  Rendered user_profile/show.html.erb within layouts/application (1.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 143ms (Views: 139.8ms | ActiveRecord: 0.7ms)


Started GET "/profiles/1" for ::1 at 2015-08-22 00:03:06 +0800
Processing by UserProfileController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProfile Load (0.1ms)[0m  SELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1  [["user_id", 1]]
  Rendered user_profile/show.html.erb within layouts/application (3.5ms)
Completed 500 Internal Server Error in 11ms

ActionView::Template::Error (Version profile_thumb doesn't exist!):
    3:     <%= link_to("Edit", edit_profile_path(@profile), class: "btn btn-primary pull-right")%>
    4:   </div>
    5:   <h2><%= @profile.name%></h2>
    6:   <h2><%= image_tag @profile.image_url(:profile_thumb).to_s %><h2>
    7: </div>
  app/views/user_profile/show.html.erb:6:in `_app_views_user_profile_show_html_erb___1064903004742690647_70311235466120'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (10.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (65.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (44.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (100.1ms)


Started GET "/profiles/1" for ::1 at 2015-08-22 00:03:53 +0800
Processing by UserProfileController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProfile Load (0.2ms)[0m  SELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1  [["user_id", 1]]
  Rendered user_profile/show.html.erb within layouts/application (0.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (27.6ms)
Completed 200 OK in 200ms (Views: 174.2ms | ActiveRecord: 2.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 00:03:54 +0800


Started GET "/uploads/profile/image/1/profile_thumb_10421378_10202242809029958_2337388105527706665_n.jpg" for ::1 at 2015-08-22 00:03:54 +0800

ActionController::RoutingError (No route matches [GET] "/uploads/profile/image/1/profile_thumb_10421378_10202242809029958_2337388105527706665_n.jpg"):
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (6.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (38.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (161.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (49.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (106.2ms)


Started GET "/profiles/1/edit" for ::1 at 2015-08-22 00:03:59 +0800
Processing by UserProfileController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProfile Load (0.1ms)[0m  SELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1  [["user_id", 1]]
  Rendered user_profile/edit.html.erb within layouts/application (5.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 144ms (Views: 140.6ms | ActiveRecord: 0.7ms)


Started PATCH "/profiles/1" for ::1 at 2015-08-22 00:04:05 +0800
Processing by UserProfileController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XscWw2fIPAEMm0h6S1PiQwau0y3b/51fJgzD9l0G2Kd0Z2BKVgeGsWTxeezr2i8AfVK/Yi2EyDkTcSJ2RNd6dw==", "profile"=>{"name"=>"blog_admin@takobearnet.com", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fe53abd5890 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150822-3878-uuvklv.png>, @original_filename="1341858117_You-Dont-Say-Meme-Rage-Face-Nicolas.png", @content_type="image/png", @headers="Content-Disposition: form-data; name=\"profile[image]\"; filename=\"1341858117_You-Dont-Say-Meme-Rage-Face-Nicolas.png\"\r\nContent-Type: image/png\r\n">}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProfile Load (0.1ms)[0m  SELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1  [["user_id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mProfile Load (0.2ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "profiles" SET "image" = ? WHERE "profiles"."id" = ?  [["image", "1341858117_You-Dont-Say-Meme-Rage-Face-Nicolas.png"], ["id", 1]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/profiles/1
Completed 302 Found in 157ms (ActiveRecord: 1.9ms)


Started GET "/profiles/1" for ::1 at 2015-08-22 00:04:05 +0800
Processing by UserProfileController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProfile Load (0.1ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered user_profile/show.html.erb within layouts/application (0.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.0ms)
Completed 200 OK in 136ms (Views: 132.8ms | ActiveRecord: 0.8ms)


Started GET "/profiles/1/edit" for ::1 at 2015-08-22 00:04:16 +0800
Processing by UserProfileController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProfile Load (0.1ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered user_profile/edit.html.erb within layouts/application (4.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 173ms (Views: 170.9ms | ActiveRecord: 0.7ms)


Started PATCH "/profiles/1" for ::1 at 2015-08-22 00:04:23 +0800
Processing by UserProfileController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"jn/YCkO7ehsAAXrvJ/ttFlPOjVuUjP/stF8RluHKC9+k366DcnTAq2hrS3mHcqBVKDLhFGL3qoqBIvAW+BupDw==", "profile"=>{"name"=>"my name"}, "commit"=>"Submit", "id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProfile Load (0.1ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "profiles" SET "name" = ? WHERE "profiles"."id" = ?  [["name", "my name"], ["id", 1]]
  [1m[36m (5.6ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/profiles/1
Completed 302 Found in 13ms (ActiveRecord: 6.3ms)


Started GET "/profiles/1" for ::1 at 2015-08-22 00:04:23 +0800
Processing by UserProfileController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProfile Load (0.1ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered user_profile/show.html.erb within layouts/application (0.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.7ms)
Completed 200 OK in 153ms (Views: 149.3ms | ActiveRecord: 0.8ms)


Started GET "/" for ::1 at 2015-08-22 00:04:26 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (25.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 194ms (Views: 190.2ms | ActiveRecord: 2.1ms)


Started GET "/tags/8/products" for ::1 at 2015-08-22 00:04:27 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (18.8ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (11.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 330ms (Views: 168.2ms | ActiveRecord: 20.8ms)


Started GET "/" for ::1 at 2015-08-22 00:04:30 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (15.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.2ms)
Completed 200 OK in 168ms (Views: 163.5ms | ActiveRecord: 2.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to UserCollection (20150821160658)
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to UserCollection (20150821160658)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "collections_count" integer DEFAULT 0 NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime, "description" varchar, "image" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "products"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (1, 'Ｍ9', 0, 1, '2015-08-08 12:20:40.838425', '2015-08-08 14:40:52.114260', 'yo', 'images_templerun.jpeg')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (2, 'uuu', 0, 1, '2015-08-08 12:44:05.990224', '2015-08-08 14:28:20.917946', 'yo123456', NULL)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (3, 'fffffff', 0, 1, '2015-08-08 13:07:40.601645', '2015-08-08 14:08:36.398626', 'yo', NULL)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (4, 'ggggg', 0, 1, '2015-08-08 13:07:47.268795', '2015-08-08 13:07:47.268795', '', NULL)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (5, 'fffff', 0, 2, '2015-08-08 13:32:35.352891', '2015-08-08 14:25:10.534355', 'fffff1111', NULL)[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "products"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime, "description" varchar, "image" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (1, 'Ｍ9', 1, '2015-08-08 12:20:40.838425', '2015-08-08 14:40:52.114260', 'yo', 'images_templerun.jpeg')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (2, 'uuu', 1, '2015-08-08 12:44:05.990224', '2015-08-08 14:28:20.917946', 'yo123456', NULL)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (3, 'fffffff', 1, '2015-08-08 13:07:40.601645', '2015-08-08 14:08:36.398626', 'yo', NULL)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (4, 'ggggg', 1, '2015-08-08 13:07:47.268795', '2015-08-08 13:07:47.268795', '', NULL)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (5, 'fffff', 2, '2015-08-08 13:32:35.352891', '2015-08-08 14:25:10.534355', 'fffff1111', NULL)[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "aproducts"
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to UserCollection (20150821160658)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "collections_count" integer DEFAULT 0 NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime, "description" varchar, "image" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "products"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (1, 'Ｍ9', 0, 1, '2015-08-08 12:20:40.838425', '2015-08-08 14:40:52.114260', 'yo', 'images_templerun.jpeg')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (2, 'uuu', 0, 1, '2015-08-08 12:44:05.990224', '2015-08-08 14:28:20.917946', 'yo123456', NULL)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (3, 'fffffff', 0, 1, '2015-08-08 13:07:40.601645', '2015-08-08 14:08:36.398626', 'yo', NULL)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (4, 'ggggg', 0, 1, '2015-08-08 13:07:47.268795', '2015-08-08 13:07:47.268795', '', NULL)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aproducts" ("id","title","collections_count","user_id","created_at","updated_at","description","image") VALUES (5, 'fffff', 0, 2, '2015-08-08 13:32:35.352891', '2015-08-08 14:25:10.534355', 'fffff1111', NULL)[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "products"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime, "description" varchar, "image" varchar) [0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "aproducts"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (1, 'Ｍ9', 1, '2015-08-08 12:20:40.838425', '2015-08-08 14:40:52.114260', 'yo', 'images_templerun.jpeg')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (2, 'uuu', 1, '2015-08-08 12:44:05.990224', '2015-08-08 14:28:20.917946', 'yo123456', NULL)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (3, 'fffffff', 1, '2015-08-08 13:07:40.601645', '2015-08-08 14:08:36.398626', 'yo', NULL)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (4, 'ggggg', 1, '2015-08-08 13:07:47.268795', '2015-08-08 13:07:47.268795', '', NULL)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (5, 'fffff', 2, '2015-08-08 13:32:35.352891', '2015-08-08 14:25:10.534355', 'fffff1111', NULL)[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "aproducts"
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "users" ADD "collections_count" integer DEFAULT 0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "collections" ADD "user_id" integer DEFAULT 0
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20150821160658"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_profiles_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_profiles_on_user_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'

  [1m[36mCollection Load (3.1ms)[0m  [1mSELECT "collections".* FROM "collections"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "collections" ("title", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["title", "djhfkjs"], ["created_at", "2015-08-21 16:32:47.254957"], ["updated_at", "2015-08-21 16:32:47.254957"]]
  [1m[35m (5.7ms)[0m  commit transaction
  [1m[36mCollection Load (0.2ms)[0m  [1mSELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" ASC LIMIT 1[0m
  [1m[35mCollection Load (0.2ms)[0m  SELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" ASC LIMIT 1
  [1m[36mCollection Load (0.3ms)[0m  [1mSELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" ASC LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?  [["collection_id", 1]]


Started GET "/" for ::1 at 2015-08-22 00:45:32 +0800
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (24.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (9.1ms)
Completed 200 OK in 203ms (Views: 171.1ms | ActiveRecord: 3.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 00:45:32 +0800


Started GET "/" for ::1 at 2015-08-22 00:46:31 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (13.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.6ms)
Completed 200 OK in 158ms (Views: 154.3ms | ActiveRecord: 1.9ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 00:46:31 +0800


Started GET "/collections.1" for ::1 at 2015-08-22 00:46:34 +0800
Processing by UserCollectionsController#index as 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.2ms)[0m  SELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1
  Rendered user_collections/index.html.erb within layouts/application (2.9ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.5ms)
Completed 200 OK in 179ms (Views: 166.7ms | ActiveRecord: 1.0ms)


Started GET "/collections/new" for ::1 at 2015-08-22 00:46:36 +0800
Processing by UserCollectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered user_collections/new.html.erb within layouts/application (5.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.7ms)
Completed 200 OK in 171ms (Views: 165.4ms | ActiveRecord: 0.8ms)


Started POST "/collections" for ::1 at 2015-08-22 00:46:40 +0800
Processing by UserCollectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"MkwLef07xmU4zzH5qbyEfk+oOmbE2jKaGEFCzQBDsoEY7H3wzPR81VClAG8JNUk9NFRWKTKhZ/wtPKNNGZIQUQ==", "collection"=>{"title"=>"yaya"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "collections" ("title", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["title", "yaya"], ["created_at", "2015-08-21 16:46:40.074216"], ["updated_at", "2015-08-21 16:46:40.074216"]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://localhost:3000/collections
Completed 302 Found in 13ms (ActiveRecord: 6.3ms)


Started GET "/collections" for ::1 at 2015-08-22 00:46:40 +0800
Processing by UserCollectionsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.2ms)[0m  SELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1
  Rendered user_collections/index.html.erb within layouts/application (1.7ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 149ms (Views: 145.9ms | ActiveRecord: 0.8ms)


Started GET "/collections/new" for ::1 at 2015-08-22 00:46:43 +0800
Processing by UserCollectionsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered user_collections/new.html.erb within layouts/application (4.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 155ms (Views: 152.9ms | ActiveRecord: 0.6ms)


Started POST "/collections" for ::1 at 2015-08-22 00:46:47 +0800
Processing by UserCollectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"XiV1dZxILrnvRhH4iJX4rFgtTyeD2im4UZimtI40i2N0hQP8rYeUCYcsIG4oHDXvI9EjaHWhfN5k5Uc0l+Upsw==", "collection"=>{"title"=>"BB"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "collections" ("title", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["title", "BB"], ["created_at", "2015-08-21 16:46:47.418530"], ["updated_at", "2015-08-21 16:46:47.418530"]]
  [1m[35m (5.6ms)[0m  commit transaction
Redirected to http://localhost:3000/collections
Completed 302 Found in 12ms (ActiveRecord: 6.3ms)


Started GET "/collections" for ::1 at 2015-08-22 00:46:47 +0800
Processing by UserCollectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.2ms)[0m  SELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1
  Rendered user_collections/index.html.erb within layouts/application (1.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 147ms (Views: 143.9ms | ActiveRecord: 0.8ms)


Started GET "/collections/new" for ::1 at 2015-08-22 00:47:11 +0800
Processing by UserCollectionsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered user_collections/new.html.erb within layouts/application (5.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (21.9ms)
Completed 200 OK in 197ms (Views: 171.4ms | ActiveRecord: 2.3ms)


Started POST "/collections" for ::1 at 2015-08-22 00:47:13 +0800
Processing by UserCollectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"O4J//2f5mY2JX/fvn7LQ6l55CZTZ1dZeG1MmCApSRrcRIgl2VjYjPeE1xnk/Ox2pJYVl2y+ugzguLseIE4PkZw==", "collection"=>{"title"=>"ffff"}, "commit"=>"Submit"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "collections" ("title", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["title", "ffff"], ["created_at", "2015-08-21 16:47:54.991634"], ["updated_at", "2015-08-21 16:47:54.991634"]]
  [1m[35m (2.4ms)[0m  commit transaction
Redirected to http://localhost:3000/collections
Completed 302 Found in 46826ms (ActiveRecord: 5.3ms)


Started GET "/collections" for ::1 at 2015-08-22 00:48:00 +0800
Processing by UserCollectionsController#index as HTML
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.7ms)[0m  SELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1
  Rendered user_collections/index.html.erb within layouts/application (6.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (37.2ms)
Completed 200 OK in 1063ms (Views: 1036.6ms | ActiveRecord: 2.8ms)


Started GET "/collections" for ::1 at 2015-08-22 00:49:14 +0800
Processing by UserCollectionsController#index as HTML
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.7ms)[0m  SELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1
  Rendered user_collections/index.html.erb within layouts/application (12.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (1.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (245.6ms)
Completed 200 OK in 2043ms (Views: 1872.7ms | ActiveRecord: 12.6ms)


Started GET "/collections/new" for ::1 at 2015-08-22 00:49:19 +0800
Processing by UserCollectionsController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered user_collections/new.html.erb within layouts/application (115.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (1.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (73.0ms)
Completed 200 OK in 2551ms (Views: 2489.9ms | ActiveRecord: 4.2ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:49:22 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:49:22 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:49:22 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:49:22 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 00:49:22 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 00:49:23 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 00:49:24 +0800


Started GET "/collections/new" for ::1 at 2015-08-22 00:49:27 +0800
Processing by UserCollectionsController#new as HTML
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered user_collections/new.html.erb within layouts/application (96.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (56.8ms)
Completed 200 OK in 2141ms (Views: 2117.0ms | ActiveRecord: 2.7ms)


Started POST "/collections" for ::1 at 2015-08-22 00:49:33 +0800
Processing by UserCollectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"xJIwb31t+p78+vlOieQsTHNF0aViwir2tD5kiIkPyz7uMkbmTKJALpSQyNgpbeEPCLm96pS5f5CBQ4UIkN5p7g==", "collection"=>{"title"=>"uuuu"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "collections" ("title", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "uuuu"], ["user_id", nil], ["created_at", "2015-08-21 16:49:33.857262"], ["updated_at", "2015-08-21 16:49:33.857262"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/collections
Completed 302 Found in 124ms (ActiveRecord: 5.6ms)


Started GET "/collections" for ::1 at 2015-08-22 00:49:33 +0800
Processing by UserCollectionsController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (1.0ms)[0m  [1mSELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1[0m
  Rendered user_collections/index.html.erb within layouts/application (22.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (57.9ms)
Completed 200 OK in 2047ms (Views: 2020.9ms | ActiveRecord: 4.0ms)
  [1m[36mCollection Load (2.5ms)[0m  [1mSELECT "collections".* FROM "collections"[0m


Started GET "/collections/new" for ::1 at 2015-08-22 00:50:57 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserCollectionsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered user_collections/new.html.erb within layouts/application (44.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (78.4ms)
Completed 200 OK in 562ms (Views: 515.4ms | ActiveRecord: 2.9ms)


Started POST "/collections" for ::1 at 2015-08-22 00:51:01 +0800
Processing by UserCollectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"BM/Vp6De1AClkN+cv/t3hQfEnWBKbtAcjNS3I/XgUM8ub6MukRFusM367gofcrrGfDjxL7wVhXq5qVaj7DHyHw==", "collection"=>{"title"=>"iiii"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (6.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "collections" ("title", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "iiii"], ["user_id", nil], ["created_at", "2015-08-21 16:51:17.440867"], ["updated_at", "2015-08-21 16:51:17.440867"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/collections
Completed 302 Found in 15625ms (ActiveRecord: 10.8ms)


Started GET "/collections" for ::1 at 2015-08-22 00:51:17 +0800
Processing by UserCollectionsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.6ms)[0m  [1mSELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1[0m
  Rendered user_collections/index.html.erb within layouts/application (8.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (28.3ms)
Completed 200 OK in 1004ms (Views: 986.1ms | ActiveRecord: 2.2ms)


Started GET "/collections" for ::1 at 2015-08-22 00:51:46 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserCollectionsController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.2ms)[0m  [1mSELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1[0m
  Rendered user_collections/index.html.erb within layouts/application (2.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (65.6ms)
Completed 200 OK in 554ms (Views: 510.9ms | ActiveRecord: 2.7ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:51:47 +0800


Started GET "/collections/new" for ::1 at 2015-08-22 00:51:48 +0800
Processing by UserCollectionsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered user_collections/new.html.erb within layouts/application (86.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (5.7ms)
Completed 200 OK in 231ms (Views: 223.5ms | ActiveRecord: 0.8ms)


Started POST "/collections" for ::1 at 2015-08-22 00:51:50 +0800
Processing by UserCollectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"w9RRDuOScrwgL2x4Hm9Q1MJ+HYK0C0OMnj6rEyzSdpbpdCeH0l3IDEhFXe6+5p2XuYJxzUJwFuqrQ0qTNQPURg==", "collection"=>{"title"=>"yyyyy"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (1.0ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (1.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  INSERT INTO "collections" ("title", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "yyyyy"], ["user_id", 1], ["created_at", "2015-08-21 16:52:18.655990"], ["updated_at", "2015-08-21 16:52:18.655990"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/collections
Completed 302 Found in 27779ms (ActiveRecord: 10.8ms)


Started GET "/collections" for ::1 at 2015-08-22 00:52:18 +0800
Processing by UserCollectionsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (1.9ms)[0m  [1mSELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1[0m
  Rendered user_collections/index.html.erb within layouts/application (27.9ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (54.1ms)
Completed 200 OK in 1789ms (Views: 1758.2ms | ActiveRecord: 4.1ms)


Started GET "/collections/7/edit" for ::1 at 2015-08-22 00:52:35 +0800
Processing by UserCollectionsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.9ms)[0m  [1mSELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1[0m  [["id", 7]]
  Rendered user_collections/edit.html.erb within layouts/application (95.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (1.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (251.2ms)
Completed 200 OK in 2311ms (Views: 2071.5ms | ActiveRecord: 15.5ms)


Started PATCH "/collections/7" for ::1 at 2015-08-22 00:52:45 +0800
Processing by UserCollectionsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LvodBIa61zVtwBB+XxIp/RusJuwe1r7io7szNtWIZPwEWmuNt3VthQWqIej/m+S+YFBKo+it64SWxtK2zFnGLA==", "collection"=>{"title"=>"yyyyy"}, "commit"=>"Submit", "id"=>"7"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.5ms)[0m  [1mSELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  commit transaction
Redirected to http://localhost:3000/collections
Completed 302 Found in 7517ms (ActiveRecord: 2.0ms)


Started GET "/collections" for ::1 at 2015-08-22 00:52:53 +0800
Processing by UserCollectionsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.5ms)[0m  SELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1
  Rendered user_collections/index.html.erb within layouts/application (8.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (36.8ms)
Completed 200 OK in 987ms (Views: 960.0ms | ActiveRecord: 2.3ms)


Started DELETE "/collections/7" for ::1 at 2015-08-22 00:53:11 +0800
Processing by UserCollectionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"sl0LLIj4sY/UEIpdWx6b5V2LLwox1CdXYswGz9ujzn+Y/X2luTcLP7x6u8v7l1amJndDRcevcjFXsedPwnJsrw==", "id"=>"7"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.6ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mCollectionItem Load (0.5ms)[0m  [1mSELECT "collection_items".* FROM "collection_items" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 7]]
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "collections" WHERE "collections"."id" = ?  [["id", 7]]
  [1m[36m (6.1ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/collections
Completed 302 Found in 337ms (ActiveRecord: 17.4ms)


Started GET "/collections" for ::1 at 2015-08-22 00:53:13 +0800
Processing by UserCollectionsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (1.5ms)[0m  [1mSELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1[0m
  Rendered user_collections/index.html.erb within layouts/application (11.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (31.6ms)
Completed 200 OK in 1061ms (Views: 1046.0ms | ActiveRecord: 4.2ms)


Started GET "/collections/new" for ::1 at 2015-08-22 00:53:16 +0800
Processing by UserCollectionsController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered user_collections/new.html.erb within layouts/application (43.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (25.9ms)
Completed 200 OK in 1057ms (Views: 1031.3ms | ActiveRecord: 2.0ms)


Started POST "/collections" for ::1 at 2015-08-22 00:53:23 +0800
Processing by UserCollectionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"LK/vseHXtmJg2tizo44BM9HIMTTZM8mZEt8ru9tNxfsGD5k40BgM0giw6SUDB8xwqjRdey9InP8noso7wpxnKw==", "collection"=>{"title"=>"jjjjj"}, "commit"=>"Submit"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "collections" ("title", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "jjjjj"], ["user_id", 1], ["created_at", "2015-08-21 16:53:23.784182"], ["updated_at", "2015-08-21 16:53:23.784182"]]
  [1m[36m (5.9ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/collections
Completed 302 Found in 57ms (ActiveRecord: 7.8ms)


Started GET "/collections" for ::1 at 2015-08-22 00:53:23 +0800
Processing by UserCollectionsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.5ms)[0m  [1mSELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1[0m
  Rendered user_collections/index.html.erb within layouts/application (9.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.8ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (24.0ms)
Completed 200 OK in 978ms (Views: 963.8ms | ActiveRecord: 2.1ms)


Started GET "/collections/8" for ::1 at 2015-08-22 00:53:29 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered user_collections/show.html.erb within layouts/application (14.0ms)
Completed 500 Internal Server Error in 34ms

ActionView::Template::Error (No route matches {:action=>"edit", :controller=>"user_collections", :id=>nil} missing required keys: [:id]):
    1: <div class="col-md-12">
    2:   <div class="group">
    3:     <%= link_to("Edit", edit_collection_path(@collection), class: "btn btn-primary pull-right")%>
    4:     <%= link_to("Back", collections_path , class: "btn btn-primary pull-right")%>
    5:   </div>
    6:   <h2><%= @collection.title%></h2>
  app/views/user_collections/show.html.erb:3:in `_app_views_user_collections_show_html_erb___3626502452836971298_70184236761500'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (213.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (45.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (323.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (65.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.1ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (147.2ms)


Started GET "/collections/8" for ::1 at 2015-08-22 00:53:31 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered user_collections/show.html.erb within layouts/application (12.6ms)
Completed 500 Internal Server Error in 35ms

ActionView::Template::Error (No route matches {:action=>"edit", :controller=>"user_collections", :id=>nil} missing required keys: [:id]):
    1: <div class="col-md-12">
    2:   <div class="group">
    3:     <%= link_to("Edit", edit_collection_path(@collection), class: "btn btn-primary pull-right")%>
    4:     <%= link_to("Back", collections_path , class: "btn btn-primary pull-right")%>
    5:   </div>
    6:   <h2><%= @collection.title%></h2>
  app/views/user_collections/show.html.erb:3:in `_app_views_user_collections_show_html_erb___3626502452836971298_70184181814820'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (199.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (53.7ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.2ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (319.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (80.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (159.1ms)


Started GET "/collections/8" for ::1 at 2015-08-22 00:54:11 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered user_collections/show.html.erb within layouts/application (10.2ms)
Completed 500 Internal Server Error in 28ms

ActionView::Template::Error (undefined method `title' for nil:NilClass):
    2:   <div class="group">
    3:     <%= link_to("Back", collections_path , class: "btn btn-primary pull-right")%>
    4:   </div>
    5:   <h2><%= @collection.title%></h2>
    6:   <table class="table table-hover">
    7:     <thead>
    8:     <tr>
  app/views/user_collections/show.html.erb:5:in `_app_views_user_collections_show_html_erb___3626502452836971298_70184172914860'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_source.erb (212.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (60.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (3.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (335.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (64.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (1.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (139.1ms)


Started GET "/collections/8" for ::1 at 2015-08-22 00:55:09 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.6ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.6ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 8]]
  Rendered user_collections/show.html.erb within layouts/application (149.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.1ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.8ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (63.2ms)
Completed 200 OK in 1437ms (Views: 1280.3ms | ActiveRecord: 11.5ms)


Started GET "/collections/8" for ::1 at 2015-08-22 00:55:46 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.4ms)[0m  [1mSELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.4ms)[0m  SELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?  [["collection_id", 8]]
  Rendered user_collections/show.html.erb within layouts/application (14.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (41.6ms)
Completed 200 OK in 1003ms (Views: 986.5ms | ActiveRecord: 2.3ms)


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 00:55:48 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:55:49 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 00:55:50 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 00:55:50 +0800


Started GET "/tags/8/products" for ::1 at 2015-08-22 00:55:56 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (1.0ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (1.3ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (320.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (64.1ms)
Completed 200 OK in 2531ms (Views: 2333.0ms | ActiveRecord: 12.7ms)


Started GET "/tags/8/products" for ::1 at 2015-08-22 01:09:45 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.5ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.7ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (169.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (66.9ms)
Completed 200 OK in 1480ms (Views: 1248.0ms | ActiveRecord: 13.1ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:09:49 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 01:09:49 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:09:49 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:09:49 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 01:09:50 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 01:09:51 +0800


Started GET "/tags/8/products" for ::1 at 2015-08-22 01:10:40 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.4ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.6ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.9ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (116.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (22.1ms)
Completed 200 OK in 1174ms (Views: 1145.0ms | ActiveRecord: 6.8ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 01:10:42 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:10:43 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:10:44 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:10:44 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:10:44 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 01:10:44 +0800


Started GET "/profiles/1" for ::1 at 2015-08-22 01:10:50 +0800
Processing by UserProfileController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mProfile Load (1.0ms)[0m  SELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1  [["user_id", 1]]
  Rendered user_profile/show.html.erb within layouts/application (10.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (56.1ms)
Completed 200 OK in 2112ms (Views: 1999.5ms | ActiveRecord: 5.4ms)


Started GET "/collections.1" for ::1 at 2015-08-22 01:10:55 +0800
Processing by UserCollectionsController#index as 
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.9ms)[0m  SELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1
  Rendered user_collections/index.html.erb within layouts/application (68.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.1ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (66.2ms)
Completed 200 OK in 2130ms (Views: 2061.8ms | ActiveRecord: 5.6ms)


Started GET "/collections/8/edit" for ::1 at 2015-08-22 01:11:00 +0800
Processing by UserCollectionsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (1.0ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 8]]
  Rendered user_collections/edit.html.erb within layouts/application (105.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (1.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (57.7ms)
Completed 200 OK in 2167ms (Views: 2131.1ms | ActiveRecord: 3.5ms)


Started GET "/collections/8" for ::1 at 2015-08-22 01:11:05 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (1.0ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (1.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 8]]
  Rendered user_collections/show.html.erb within layouts/application (124.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (1.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.7ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (74.8ms)
Completed 200 OK in 2173ms (Views: 2117.7ms | ActiveRecord: 6.0ms)
  [1m[36mCollection Load (0.2ms)[0m  [1mSELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1[0m
  [1m[35mCollection Load (0.2ms)[0m  SELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1
  [1m[36mCollection Load (0.2ms)[0m  [1mSELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?  [["collection_id", 8]]
  [1m[36mCollection Load (0.2ms)[0m  [1mSELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "products" ("title", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["title", "yyyy"], ["created_at", "2015-08-21 17:13:31.861597"], ["updated_at", "2015-08-21 17:13:31.861597"]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "collection_items" ("collection_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["collection_id", 8], ["product_id", 6], ["created_at", "2015-08-21 17:13:31.880756"], ["updated_at", "2015-08-21 17:13:31.880756"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "collections" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "collections"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (1.4ms)[0m  UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?  [["id", 6]]
SQLite3::SQLException: no such column: collections_count: UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35mCollection Load (0.2ms)[0m  SELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 8]]
  [1m[35mCollection Load (0.2ms)[0m  SELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "products" ("title", "created_at", "updated_at") VALUES (?, ?, ?)  [["title", "yyyy"], ["created_at", "2015-08-21 17:14:16.288698"], ["updated_at", "2015-08-21 17:14:16.288698"]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "collection_items" ("collection_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["collection_id", 8], ["product_id", 6], ["created_at", "2015-08-21 17:14:16.292643"], ["updated_at", "2015-08-21 17:14:16.292643"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "collections" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "collections"."id" = ?  [["id", 8]]
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?[0m  [["id", 6]]
SQLite3::SQLException: no such column: collections_count: UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35mCollection Load (0.3ms)[0m  SELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "products" ("title", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["title", "yyyy"], ["user_id", 1], ["created_at", "2015-08-21 17:14:34.195502"], ["updated_at", "2015-08-21 17:14:34.195502"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "collection_items" ("collection_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["collection_id", 8], ["product_id", 6], ["created_at", "2015-08-21 17:14:34.204865"], ["updated_at", "2015-08-21 17:14:34.204865"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "collections" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "collections"."id" = ?  [["id", 8]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?[0m  [["id", 6]]
SQLite3::SQLException: no such column: collections_count: UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mCollection Load (0.2ms)[0m  [1mSELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "products" ("title", "user_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["title", "yyyy"], ["user_id", 1], ["created_at", "2015-08-21 17:15:02.021061"], ["updated_at", "2015-08-21 17:15:02.021061"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "users"."id" = ?[0m  [["id", 1]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "collection_items" ("collection_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["collection_id", 8], ["product_id", 6], ["created_at", "2015-08-21 17:15:02.032533"], ["updated_at", "2015-08-21 17:15:02.032533"]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "collections" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "collections"."id" = ?[0m  [["id", 8]]
  [1m[35mSQL (1.6ms)[0m  UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?  [["id", 6]]
SQLite3::SQLException: no such column: collections_count: UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35mCollection Load (0.2ms)[0m  SELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products"  ORDER BY "products"."id" DESC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "collection_items" ("collection_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["collection_id", 8], ["product_id", 5], ["created_at", "2015-08-21 17:16:17.483598"], ["updated_at", "2015-08-21 17:16:17.483598"]]
  [1m[35mCollection Load (0.2ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "collections" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "collections"."id" = ?[0m  [["id", 8]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?[0m  [["id", 5]]
SQLite3::SQLException: no such column: collections_count: UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to UserCollection (20150821160658)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to UserCollection (20150821160658)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TEMPORARY TABLE "acollections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "products_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer DEFAULT 0) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "collections"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (1, 'djhfkjs', 0, '2015-08-21 16:32:47.254957', '2015-08-21 16:32:47.254957', 0)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (2, 'yaya', 0, '2015-08-21 16:46:40.074216', '2015-08-21 16:46:40.074216', 0)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (3, 'BB', 0, '2015-08-21 16:46:47.418530', '2015-08-21 16:46:47.418530', 0)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (4, 'ffff', 0, '2015-08-21 16:47:54.991634', '2015-08-21 16:47:54.991634', 0)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (5, 'uuuu', 0, '2015-08-21 16:49:33.857262', '2015-08-21 16:49:33.857262', NULL)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (6, 'iiii', 0, '2015-08-21 16:51:17.440867', '2015-08-21 16:51:17.440867', NULL)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (8, 'jjjjj', 0, '2015-08-21 16:53:23.784182', '2015-08-21 16:53:23.784182', 1)
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "collections"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "products_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "acollections"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (1, 'djhfkjs', 0, '2015-08-21 16:32:47.254957', '2015-08-21 16:32:47.254957')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (2, 'yaya', 0, '2015-08-21 16:46:40.074216', '2015-08-21 16:46:40.074216')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (3, 'BB', 0, '2015-08-21 16:46:47.418530', '2015-08-21 16:46:47.418530')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (4, 'ffff', 0, '2015-08-21 16:47:54.991634', '2015-08-21 16:47:54.991634')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (5, 'uuuu', 0, '2015-08-21 16:49:33.857262', '2015-08-21 16:49:33.857262')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (6, 'iiii', 0, '2015-08-21 16:51:17.440867', '2015-08-21 16:51:17.440867')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (8, 'jjjjj', 0, '2015-08-21 16:53:23.784182', '2015-08-21 16:53:23.784182')
  [1m[36m (0.4ms)[0m  [1mDROP TABLE "acollections"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "ausers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "products_count" integer DEFAULT 0, "role_id" integer DEFAULT 0, "collections_count" integer DEFAULT 0) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.0ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id","collections_count") VALUES (1, 'blog_admin@takobearnet.com', '$2a$10$/ycgqNgAuaE/qIGlHUY3DuJrmplDe3RWRx61vCTuNCmLyj3Ekb4.W', NULL, NULL, '2015-08-11 13:08:24.538533', 5, '2015-08-21 16:00:57.878675', '2015-08-21 15:59:18.788428', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 12:00:16.372373', '2015-08-21 16:00:57.880286', 4, 1, 0)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id","collections_count") VALUES (2, 'orange7886ro@hotmail.com', '$2a$10$0XXbPHTbz0dQtp.BEuwQbec0V9SG0MdW93TXJe7A3lcUYk3DrMfDW', NULL, NULL, NULL, 1, '2015-08-08 13:10:52.599778', '2015-08-08 13:10:52.599778', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 13:10:52.588926', '2015-08-08 13:10:52.601366', 1, 3, 0)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id","collections_count") VALUES (3, '123@gg.com', '$2a$10$IABMJAp4CRtAMt4LUHE/m.kVzvgCDbWi8JpEqwFSpUOSa3USGSEf.', NULL, NULL, NULL, 1, '2015-08-08 14:46:21.641127', '2015-08-08 14:46:21.641127', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 14:46:21.584754', '2015-08-08 14:46:21.667733', 0, 3, 0)[0m
  [1m[35m (0.8ms)[0m  DROP TABLE "users"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "products_count" integer DEFAULT 0, "role_id" integer DEFAULT 0) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_ausers_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_ausers_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_ausers_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_ausers_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "ausers"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id") VALUES (1, 'blog_admin@takobearnet.com', '$2a$10$/ycgqNgAuaE/qIGlHUY3DuJrmplDe3RWRx61vCTuNCmLyj3Ekb4.W', NULL, NULL, '2015-08-11 13:08:24.538533', 5, '2015-08-21 16:00:57.878675', '2015-08-21 15:59:18.788428', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 12:00:16.372373', '2015-08-21 16:00:57.880286', 4, 1)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id") VALUES (2, 'orange7886ro@hotmail.com', '$2a$10$0XXbPHTbz0dQtp.BEuwQbec0V9SG0MdW93TXJe7A3lcUYk3DrMfDW', NULL, NULL, NULL, 1, '2015-08-08 13:10:52.599778', '2015-08-08 13:10:52.599778', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 13:10:52.588926', '2015-08-08 13:10:52.601366', 1, 3)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id") VALUES (3, '123@gg.com', '$2a$10$IABMJAp4CRtAMt4LUHE/m.kVzvgCDbWi8JpEqwFSpUOSa3USGSEf.', NULL, NULL, NULL, 1, '2015-08-08 14:46:21.641127', '2015-08-08 14:46:21.641127', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 14:46:21.584754', '2015-08-08 14:46:21.667733', 0, 3)
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "ausers"[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20150821160658"]]
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_profiles_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_profiles_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.3ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to UserCollection (20150821160658)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "users" ADD "collections_count" integer DEFAULT 0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "collections" ADD "user_id" integer DEFAULT 0
  [1m[36m (0.1ms)[0m  [1mALTER TABLE "products" ADD "products_count" integer DEFAULT 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150821160658"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_profiles_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_profiles_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to UserCollection (20150821160658)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  CREATE TEMPORARY TABLE "aproducts" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime, "description" varchar, "image" varchar, "products_count" integer DEFAULT 0) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "products"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aproducts" ("id","title","user_id","created_at","updated_at","description","image","products_count") VALUES (1, 'Ｍ9', 1, '2015-08-08 12:20:40.838425', '2015-08-08 14:40:52.114260', 'yo', 'images_templerun.jpeg', 0)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aproducts" ("id","title","user_id","created_at","updated_at","description","image","products_count") VALUES (2, 'uuu', 1, '2015-08-08 12:44:05.990224', '2015-08-08 14:28:20.917946', 'yo123456', NULL, 0)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "aproducts" ("id","title","user_id","created_at","updated_at","description","image","products_count") VALUES (3, 'fffffff', 1, '2015-08-08 13:07:40.601645', '2015-08-08 14:08:36.398626', 'yo', NULL, 0)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "aproducts" ("id","title","user_id","created_at","updated_at","description","image","products_count") VALUES (4, 'ggggg', 1, '2015-08-08 13:07:47.268795', '2015-08-08 13:07:47.268795', '', NULL, 0)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "aproducts" ("id","title","user_id","created_at","updated_at","description","image","products_count") VALUES (5, 'fffff', 2, '2015-08-08 13:32:35.352891', '2015-08-08 14:25:10.534355', 'fffff1111', NULL, 0)
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "products"[0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "user_id" integer, "created_at" datetime, "updated_at" datetime, "description" varchar, "image" varchar) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "aproducts"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (1, 'Ｍ9', 1, '2015-08-08 12:20:40.838425', '2015-08-08 14:40:52.114260', 'yo', 'images_templerun.jpeg')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (2, 'uuu', 1, '2015-08-08 12:44:05.990224', '2015-08-08 14:28:20.917946', 'yo123456', NULL)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (3, 'fffffff', 1, '2015-08-08 13:07:40.601645', '2015-08-08 14:08:36.398626', 'yo', NULL)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (4, 'ggggg', 1, '2015-08-08 13:07:47.268795', '2015-08-08 13:07:47.268795', '', NULL)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "products" ("id","title","user_id","created_at","updated_at","description","image") VALUES (5, 'fffff', 2, '2015-08-08 13:32:35.352891', '2015-08-08 14:25:10.534355', 'fffff1111', NULL)
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "aproducts"[0m
  [1m[35m (0.1ms)[0m  CREATE TEMPORARY TABLE "acollections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "products_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime, "user_id" integer DEFAULT 0) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "collections"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (1, 'djhfkjs', 0, '2015-08-21 16:32:47.254957', '2015-08-21 16:32:47.254957', 0)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (2, 'yaya', 0, '2015-08-21 16:46:40.074216', '2015-08-21 16:46:40.074216', 0)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (3, 'BB', 0, '2015-08-21 16:46:47.418530', '2015-08-21 16:46:47.418530', 0)
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (4, 'ffff', 0, '2015-08-21 16:47:54.991634', '2015-08-21 16:47:54.991634', 0)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (5, 'uuuu', 0, '2015-08-21 16:49:33.857262', '2015-08-21 16:49:33.857262', 0)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (6, 'iiii', 0, '2015-08-21 16:51:17.440867', '2015-08-21 16:51:17.440867', 0)[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "acollections" ("id","title","products_count","created_at","updated_at","user_id") VALUES (8, 'jjjjj', 0, '2015-08-21 16:53:23.784182', '2015-08-21 16:53:23.784182', 0)
  [1m[36m (0.3ms)[0m  [1mDROP TABLE "collections"[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "collections" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar DEFAULT '' NOT NULL, "products_count" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "acollections"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (1, 'djhfkjs', 0, '2015-08-21 16:32:47.254957', '2015-08-21 16:32:47.254957')
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (2, 'yaya', 0, '2015-08-21 16:46:40.074216', '2015-08-21 16:46:40.074216')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (3, 'BB', 0, '2015-08-21 16:46:47.418530', '2015-08-21 16:46:47.418530')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (4, 'ffff', 0, '2015-08-21 16:47:54.991634', '2015-08-21 16:47:54.991634')[0m
  [1m[35m (0.0ms)[0m  INSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (5, 'uuuu', 0, '2015-08-21 16:49:33.857262', '2015-08-21 16:49:33.857262')
  [1m[36m (0.0ms)[0m  [1mINSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (6, 'iiii', 0, '2015-08-21 16:51:17.440867', '2015-08-21 16:51:17.440867')[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "collections" ("id","title","products_count","created_at","updated_at") VALUES (8, 'jjjjj', 0, '2015-08-21 16:53:23.784182', '2015-08-21 16:53:23.784182')
  [1m[36m (0.1ms)[0m  [1mDROP TABLE "acollections"[0m
  [1m[35m (0.2ms)[0m  CREATE TEMPORARY TABLE "ausers" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "products_count" integer DEFAULT 0, "role_id" integer DEFAULT 0, "collections_count" integer DEFAULT 0) 
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "tindex_ausers_on_reset_password_token" ON "ausers" ("reset_password_token")
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX "tindex_ausers_on_email" ON "ausers" ("email")[0m
  [1m[35m (0.1ms)[0m  SELECT * FROM "users"
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id","collections_count") VALUES (1, 'blog_admin@takobearnet.com', '$2a$10$/ycgqNgAuaE/qIGlHUY3DuJrmplDe3RWRx61vCTuNCmLyj3Ekb4.W', NULL, NULL, '2015-08-11 13:08:24.538533', 5, '2015-08-21 16:00:57.878675', '2015-08-21 15:59:18.788428', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 12:00:16.372373', '2015-08-21 16:00:57.880286', 4, 1, 0)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id","collections_count") VALUES (2, 'orange7886ro@hotmail.com', '$2a$10$0XXbPHTbz0dQtp.BEuwQbec0V9SG0MdW93TXJe7A3lcUYk3DrMfDW', NULL, NULL, NULL, 1, '2015-08-08 13:10:52.599778', '2015-08-08 13:10:52.599778', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 13:10:52.588926', '2015-08-08 13:10:52.601366', 1, 3, 0)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "ausers" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id","collections_count") VALUES (3, '123@gg.com', '$2a$10$IABMJAp4CRtAMt4LUHE/m.kVzvgCDbWi8JpEqwFSpUOSa3USGSEf.', NULL, NULL, NULL, 1, '2015-08-08 14:46:21.641127', '2015-08-08 14:46:21.641127', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 14:46:21.584754', '2015-08-08 14:46:21.667733', 0, 3, 0)[0m
  [1m[35m (0.3ms)[0m  DROP TABLE "users"
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime, "remember_created_at" datetime, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" datetime, "last_sign_in_at" datetime, "current_sign_in_ip" varchar, "last_sign_in_ip" varchar, "confirmation_token" varchar, "confirmed_at" datetime, "confirmation_sent_at" datetime, "unconfirmed_email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "products_count" integer DEFAULT 0, "role_id" integer DEFAULT 0) [0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='tindex_ausers_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_ausers_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='tindex_ausers_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='tindex_ausers_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'
[0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")
  [1m[36m (0.1ms)[0m  [1mSELECT * FROM "ausers"[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id") VALUES (1, 'blog_admin@takobearnet.com', '$2a$10$/ycgqNgAuaE/qIGlHUY3DuJrmplDe3RWRx61vCTuNCmLyj3Ekb4.W', NULL, NULL, '2015-08-11 13:08:24.538533', 5, '2015-08-21 16:00:57.878675', '2015-08-21 15:59:18.788428', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 12:00:16.372373', '2015-08-21 16:00:57.880286', 4, 1)
  [1m[36m (0.1ms)[0m  [1mINSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id") VALUES (2, 'orange7886ro@hotmail.com', '$2a$10$0XXbPHTbz0dQtp.BEuwQbec0V9SG0MdW93TXJe7A3lcUYk3DrMfDW', NULL, NULL, NULL, 1, '2015-08-08 13:10:52.599778', '2015-08-08 13:10:52.599778', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 13:10:52.588926', '2015-08-08 13:10:52.601366', 1, 3)[0m
  [1m[35m (0.1ms)[0m  INSERT INTO "users" ("id","email","encrypted_password","reset_password_token","reset_password_sent_at","remember_created_at","sign_in_count","current_sign_in_at","last_sign_in_at","current_sign_in_ip","last_sign_in_ip","confirmation_token","confirmed_at","confirmation_sent_at","unconfirmed_email","created_at","updated_at","products_count","role_id") VALUES (3, '123@gg.com', '$2a$10$IABMJAp4CRtAMt4LUHE/m.kVzvgCDbWi8JpEqwFSpUOSa3USGSEf.', NULL, NULL, NULL, 1, '2015-08-08 14:46:21.641127', '2015-08-08 14:46:21.641127', '::1', '::1', NULL, NULL, NULL, NULL, '2015-08-08 14:46:21.584754', '2015-08-08 14:46:21.667733', 0, 3)
  [1m[36m (0.2ms)[0m  [1mDROP TABLE "ausers"[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?  [["version", "20150821160658"]]
  [1m[36m (6.4ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_profiles_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_profiles_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to UserCollection (20150821160658)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "users" ADD "collections_count" integer DEFAULT 0[0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "collections" ADD "user_id" integer DEFAULT 0
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "products" ADD "collections_count" integer DEFAULT 0[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150821160658"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_product_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_collection_items_on_collection_id' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_profiles_on_user_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_profiles_on_user_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_taggings_on_taggable_id_and_taggable_type_and_context' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='taggings_idx' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='taggings_idx' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_tags_on_name' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_tags_on_name' AND type='index'

  [1m[36m (0.2ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_reset_password_token' AND type='index'
[0m
  [1m[35m (0.2ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_users_on_email' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_users_on_email' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='fk_one_vote_per_user_per_entity' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voteable_id_and_voteable_type' AND type='index'

  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_votes_on_voter_id_and_voter_type' AND type='index'
[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "collection_items" ("collection_id", "product_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["collection_id", 8], ["product_id", 5], ["created_at", "2015-08-21 17:20:18.524580"], ["updated_at", "2015-08-21 17:20:18.524580"]]
  [1m[36mCollection Load (0.2ms)[0m  [1mSELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "collections" SET "products_count" = COALESCE("products_count", 0) + 1 WHERE "collections"."id" = ?  [["id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) + 1 WHERE "products"."id" = ?  [["id", 5]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35mCollection Load (0.3ms)[0m  SELECT  "collections".* FROM "collections"  ORDER BY "collections"."id" DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 8]]


Started GET "/collections/8" for ::1 at 2015-08-22 01:20:36 +0800
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.6ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 8]]
  [1m[35mCollectionItem Load (0.6ms)[0m  SELECT  "collection_items".* FROM "collection_items" WHERE "collection_items"."collection_id" = ? AND "collection_items"."product_id" = ? LIMIT 1  [["collection_id", 8], ["product_id", 5]]
  Rendered user_collections/show.html.erb within layouts/application (213.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (72.4ms)
Completed 200 OK in 1560ms (Views: 1397.5ms | ActiveRecord: 11.8ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:20:40 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 01:20:41 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:20:42 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:20:43 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:20:43 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 01:20:43 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:20:43 +0800


Started DELETE "/collections/8/collection_items/1" for ::1 at 2015-08-22 01:20:53 +0800

ActionController::RoutingError (uninitialized constant CollectionItemsController):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:59:in `controller'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:38:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (59.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (216.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (10.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (29.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (2670.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (3.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (19.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (5.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (107.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (205.7ms)


Started GET "/collections/8" for ::1 at 2015-08-22 01:21:09 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.8ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 8]]
  [1m[35mCollectionItem Load (0.9ms)[0m  SELECT  "collection_items".* FROM "collection_items" WHERE "collection_items"."collection_id" = ? AND "collection_items"."product_id" = ? LIMIT 1  [["collection_id", 8], ["product_id", 5]]
  Rendered user_collections/show.html.erb within layouts/application (52.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.8ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (63.7ms)
Completed 200 OK in 2213ms (Views: 2165.3ms | ActiveRecord: 5.1ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:21:12 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:21:12 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:21:12 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:21:12 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 01:21:12 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 01:21:12 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 01:21:12 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 01:21:12 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 01:21:13 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 01:21:14 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 01:21:14 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 01:21:14 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:21:14 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:21:14 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:21:14 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:21:14 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 01:21:14 +0800


Started DELETE "/collections/8/collection_items/1" for ::1 at 2015-08-22 01:21:38 +0800

ActionController::RoutingError (uninitialized constant CollectionItemsController):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:59:in `controller'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:38:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (60.0ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (104.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (5.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (7.4ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (1772.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.2ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (2.0ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (86.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (168.3ms)


Started GET "/collections/8" for ::1 at 2015-08-22 01:24:21 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.6ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.9ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 8]]
  [1m[35mCollectionItem Load (0.6ms)[0m  SELECT  "collection_items".* FROM "collection_items" WHERE "collection_items"."collection_id" = ? AND "collection_items"."product_id" = ? LIMIT 1  [["collection_id", 8], ["product_id", 5]]
  Rendered user_collections/show.html.erb within layouts/application (199.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.8ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.7ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (61.4ms)
Completed 200 OK in 1419ms (Views: 1257.2ms | ActiveRecord: 13.2ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 01:24:22 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:24:22 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 01:24:23 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 01:24:24 +0800


Started DELETE "/collections/8/collection_items/1" for ::1 at 2015-08-22 01:24:27 +0800

ActionController::RoutingError (uninitialized constant CollectionItemsController):
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `const_get'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:261:in `block in constantize'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `each'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `inject'
  activesupport (4.2.0) lib/active_support/inflector/methods.rb:259:in `constantize'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:59:in `controller'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:38:in `serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:43:in `block in serve'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `each'
  actionpack (4.2.0) lib/action_dispatch/journey/router.rb:30:in `serve'
  actionpack (4.2.0) lib/action_dispatch/routing/route_set.rb:802:in `call'
  warden (1.2.3) lib/warden/manager.rb:35:in `block in call'
  warden (1.2.3) lib/warden/manager.rb:34:in `catch'
  warden (1.2.3) lib/warden/manager.rb:34:in `call'
  rack (1.6.4) lib/rack/etag.rb:24:in `call'
  rack (1.6.4) lib/rack/conditionalget.rb:38:in `call'
  rack (1.6.4) lib/rack/head.rb:13:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/params_parser.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/flash.rb:260:in `call'
  rack (1.6.4) lib/rack/session/abstract/id.rb:225:in `context'
  rack (1.6.4) lib/rack/session/abstract/id.rb:220:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/cookies.rb:560:in `call'
  activerecord (4.2.0) lib/active_record/query_cache.rb:36:in `call'
  activerecord (4.2.0) lib/active_record/connection_adapters/abstract/connection_pool.rb:647:in `call'
  activerecord (4.2.0) lib/active_record/migration.rb:378:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.0) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:734:in `_run_call_callbacks'
  activesupport (4.2.0) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.0) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.0) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.0) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.0) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.0) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.0) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.0) lib/rails/engine.rb:518:in `call'
  railties (4.2.0) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/sherylhsu/.rbenv/versions/2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (35.6ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_route.html.erb (185.5ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/routes/_table.html.erb (8.8ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (9.9ms)
  Rendered /Users/sherylhsu/.gems/gems/actionpack-4.2.0/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (2160.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (2.4ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.9ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.8ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (1.7ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (73.6ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (2.3ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (2.5ms)
  Rendered /Users/sherylhsu/.gems/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (173.3ms)


Started GET "/collections/8" for ::1 at 2015-08-22 01:27:05 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (0.6ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.8ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 8]]
  [1m[35mCollectionItem Load (0.6ms)[0m  SELECT  "collection_items".* FROM "collection_items" WHERE "collection_items"."collection_id" = ? AND "collection_items"."product_id" = ? LIMIT 1  [["collection_id", 8], ["product_id", 5]]
  Rendered user_collections/show.html.erb within layouts/application (197.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.9ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (63.7ms)
Completed 200 OK in 1436ms (Views: 1292.9ms | ActiveRecord: 12.2ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 01:27:09 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:27:09 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:27:09 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:27:09 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:27:09 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 01:27:09 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 01:27:09 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 01:27:10 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 01:27:11 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 01:27:11 +0800


Started DELETE "/collections/8/collection_items/1" for ::1 at 2015-08-22 01:27:21 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by CollectionItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"SgzooXCUpm7+1nj3kmKambSdklqSEz/R4INzag8S/45grJ4oQVsc3pa8SWEy61faz2H+FWRoarfV/pLqFsNdXg==", "collection_id"=>"8", "id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollectionItem Load (0.6ms)[0m  [1mSELECT  "collection_items".* FROM "collection_items" WHERE "collection_items"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.6ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "collection_items" WHERE "collection_items"."id" = ?  [["id", 1]]
  [1m[36mCollection Load (0.9ms)[0m  [1mSELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "collections" SET "products_count" = COALESCE("products_count", 0) - 1 WHERE "collections"."id" = ?  [["id", 8]]
  [1m[36mProduct Load (0.7ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "products" SET "collections_count" = COALESCE("collections_count", 0) - 1 WHERE "products"."id" = ?  [["id", 5]]
  [1m[36m (5.8ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/collections/1
Completed 302 Found in 27612ms (ActiveRecord: 16.6ms)


Started GET "/collections/1" for ::1 at 2015-08-22 01:27:48 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.3ms)[0m  [1mSELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mProduct Load (0.6ms)[0m  SELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?  [["collection_id", 1]]
  Rendered user_collections/show.html.erb within layouts/application (57.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.7ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (73.2ms)
Completed 200 OK in 2279ms (Views: 2258.6ms | ActiveRecord: 4.3ms)


Started GET "/collections/1" for ::1 at 2015-08-22 01:27:53 +0800
Processing by UserCollectionsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCollection Load (9.3ms)[0m  SELECT  "collections".* FROM "collections" WHERE "collections"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" INNER JOIN "collection_items" ON "products"."id" = "collection_items"."product_id" WHERE "collection_items"."collection_id" = ?[0m  [["collection_id", 1]]
  Rendered user_collections/show.html.erb within layouts/application (11.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.7ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (26.0ms)
Completed 200 OK in 985ms (Views: 964.1ms | ActiveRecord: 11.1ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-08-22 01:27:54 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:27:55 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-08-22 01:27:56 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-08-22 01:27:56 +0800


Started GET "/collections" for ::1 at 2015-09-07 14:18:07 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserCollectionsController#index as HTML
Completed 401 Unauthorized in 56ms


Started GET "/users/sign_in" for ::1 at 2015-09-07 14:18:07 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (1.4ms)
  Rendered devise/sessions/new.html.erb within layouts/application (118.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (49.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (406.7ms)
Completed 200 OK in 1223ms (Views: 1144.2ms | ActiveRecord: 50.9ms)


Started GET "/collections" for ::1 at 2015-09-07 14:18:09 +0800
Processing by UserCollectionsController#index as HTML
Completed 401 Unauthorized in 1ms


Started GET "/users/sign_in" for ::1 at 2015-09-07 14:18:09 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (15.6ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 224ms (Views: 222.2ms | ActiveRecord: 0.3ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-09-07 14:18:09 +0800


Started POST "/users/sign_in" for ::1 at 2015-09-07 14:18:27 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"DRnmreCG81pa4h9HLGKroponIcdOgiHaEtOYg0BFSDJq0sk98SPVamXjneqJ6FLNrZBg9eaFE7CDbGf3U4a7Qg==", "user"=>{"email"=>"orange7886ro@hotmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[35mUser Load (15.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["email", "orange7886ro@hotmail.com"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_created_at", "2015-09-07 06:18:28.121399"], ["updated_at", "2015-09-07 06:18:28.123196"], ["id", 2]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "profiles" ("name", "user_id", "created_at") VALUES (?, ?, ?)[0m  [["name", "orange7886ro@hotmail.com"], ["user_id", 2], ["created_at", "2015-09-07 06:18:28.144468"]]
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["current_sign_in_at", "2015-09-07 06:18:28.177560"], ["sign_in_count", 2], ["updated_at", "2015-09-07 06:18:28.179582"], ["id", 2]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "profiles" ("name", "user_id", "created_at") VALUES (?, ?, ?)[0m  [["name", "orange7886ro@hotmail.com"], ["user_id", 2], ["created_at", "2015-09-07 06:18:28.182184"]]
  [1m[35m (1.4ms)[0m  commit transaction
Redirected to http://localhost:3000/collections
Completed 302 Found in 261ms (ActiveRecord: 21.4ms)


Started GET "/collections" for ::1 at 2015-09-07 14:18:28 +0800
Processing by UserCollectionsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCollection Load (0.4ms)[0m  SELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 2
  Rendered user_collections/index.html.erb within layouts/application (2.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (37.5ms)
Completed 200 OK in 216ms (Views: 183.7ms | ActiveRecord: 2.1ms)


Started GET "/" for ::1 at 2015-09-07 14:18:31 +0800
Processing by MainPagesController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (21.5ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (95.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (4.1ms)
Completed 200 OK in 248ms (Views: 222.3ms | ActiveRecord: 23.6ms)


Started GET "/products" for ::1 at 2015-09-07 14:19:59 +0800
Processing by UserProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (7.4ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (3.1ms)
Completed 200 OK in 167ms (Views: 162.7ms | ActiveRecord: 1.0ms)


Started GET "/products/new" for ::1 at 2015-09-07 14:20:02 +0800
Processing by UserProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
Redirected to http://localhost:3000/products.2
Completed 302 Found in 52ms (ActiveRecord: 0.3ms)


Started GET "/products.2" for ::1 at 2015-09-07 14:20:02 +0800
Processing by UserProductsController#index as 
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT "products".* FROM "products" WHERE "products"."user_id" = ?  [["user_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (5.1ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 3]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 165ms (Views: 162.4ms | ActiveRecord: 0.9ms)


Started DELETE "/users/sign_out" for ::1 at 2015-09-07 14:20:10 +0800
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"12Yo+EvDBJyE74CxPEjuMIGVny9Yh1/P93UYPPIJ06AKJz4XLFp+V+TtNsDGQYr3nMbS1hOWiOiaitea/qo5og=="}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", nil], ["updated_at", "2015-09-07 06:20:10.725627"], ["id", 2]]
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "profiles" ("name", "user_id", "created_at") VALUES (?, ?, ?)  [["name", "orange7886ro@hotmail.com"], ["user_id", 2], ["created_at", "2015-09-07 06:20:10.728540"]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)


Started GET "/" for ::1 at 2015-09-07 14:20:10 +0800
Processing by MainPagesController#index as HTML
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (24.8ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (2.2ms)
Completed 200 OK in 192ms (Views: 189.2ms | ActiveRecord: 1.8ms)


Started GET "/users/sign_in" for ::1 at 2015-09-07 14:20:12 +0800
Processing by Devise::SessionsController#new as HTML
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (19.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (2.3ms)
Completed 200 OK in 169ms (Views: 167.2ms | ActiveRecord: 0.3ms)


Started POST "/users/sign_in" for ::1 at 2015-09-07 14:20:43 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"djz6jWeoaGIFUC3fH69PAPjbV07HrPz3B2mpIpz3/zbhJvAc0Q96r7utJW/7QoWR41Fa23Vr93FF3fhaGrDDCg==", "user"=>{"email"=>"log_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "log_admin@takobearnet.com"]]
Completed 401 Unauthorized in 3ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"djz6jWeoaGIFUC3fH69PAPjbV07HrPz3B2mpIpz3/zbhJvAc0Q96r7utJW/7QoWR41Fa23Vr93FF3fhaGrDDCg==", "user"=>{"email"=>"log_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (17.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (3.0ms)
Completed 200 OK in 232ms (Views: 155.1ms | ActiveRecord: 0.5ms)


Started POST "/users/sign_in" for ::1 at 2015-09-07 14:20:54 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"753bjWfc/vWAmE2cs4S9xsomOKvCV0gyGY1VYMcKu6F4h9Ec0XvsOD5lRSxXaXdX0aw1PnCQQ7RbOQQYQU2HnQ==", "user"=>{"email"=>"log_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "log_admin@takobearnet.com"]]
Completed 401 Unauthorized in 3ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"753bjWfc/vWAmE2cs4S9xsomOKvCV0gyGY1VYMcKu6F4h9Ec0XvsOD5lRSxXaXdX0aw1PnCQQ7RbOQQYQU2HnQ==", "user"=>{"email"=>"log_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (16.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (2.4ms)
Completed 200 OK in 219ms (Views: 143.0ms | ActiveRecord: 0.3ms)


Started POST "/users/sign_in" for ::1 at 2015-09-07 14:21:03 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qmQxTWp49PfsRUHzCgNlpZjGipnEQUUVYiV5EGSIrt09fjvc3N/mOlK4SUPu7q80g0yHDHaGTpMgkSho4s+S4Q==", "user"=>{"email"=>"log_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "log_admin@takobearnet.com"]]
Completed 401 Unauthorized in 2ms
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"qmQxTWp49PfsRUHzCgNlpZjGipnEQUUVYiV5EGSIrt09fjvc3N/mOlK4SUPu7q80g0yHDHaGTpMgkSho4s+S4Q==", "user"=>{"email"=>"log_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  Rendered devise/shared/_links.html.erb (0.3ms)
  Rendered devise/sessions/new.html.erb within layouts/application (15.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered common/_navbar.html.erb (2.2ms)
Completed 200 OK in 228ms (Views: 150.0ms | ActiveRecord: 0.3ms)


Started POST "/users/sign_in" for ::1 at 2015-09-07 14:21:16 +0800
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Zp7K/WiWFjqbOpvHp6mUoL47U4Mm7Yp87zUtQ4dlpB/xhMBs3jEE9yXHk3dDRF4xpbFeFpQqgfqtgXw7ASKYIw==", "user"=>{"email"=>"blog_admin@takobearnet.com", "password"=>"[FILTERED]", "remember_me"=>"1"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "blog_admin@takobearnet.com"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_created_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_created_at", "2015-09-07 06:21:17.044065"], ["updated_at", "2015-09-07 06:21:17.045282"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "profiles" ("name", "user_id", "created_at") VALUES (?, ?, ?)  [["name", "blog_admin@takobearnet.com"], ["user_id", 1], ["created_at", "2015-09-07 06:21:17.047490"]]
  [1m[36m (5.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["last_sign_in_at", "2015-08-21 16:00:57.878675"], ["current_sign_in_at", "2015-09-07 06:21:17.055072"], ["sign_in_count", 6], ["updated_at", "2015-09-07 06:21:17.056994"], ["id", 1]]
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "profiles" ("name", "user_id", "created_at") VALUES (?, ?, ?)  [["name", "blog_admin@takobearnet.com"], ["user_id", 1], ["created_at", "2015-09-07 06:21:17.059964"]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 302 Found in 104ms (ActiveRecord: 8.5ms)


Started GET "/" for ::1 at 2015-09-07 14:21:17 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (14.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.4ms)
Completed 200 OK in 187ms (Views: 183.7ms | ActiveRecord: 2.0ms)


Started GET "/products" for ::1 at 2015-09-07 14:21:19 +0800
Processing by UserProductsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."user_id" = ?[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered user_products/index.html.erb within layouts/application (14.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 169ms (Views: 165.3ms | ActiveRecord: 1.6ms)


Started GET "/products/new" for ::1 at 2015-09-07 14:21:21 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/new.html.erb within layouts/application (76.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (2.0ms)
Completed 200 OK in 259ms (Views: 255.5ms | ActiveRecord: 0.7ms)


Started GET "/products/new" for ::1 at 2015-09-07 14:22:21 +0800
Processing by UserProductsController#new as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  Rendered user_products/new.html.erb within layouts/application (16.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 142ms (Views: 138.8ms | ActiveRecord: 0.6ms)


Started GET "/" for ::1 at 2015-09-07 14:28:03 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (31.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (24.8ms)
Completed 200 OK in 502ms (Views: 452.6ms | ActiveRecord: 3.3ms)


Started GET "/tags/8/products" for ::1 at 2015-09-07 14:28:05 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.4ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (23.5ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (11.7ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.6ms)
Completed 200 OK in 449ms (Views: 232.7ms | ActiveRecord: 25.5ms)


Started GET "/tags/9/products" for ::1 at 2015-09-07 14:28:08 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (9.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 161ms (Views: 155.4ms | ActiveRecord: 1.5ms)


Started GET "/tags/9/products/4/edit" for ::1 at 2015-09-07 14:28:12 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"9", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35m (0.2ms)[0m  SELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (65.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 258ms (Views: 253.6ms | ActiveRecord: 1.4ms)


Started PATCH "/tags/9/products/4" for ::1 at 2015-09-07 14:28:22 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"6fTEzoU2wt8mMXzLhbS9OgJD3CzAVx75lGMum1pEnljIILsExy1z18hGqb+hIbQJDr18fRNnBD7swOFRbWPGTg==", "product"=>{"title"=>"ggggg", "description"=>"", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fec02af3c28 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150907-53106-1ti0bta.jpg>, @original_filename="2013_cat_black_white_jellicle.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"2013_cat_black_white_jellicle.jpg\"\r\nContent-Type: image/jpeg\r\n">, "category_ids"=>["8", "9", ""]}, "commit"=>"Submit", "tag_id"=>"9", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameter: category_ids
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "products" SET "image" = ?, "updated_at" = ? WHERE "products"."id" = ?  [["image", "2013_cat_black_white_jellicle.jpg"], ["updated_at", "2015-09-07 06:28:23.471814"], ["id", 4]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.6ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.2ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 8  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 20]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mTag Exists (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品') OR LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Exists (0.2ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 4 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 4], ["taggable_type", "Product"], ["created_at", "2015-09-07 06:28:23.549562"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mTag Exists (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 9]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品') OR LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 4], ["taggable_type", "Product"]]
  [1m[35m (0.1ms)[0m  commit transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mTag Exists (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
Redirected to http://localhost:3000/tags/9/products
Completed 302 Found in 764ms (ActiveRecord: 10.4ms)


Started GET "/tags/9/products" for ::1 at 2015-09-07 14:28:23 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (9.5ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (5.7ms)
Completed 200 OK in 151ms (Views: 145.8ms | ActiveRecord: 1.9ms)


Started GET "/tags/8/products" for ::1 at 2015-09-07 14:28:30 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (9.2ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 149ms (Views: 144.1ms | ActiveRecord: 1.6ms)


Started GET "/tags/8/products/3/edit" for ::1 at 2015-09-07 14:28:34 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36m (0.1ms)[0m  [1mSELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 3], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 3], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (19.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 187ms (Views: 182.6ms | ActiveRecord: 1.2ms)


Started PATCH "/tags/8/products/3" for ::1 at 2015-09-07 14:28:41 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"0gmNgFv10xJHUc20FDhw4Vr2OT7JF0aoqf83xMjpzXrz3fJKGe5iGqkmGMAwrXnSVgiZbxonXG/RXPgO/86VbA==", "product"=>{"title"=>"fffffff", "description"=>"yo", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fec029aa5b0 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150907-53106-1fp2beu.jpg>, @original_filename="2013_cat_black_white_jellicle.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"2013_cat_black_white_jellicle.jpg\"\r\nContent-Type: image/jpeg\r\n">, "category_ids"=>["8", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"3"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameter: category_ids
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "products" SET "image" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["image", "2013_cat_black_white_jellicle.jpg"], ["updated_at", "2015-09-07 06:28:41.665125"], ["id", 3]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Load (0.1ms)[0m  SELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 8  [["taggable_id", 3], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "taggings" WHERE "taggings"."id" = ?[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mTag Exists (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 3], ["taggable_type", "Product"]]
  [1m[35mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  SELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 3 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 3], ["taggable_type", "Product"], ["created_at", "2015-09-07 06:28:41.701481"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mTag Exists (0.1ms)[0m  SELECT "tags".* FROM "tags" WHERE "tags"."id" = ?  [["id", nil]]
Redirected to http://localhost:3000/tags/8/products
Completed 302 Found in 560ms (ActiveRecord: 7.6ms)


Started GET "/tags/8/products" for ::1 at 2015-09-07 14:28:41 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'  [["voteable_id", 3], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (12.0ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.5ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.7ms)
Completed 200 OK in 170ms (Views: 164.1ms | ActiveRecord: 2.1ms)


Started GET "/tags/8/products/1/edit" for ::1 at 2015-09-07 14:28:49 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36m (0.1ms)[0m  [1mSELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mActsAsTaggableOn::Tag Load (0.1ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (18.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (4.8ms)
Completed 200 OK in 162ms (Views: 158.6ms | ActiveRecord: 1.0ms)


Started PATCH "/tags/8/products/1" for ::1 at 2015-09-07 14:28:55 +0800
Processing by CategoryProductsController#update as HTML
  Parameters: {"utf8"=>"✓", "authenticity_token"=>"Ws/O/u1HaCP3Iwl/vS2rlI41GKw9GZYlhJxqOefQe+57G7E0r1zZKxlU3AuZuKKngsu4/e4pjOL8P6Xz0Pcj+A==", "product"=>{"title"=>"Ｍ9", "description"=>"yo", "image"=>#<ActionDispatch::Http::UploadedFile:0x007fec00734aa8 @tempfile=#<Tempfile:/var/folders/pm/dtx43kqd39qd_q74d1ygt6bc0000gn/T/RackMultipart20150907-53106-r6w2l0.jpg>, @original_filename="2013_cat_black_white_jellicle.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"product[image]\"; filename=\"2013_cat_black_white_jellicle.jpg\"\r\nContent-Type: image/jpeg\r\n">, "category_ids"=>["8", "9", ""]}, "commit"=>"Submit", "tag_id"=>"8", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mTag Load (0.2ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mRole Load (0.2ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameter: category_ids
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "products" SET "image" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["image", "2013_cat_black_white_jellicle.jpg"], ["updated_at", "2015-09-07 06:28:55.818221"], ["id", 1]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Load (0.1ms)[0m  [1mSELECT "taggings".* FROM "taggings" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL AND "taggings"."context" = ? AND "taggings"."tag_id" = 8[0m  [["taggable_id", 1], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "taggings" WHERE "taggings"."id" = ?  [["id", 11]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) - 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 8]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品') OR LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36mActsAsTaggableOn::Tagging Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "taggings" WHERE ("taggings"."tag_id" = 8 AND "taggings"."taggable_type" = 'Product' AND "taggings"."taggable_id" = 1 AND "taggings"."context" = 'categorys' AND "taggings"."tagger_id" IS NULL AND "taggings"."tagger_type" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "taggings" ("tag_id", "context", "taggable_id", "taggable_type", "created_at") VALUES (?, ?, ?, ?, ?)  [["tag_id", 8], ["context", "categorys"], ["taggable_id", 1], ["taggable_type", "Product"], ["created_at", "2015-09-07 06:28:55.850170"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mSQL (0.1ms)[0m  UPDATE "tags" SET "taggings_count" = COALESCE("taggings_count", 0) + 1 WHERE "tags"."id" = ?  [["id", 8]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", 9]]
  [1m[35mTag Load (0.1ms)[0m  SELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)[0m  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mActsAsTaggableOn::Tag Load (0.2ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品') OR LOWER(name) = LOWER('消耗性電子產品'))[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND (taggings.context = 'categorys' AND taggings.tagger_id IS NULL)  [["taggable_id", 1], ["taggable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mcommit transaction[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mTag Exists (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" WHERE "tags"."id" = ?[0m  [["id", nil]]
Redirected to http://localhost:3000/tags/8/products
Completed 302 Found in 550ms (ActiveRecord: 8.6ms)


Started GET "/tags/8/products" for ::1 at 2015-09-07 14:28:55 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (10.4ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.9ms)
Completed 200 OK in 147ms (Views: 141.6ms | ActiveRecord: 2.0ms)


Started GET "/tags/8/products/4/edit" for ::1 at 2015-09-07 14:38:14 +0800
Processing by CategoryProductsController#edit as HTML
  Parameters: {"tag_id"=>"8", "id"=>"4"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mProduct Load (0.1ms)[0m  SELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mActsAsTaggableOn::Tag Load (0.4ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35m (0.2ms)[0m  SELECT "tags"."id" FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  [1m[36mActsAsTaggableOn::Tag Load (0.1ms)[0m  [1mSELECT "tags".* FROM "tags" INNER JOIN "taggings" ON "tags"."id" = "taggings"."tag_id" WHERE "taggings"."taggable_id" = ? AND "taggings"."taggable_type" = ? AND "taggings"."context" = ?[0m  [["taggable_id", 4], ["taggable_type", "Product"], ["context", "categorys"]]
  Rendered category_products/edit.html.erb within layouts/application (18.0ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.9ms)
Completed 200 OK in 188ms (Views: 185.0ms | ActiveRecord: 1.2ms)


Started GET "/collections.1" for ::1 at 2015-09-07 14:39:14 +0800
Processing by UserCollectionsController#index as 
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.1ms)[0m  [1mSELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1[0m
  Rendered user_collections/index.html.erb within layouts/application (2.2ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (4.3ms)
Completed 200 OK in 200ms (Views: 193.5ms | ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2015-09-07 14:39:21 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (13.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.2ms)
Completed 200 OK in 153ms (Views: 149.8ms | ActiveRecord: 1.7ms)


Started GET "/products/1/posts" for ::1 at 2015-09-07 14:39:48 +0800
Processing by ProductPostsController#index as HTML
  Parameters: {"product_id"=>"1"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT  "products".* FROM "products" WHERE "products"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPost Load (0.2ms)[0m  SELECT "posts".* FROM "posts" WHERE "posts"."product_id" = ?  [["product_id", 1]]
  Rendered product_posts/index.html.erb within layouts/application (2.3ms)
  [1m[36mActsAsTaggableOn::Tag Load (0.3ms)[0m  [1mSELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id[0m
  [1m[35mRole Load (0.1ms)[0m  SELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 142ms (Views: 132.3ms | ActiveRecord: 1.0ms)


Started GET "/" for ::1 at 2015-09-07 14:40:52 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (37.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (49.2ms)
Completed 200 OK in 743ms (Views: 639.5ms | ActiveRecord: 3.9ms)


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-09-07 14:40:53 +0800


Started GET "/" for ::1 at 2015-09-07 14:41:22 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (17.1ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.5ms)
Completed 200 OK in 205ms (Views: 201.4ms | ActiveRecord: 1.9ms)


Started GET "/assets/application.self-861977e674f0b59ff4dd48de8d40ef8343b12e6bb09e6fa0ecba0e99e31db472.css?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/jquery.self-d03a5518f45df77341bdbe6201ba3bfa547ebba8ed64f0ea56bfa5f96ea7c074.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/post_comments.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/main_pages.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/user_products.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/product_posts.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/jquery_ujs.self-ca5248a2fad13d6bd58ea121318d642f195f0b2dd818b30615f785ff365e8d1f.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/affix.self-d2b642d8fbfc1d7041e2edefd66683ada567a980789dcd6f94fddda0b33408b5.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/alert.self-a29e91e8cd3ddaba9bbc466901d53ec2127e9256b9b941905d525a3a716bd1a5.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/button.self-a6cb16785434acb365ae426aef9f1fce05ed553cae7a965e4471c3da71509175.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/carousel.self-57eb8422043cf0a85b7a9dc6843916eb0a3e35b419c7798a5eb254b918997631.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/collapse.self-7dc8bfbc2fbfabd2bad62c58ff8ffeaf8f20fb87c7ca6cd35f06d4dc19632587.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/dropdown.self-9314126777c6be5443e37ea7f7967d7914d72b3e60449ba50edc967446373059.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/tab.self-122235057fbd4c6c7da377d59dc58f47b44cb1088a2e38e6ee6ce9d8ac29a26a.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/transition.self-09ff30b1e8a93d1f7728b9855f55d9c9d8d5734c8861e0d8139994e50944572a.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/scrollspy.self-a155b9d4b2f978905f0326c0f6635e1134fe91c6bfbfcbad079fa24a9fef2b0e.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/modal.self-72f95ffa1071297725a9ac91989693d56d1abf23f441a47455073b0da2857a5b.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/popover.self-77d8e3a2499c1104ef146396a68b82469ee2bdb365199b874694698d10405e9a.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap/tooltip.self-11cf547be953f25f511cec668f6690473fd97b2f65502e4032f4030999a3f0c3.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/bootstrap-sprockets.self-fbfa5ad7d9aa0afe439ec4ff3883acc4cb92b62cb67c40d674320c9aa1d4642d.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/main_pages.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/post_comments.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/product_posts.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/application.self-f8806224e027f3e3f0138ea9ce99319e298dfdb323304d1f1be6eae8e8c74724.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/assets/user_products.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-07 14:41:23 +0800


Started GET "/collections" for ::1 at 2015-09-07 15:51:08 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UserCollectionsController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCollection Load (0.1ms)[0m  [1mSELECT "collections".* FROM "collections" WHERE "collections"."user_id" = 1[0m
  Rendered user_collections/index.html.erb within layouts/application (3.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (153.6ms)
Completed 200 OK in 779ms (Views: 704.2ms | ActiveRecord: 2.7ms)


Started GET "/profiles/1" for ::1 at 2015-09-07 15:51:12 +0800
Processing by UserProfileController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."user_id" = ? LIMIT 1[0m  [["user_id", 1]]
  Rendered user_profile/show.html.erb within layouts/application (1.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (5.2ms)
Completed 200 OK in 187ms (Views: 176.4ms | ActiveRecord: 1.2ms)


Started GET "/tags/8/products" for ::1 at 2015-09-07 17:14:51 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (17.0ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (49.3ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 462ms (Views: 256.6ms | ActiveRecord: 19.2ms)


Started GET "/tags/9/products" for ::1 at 2015-09-07 17:14:53 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (6.8ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 159ms (Views: 153.8ms | ActiveRecord: 1.5ms)


Started GET "/" for ::1 at 2015-09-07 17:14:54 +0800
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (15.6ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.4ms)
Completed 200 OK in 146ms (Views: 142.6ms | ActiveRecord: 1.9ms)


Started GET "/" for ::1 at 2015-09-08 23:03:52 +0800
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by MainPagesController#index as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "last_sign_in_at" = ?, "current_sign_in_at" = ?, "sign_in_count" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["last_sign_in_at", "2015-09-07 06:21:17.055072"], ["current_sign_in_at", "2015-09-08 15:03:52.342992"], ["sign_in_count", 7], ["updated_at", "2015-09-08 15:03:52.344837"], ["id", 1]]
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "profiles" ("name", "user_id", "created_at") VALUES (?, ?, ?)[0m  [["name", "blog_admin@takobearnet.com"], ["user_id", 1], ["created_at", "2015-09-08 15:03:52.367945"]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products"[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 2], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 5], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 5], ["voteable_type", "Product"]]
  Rendered main_pages/index.html.erb within layouts/application (85.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (78.6ms)
Completed 200 OK in 5117ms (Views: 4950.2ms | ActiveRecord: 11.5ms)


Started GET "/tags/8/products" for ::1 at 2015-09-08 23:04:08 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.2ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (15.4ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (13.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.5ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.2ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (6.7ms)
Completed 200 OK in 372ms (Views: 176.9ms | ActiveRecord: 17.4ms)


Started GET "/tags/8/products" for ::1 at 2015-09-08 23:06:09 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"8"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('消耗性電子產品'))
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_b09ab37 WHERE produ_catego_taggings_b09ab37.taggable_id = products.id AND produ_catego_taggings_b09ab37.taggable_type = 'Product' AND produ_catego_taggings_b09ab37.context = 'categorys' AND produ_catego_taggings_b09ab37.tag_id in (8)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 3], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (82.5ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.4ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.8ms)
Completed 200 OK in 212ms (Views: 206.0ms | ActiveRecord: 1.9ms)


Started GET "/tags/9/products" for ::1 at 2015-09-08 23:06:14 +0800
Processing by CategoryProductsController#index as HTML
  Parameters: {"tag_id"=>"9"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ?  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mTag Load (0.1ms)[0m  [1mSELECT  "tags".* FROM "tags" WHERE "tags"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mActsAsTaggableOn::Tag Load (0.2ms)[0m  SELECT "tags".* FROM "tags" WHERE (LOWER(name) = LOWER('3c產品'))
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT "products".* FROM "products" WHERE (EXISTS (SELECT 1 FROM taggings produ_catego_taggings_c866c4d WHERE produ_catego_taggings_c866c4d.taggable_id = products.id AND produ_catego_taggings_c866c4d.taggable_type = 'Product' AND produ_catego_taggings_c866c4d.context = 'categorys' AND produ_catego_taggings_c866c4d.tag_id in (9)))  ORDER BY "products"."updated_at" ASC[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 4], ["voteable_type", "Product"]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 't'  [["voteable_id", 1], ["voteable_type", "Product"]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "votes" WHERE "votes"."voteable_id" = ? AND "votes"."voteable_type" = ? AND "votes"."vote" = 'f'[0m  [["voteable_id", 1], ["voteable_type", "Product"]]
  Rendered category_products/index.html.erb within layouts/application (7.0ms)
  [1m[35mActsAsTaggableOn::Tag Load (0.3ms)[0m  SELECT tags.*, taggings.tags_count AS count FROM "tags" JOIN (SELECT taggings.tag_id, COUNT(taggings.tag_id) AS tags_count FROM "taggings" INNER JOIN products ON products.id = taggings.taggable_id WHERE (taggings.taggable_type = 'Product' AND taggings.context = 'categorys') AND (taggings.taggable_id IN(SELECT products.id FROM "products")) GROUP BY taggings.tag_id HAVING COUNT(taggings.tag_id) > 0) AS taggings ON taggings.tag_id = tags.id
  [1m[36mRole Load (0.1ms)[0m  [1mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT 1[0m  [["id", 1]]
  Rendered common/_navbar.html.erb (3.3ms)
Completed 200 OK in 133ms (Views: 128.3ms | ActiveRecord: 1.4ms)
